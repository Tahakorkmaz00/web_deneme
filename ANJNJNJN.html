<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="StrumAI - AI-powered guitar rhythm patterns for any song. Get personalized strumming patterns instantly.">
    <meta name="keywords" content="guitar, rhythm, strumming, AI, music learning">
    <title>StrumAI - AI-Powered Guitar Rhythms</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">

        :root {
            --bg-dark: #0a0a0a;
            --bg-card: #161616;
            --accent-orange: #ff6b35;
            --accent-green: #00ff9f;
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --border-color: #2a2a2a;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-primary);
            overflow-x: hidden;
            line-height: 1.6;
        }

        .strum-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
            opacity: 0.15;
        }

        .strum-icon {
            position: absolute;
            font-size: 3rem;
            color: var(--accent-orange);
            animation: floatStrum 6s ease-in-out infinite;
        }

        .strum-icon:nth-child(1) { top: 10%; left: 10%; animation-delay: 0s; }
        .strum-icon:nth-child(2) { top: 20%; right: 15%; animation-delay: 1s; }
        .strum-icon:nth-child(3) { bottom: 30%; left: 20%; animation-delay: 2s; }
        .strum-icon:nth-child(4) { bottom: 15%; right: 25%; animation-delay: 3s; }
        .strum-icon:nth-child(5) { top: 50%; left: 5%; animation-delay: 4s; }
        .strum-icon:nth-child(6) { top: 60%; right: 10%; animation-delay: 5s; }

        @keyframes floatStrum {
            0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.3; }
            50% { transform: translateY(-30px) rotate(5deg); opacity: 0.6; }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
            position: relative;
            z-index: 1;
        }

        header {
            padding: 32px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2rem;
            letter-spacing: 2px;
            background: linear-gradient(135deg, var(--accent-orange), var(--accent-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tagline {
            font-size: 0.875rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .hero {
            padding: 120px 0 100px;
            text-align: center;
            position: relative;
        }

        .hero h1 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(2.5rem, 8vw, 5rem);
            line-height: 1.1;
            margin-bottom: 24px;
            letter-spacing: 1px;
            animation: fadeInUp 0.8s ease-out;
        }

        .hero h1 .highlight {
            background: linear-gradient(135deg, var(--accent-orange), var(--accent-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero .subtitle {
            font-size: clamp(1rem, 2vw, 1.25rem);
            color: var(--text-secondary);
            margin-bottom: 48px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            animation: fadeInUp 0.8s ease-out 0.2s backwards;
        }

        .search-container {
            max-width: 600px;
            margin: 0 auto 24px;
            position: relative;
            animation: fadeInUp 0.8s ease-out 0.4s backwards;
        }

        .search-input {
            width: 100%;
            padding: 20px 24px;
            font-size: 1.125rem;
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 16px;
            color: var(--text-primary);
            font-family: 'DM Sans', sans-serif;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-orange);
            box-shadow: 0 0 0 4px rgba(255, 107, 53, 0.1);
        }

        .search-input::placeholder {
            color: var(--text-secondary);
        }

        .cta-button {
            background: linear-gradient(135deg, var(--accent-orange), #ff8556);
            color: white;
            border: none;
            padding: 18px 48px;
            font-size: 1.125rem;
            font-weight: 700;
            border-radius: 12px;
            cursor: pointer;
            font-family: 'DM Sans', sans-serif;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 8px 24px rgba(255, 107, 53, 0.3);
            animation: fadeInUp 0.8s ease-out 0.6s backwards;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(255, 107, 53, 0.4);
        }

        .cta-button:active {
            transform: translateY(0);
        }

        .how-it-works {
            padding: 100px 0;
            background: linear-gradient(180deg, transparent, rgba(255, 107, 53, 0.03), transparent);
        }

        .section-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(2rem, 5vw, 3rem);
            text-align: center;
            margin-bottom: 64px;
            letter-spacing: 1px;
        }

        .steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 48px;
        }

        .step {
            text-align: center;
            padding: 32px;
            background: var(--bg-card);
            border-radius: 24px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .step:hover {
            transform: translateY(-8px);
            border-color: var(--accent-orange);
            box-shadow: 0 16px 48px rgba(255, 107, 53, 0.15);
        }

        .step-icon {
            font-size: 3rem;
            margin-bottom: 24px;
            display: inline-block;
            animation: bounce 2s ease-in-out infinite;
        }

        .step:nth-child(2) .step-icon {
            animation-delay: 0.2s;
        }

        .step:nth-child(3) .step-icon {
            animation-delay: 0.4s;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .step h3 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.5rem;
            margin-bottom: 12px;
            letter-spacing: 1px;
        }

        .step p {
            color: var(--text-secondary);
        }

        .rhythm-preview {
            padding: 100px 0;
        }

        .preview-card {
            max-width: 800px;
            margin: 0 auto;
            background: var(--bg-card);
            border-radius: 32px;
            padding: 48px;
            border: 1px solid var(--border-color);
            box-shadow: 0 24px 64px rgba(0, 0, 0, 0.4);
        }

        .song-info {
            text-align: center;
            margin-bottom: 40px;
        }

        .song-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2rem;
            margin-bottom: 8px;
            letter-spacing: 1px;
        }

        .tempo {
            color: var(--accent-green);
            font-weight: 700;
            font-size: 1.125rem;
        }

        .pattern-display {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 24px;
            margin: 48px 0;
            font-family: 'Bebas Neue', sans-serif;
            font-size: 4rem;
            letter-spacing: 8px;
        }

        .strum {
            display: inline-block;
            animation: strumPulse 1.2s ease-in-out infinite;
        }

        .strum:nth-child(1) { animation-delay: 0s; color: var(--accent-orange); }
        .strum:nth-child(2) { animation-delay: 0.3s; color: var(--accent-green); }
        .strum:nth-child(3) { animation-delay: 0.6s; color: var(--accent-orange); }
        .strum:nth-child(4) { animation-delay: 0.9s; color: var(--accent-green); }

        @keyframes strumPulse {
            0%, 100% { transform: scale(1); opacity: 0.6; }
            50% { transform: scale(1.2); opacity: 1; }
        }

        .speed-controls {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-top: 32px;
        }

        .speed-btn {
            padding: 12px 32px;
            background: transparent;
            border: 2px solid var(--border-color);
            color: var(--text-secondary);
            border-radius: 8px;
            cursor: pointer;
            font-family: 'DM Sans', sans-serif;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .speed-btn:hover,
        .speed-btn.active {
            border-color: var(--accent-orange);
            color: var(--accent-orange);
            background: rgba(255, 107, 53, 0.1);
        }

        .why-section {
            padding: 100px 0;
            background: linear-gradient(180deg, transparent, rgba(0, 255, 159, 0.03), transparent);
        }

        .benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 32px;
            margin-top: 48px;
        }

        .benefit {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            padding: 24px;
            background: var(--bg-card);
            border-radius: 16px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .benefit:hover {
            border-color: var(--accent-green);
            transform: translateX(8px);
        }

        .benefit-icon {
            color: var(--accent-orange);
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .benefit h3 {
            font-weight: 700;
            margin-bottom: 8px;
        }

        .benefit p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        /* Practice Screen Styles */
        .practice-screen {
            min-height: 100vh;
            padding: 60px 0 100px;
            background: var(--bg-dark);
        }

        .back-button {
            background: transparent;
            border: 2px solid var(--border-color);
            color: var(--text-primary);
            padding: 12px 24px;
            border-radius: 8px;
            font-family: 'DM Sans', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 32px;
            font-size: 1rem;
        }

        .back-button:hover {
            border-color: var(--accent-orange);
            color: var(--accent-orange);
        }

        .practice-card {
            max-width: 900px;
            margin: 0 auto;
            background: var(--bg-card);
            border-radius: 32px;
            padding: 48px;
            border: 1px solid var(--border-color);
            box-shadow: 0 24px 64px rgba(0, 0, 0, 0.4);
        }

        .practice-header {
            text-align: center;
            margin-bottom: 48px;
        }

        .practice-pattern {
            margin: 48px 0;
        }

        .practice-tip {
            text-align: center;
            font-size: 1.125rem;
            color: var(--accent-green);
            font-weight: 600;
            padding: 16px;
            background: rgba(0, 255, 159, 0.05);
            border-radius: 12px;
            margin-bottom: 48px;
        }

        .metronome-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 32px;
            margin-bottom: 48px;
        }

        .bpm-control {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .bpm-btn {
            width: 56px;
            height: 56px;
            background: var(--bg-dark);
            border: 2px solid var(--border-color);
            color: var(--text-primary);
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 700;
        }

        .bpm-btn:hover {
            border-color: var(--accent-orange);
            color: var(--accent-orange);
            transform: scale(1.1);
        }

        .bpm-display {
            text-align: center;
            min-width: 120px;
        }

        .play-pause-btn {
            background: linear-gradient(135deg, var(--accent-orange), #ff8556);
            color: white;
            border: none;
            padding: 20px 56px;
            font-size: 1.25rem;
            font-weight: 700;
            border-radius: 12px;
            cursor: pointer;
            font-family: 'DM Sans', sans-serif;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 8px 24px rgba(255, 107, 53, 0.3);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .play-pause-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(255, 107, 53, 0.4);
        }

        .play-pause-btn:active {
            transform: translateY(0);
        }

        .beat-indicator {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-bottom: 48px;
        }

        .beat {
            width: 64px;
            height: 64px;
            background: var(--bg-dark);
            border: 2px solid var(--border-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.5rem;
            color: var(--text-secondary);
            transition: all 0.15s ease;
        }

        .beat.active {
            background: var(--accent-orange);
            border-color: var(--accent-orange);
            color: white;
            transform: scale(1.2);
            box-shadow: 0 0 24px rgba(255, 107, 53, 0.5);
        }

        .beat.strong-beat.active {
            background: var(--accent-green);
            border-color: var(--accent-green);
        }

        .practice-tips-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
            margin-top: 32px;
        }

        .tip-item {
            padding: 16px;
            background: rgba(255, 107, 53, 0.05);
            border-radius: 12px;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            font-size: 0.95rem;
            text-align: center;
        }

        /* Interactive Rhythm Cards */
        .rhythm-option-btn {
            transition: all 0.3s ease;
        }

        .rhythm-option-btn:hover {
            border-color: var(--accent-orange) !important;
            color: var(--accent-orange) !important;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 107, 53, 0.2);
        }

        /* Select Rhythm Button */
        .select-rhythm-btn {
            background: linear-gradient(135deg, var(--accent-green), #00d68f);
            color: white;
            border: none;
            padding: 16px 40px;
            font-size: 1.125rem;
            font-weight: 700;
            border-radius: 12px;
            cursor: pointer;
            font-family: 'DM Sans', sans-serif;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 8px 24px rgba(0, 255, 159, 0.3);
            margin-top: 24px;
        }

        .select-rhythm-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(0, 255, 159, 0.4);
        }

        .select-rhythm-btn:active {
            transform: translateY(0);
        }

        .social-proof {
            padding: 100px 0;
        }

        .proof-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 48px;
            align-items: center;
        }

        .phone-mockup {
            background: linear-gradient(135deg, #2a2a2a, #1a1a1a);
            border-radius: 32px;
            padding: 16px;
            box-shadow: 0 24px 64px rgba(0, 0, 0, 0.6);
            border: 8px solid #1a1a1a;
            max-width: 320px;
            margin: 0 auto;
        }

        .phone-screen {
            background: var(--bg-dark);
            border-radius: 24px;
            padding: 32px 24px;
            aspect-ratio: 9/16;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .phone-screen .play-icon {
            font-size: 4rem;
            color: var(--accent-orange);
            margin-bottom: 24px;
        }

        .testimonials {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .testimonial {
            background: var(--bg-card);
            padding: 24px;
            border-radius: 16px;
            border-left: 4px solid var(--accent-orange);
        }

        .testimonial p {
            font-style: italic;
            margin-bottom: 12px;
        }

        .testimonial .author {
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .final-cta {
            padding: 120px 0;
            text-align: center;
        }

        .final-cta h2 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(2.5rem, 6vw, 4rem);
            margin-bottom: 48px;
            letter-spacing: 1px;
        }

        footer {
            padding: 64px 0 32px;
            border-top: 1px solid var(--border-color);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 48px;
            margin-bottom: 48px;
        }

        .footer-section h4 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.5rem;
            margin-bottom: 16px;
            letter-spacing: 1px;
        }

        .social-links {
            display: flex;
            gap: 16px;
            margin-top: 16px;
        }

        .social-link {
            width: 48px;
            height: 48px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-primary);
            text-decoration: none;
            font-size: 1.25rem;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            border-color: var(--accent-orange);
            color: var(--accent-orange);
            transform: translateY(-4px);
        }

        .disclaimer {
            color: var(--text-secondary);
            font-size: 0.875rem;
            line-height: 1.6;
            padding: 32px 0;
            border-top: 1px solid var(--border-color);
            text-align: center;
        }

        .loading {
            display: none;
            text-align: center;
            margin-top: 32px;
        }

        .loading.active {
            display: block;
        }

        .loading-spinner {
            width: 48px;
            height: 48px;
            border: 4px solid var(--border-color);
            border-top-color: var(--accent-orange);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 16px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            color: var(--text-secondary);
            font-style: italic;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .hero {
                padding: 80px 0 60px;
            }

            .how-it-works,
            .rhythm-preview,
            .why-section,
            .social-proof,
            .final-cta {
                padding: 60px 0;
            }

            .preview-card {
                padding: 32px 24px;
            }

            .pattern-display {
                font-size: 3rem;
                gap: 16px;
            }

            .speed-controls {
                flex-direction: column;
            }

            .speed-btn {
                width: 100%;
            }

            .steps {
                gap: 32px;
            }

            .practice-card {
                padding: 32px 24px;
            }

            .beat-indicator {
                gap: 12px;
            }

            .beat {
                width: 56px;
                height: 56px;
                font-size: 1.25rem;
            }

            .practice-tips-list {
                grid-template-columns: 1fr;
            }

            .bpm-control {
                gap: 16px;
            }

            .play-pause-btn {
                padding: 18px 40px;
                font-size: 1.125rem;
            }
        }
    </style>
</head>
<body>
    <div class="strum-background">
        <div class="strum-icon">‚Üì</div>
        <div class="strum-icon">‚Üë</div>
        <div class="strum-icon">‚Üì</div>
        <div class="strum-icon">‚Üë</div>
        <div class="strum-icon">‚Üì</div>
        <div class="strum-icon">‚Üë</div>
    </div>

    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">StrumAI</div>
                <div class="tagline">AI for Guitar Players</div>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h1>
                Type the song you want to play.<br>
                Get the <span class="highlight">rhythm instantly.</span>
            </h1>
            <p class="subtitle">
                AI-powered guitar strumming patterns tailored to the song you choose.
            </p>
            <div class="search-container">
                <input 
                    type="text" 
                    class="search-input" 
                    placeholder="Enter a song name (e.g. Duman ‚Äì Senden Daha G√ºzel)"
                    id="songInput"
                >
            </div>
            <button class="cta-button" onclick="showRhythm()">Show Me the Rhythm</button>
            
            <div class="loading" id="loading">
                <div class="loading-spinner"></div>
                <p class="loading-text">Analyzing rhythm...</p>
            </div>
        </div>
    </section>

    <section class="how-it-works">
        <div class="container">
            <h2 class="section-title">How It Works</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-icon">üéµ</div>
                    <h3>Type the Song Name</h3>
                    <p>Just enter the song you want to play. Any song, any artist.</p>
                </div>
                <div class="step">
                    <div class="step-icon">ü§ñ</div>
                    <h3>Let AI Analyze the Vibe</h3>
                    <p>Our AI understands the mood, tempo, and energy of your song.</p>
                </div>
                <div class="step">
                    <div class="step-icon">üé∏</div>
                    <h3>Play and Feel the Groove</h3>
                    <p>Get a strumming pattern that makes your song flow perfectly.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="rhythm-preview">
        <div class="container">
            <h2 class="section-title">Rhythm Preview</h2>
            <div class="preview-card">
                <div class="song-info">
                    <h3 class="song-title">Duman ‚Äì Senden Daha G√ºzel</h3>
                    <p class="tempo">Estimated Tempo: 92 BPM</p>
                </div>
                
                <div class="pattern-display">
                    <span class="strum">‚Üì</span>
                    <span class="strum">‚Üì‚Üë</span>
                    <span class="strum">‚Üì‚Üë</span>
                </div>
                
                <div class="speed-controls">
                    <button class="speed-btn" onclick="changeSpeed('slow')">Slow</button>
                    <button class="speed-btn active" onclick="changeSpeed('normal')">Normal</button>
                    <button class="speed-btn" onclick="changeSpeed('fast')">Fast</button>
                </div>
            </div>
        </div>
    </section>

    <section class="why-section">
        <div class="container">
            <h2 class="section-title">Why StrumAI?</h2>
            <div class="benefits">
                <div class="benefit">
                    <div class="benefit-icon">üéº</div>
                    <div>
                        <h3>More Musical Than a Metronome</h3>
                        <p>Feel the rhythm in context, not just the beat.</p>
                    </div>
                </div>
                <div class="benefit">
                    <div class="benefit-icon">‚è±Ô∏è</div>
                    <div>
                        <h3>No More Endless Searching</h3>
                        <p>Skip hours of YouTube tutorials. Get your pattern instantly.</p>
                    </div>
                </div>
                <div class="benefit">
                    <div class="benefit-icon">üí¨</div>
                    <div>
                        <h3>Guitarist-Friendly Language</h3>
                        <p>We speak your language. No confusing music theory.</p>
                    </div>
                </div>
                <div class="benefit">
                    <div class="benefit-icon">üå±</div>
                    <div>
                        <h3>Perfect for Beginners</h3>
                        <p>Start playing songs you love, from day one.</p>
                    </div>
                </div>
                <div class="benefit">
                    <div class="benefit-icon">üì±</div>
                    <div>
                        <h3>Share Your Progress</h3>
                        <p>Show your friends what you're learning on social media.</p>
                    </div>
                </div>
                <div class="benefit">
                    <div class="benefit-icon">üéØ</div>
                    <div>
                        <h3>Song-Specific Patterns</h3>
                        <p>Every song gets a unique rhythm that captures its essence.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="social-proof">
        <div class="container">
            <h2 class="section-title">Players Love It</h2>
            <div class="proof-container">
                <div class="phone-mockup">
                    <div class="phone-screen">
                        <div class="play-icon">‚ñ∂</div>
                        <p style="color: var(--text-secondary); font-style: italic;">
                            "This rhythm was suggested by AI"
                        </p>
                        <p style="margin-top: 16px; color: var(--accent-green); font-weight: 700;">
                            This song finally flows
                        </p>
                    </div>
                </div>
                
                <div class="testimonials">
                    <div class="testimonial">
                        <p>"I've been struggling with this song for weeks. StrumAI gave me the pattern in seconds and now it sounds amazing!"</p>
                        <div class="author">‚Äî Sarah, beginner guitarist</div>
                    </div>
                    <div class="testimonial">
                        <p>"Finally, an app that understands what guitarists actually need. Not just tabs, but the feel of the song."</p>
                        <div class="author">‚Äî Miguel, 3 years playing</div>
                    </div>
                    <div class="testimonial">
                        <p>"My students love it. They can practice at different speeds and actually feel like they're playing the real song."</p>
                        <div class="author">‚Äî Alex, guitar teacher</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="final-cta">
        <div class="container">
            <h2>What song do you want to play?</h2>
            <div class="search-container">
                <input 
                    type="text" 
                    class="search-input" 
                    placeholder="Enter a song name..."
                    id="songInput2"
                >
            </div>
            <button class="cta-button" onclick="showRhythm()">Try It Now</button>
        </div>
    </section>

    <!-- Practice Screen (Hidden by default) -->
    <section class="practice-screen" id="practiceScreen" style="display: none;">
        <div class="container">
            <button class="back-button" onclick="exitPractice()">
                ‚Üê Back to Results
            </button>
            
            <div class="practice-card">
                <div class="practice-header">
                    <h2 id="practiceSongTitle" class="song-title"></h2>
                    <p id="practiceStyleLabel" style="color: var(--accent-green); font-weight: 700; font-size: 1.125rem;"></p>
                </div>

                <div class="practice-pattern">
                    <div id="practicePatternDisplay" class="pattern-display"></div>
                </div>

                <div class="practice-tip" id="practiceTip">
                    Start slow
                </div>

                <div class="metronome-controls">
                    <div class="bpm-control">
                        <button class="bpm-btn" onclick="adjustBPM(-5)">‚àí</button>
                        <div class="bpm-display">
                            <span id="currentBPM" style="font-family: 'Bebas Neue', sans-serif; font-size: 3rem; color: var(--accent-orange);">92</span>
                            <span style="color: var(--text-secondary); font-size: 1rem; display: block; margin-top: -8px;">BPM</span>
                        </div>
                        <button class="bpm-btn" onclick="adjustBPM(5)">+</button>
                    </div>

                    <button class="play-pause-btn" id="playPauseBtn" onclick="toggleMetronome()">
                        <span id="playPauseIcon">‚ñ∂</span> <span id="playPauseText">Start Practice</span>
                    </button>
                </div>

                <div class="beat-indicator">
                    <div class="beat" data-beat="1">1</div>
                    <div class="beat" data-beat="2">2</div>
                    <div class="beat" data-beat="3">3</div>
                    <div class="beat" data-beat="4">4</div>
                </div>

                <div class="practice-tips-list">
                    <div class="tip-item" id="tip1">üí° Accent the downbeat</div>
                    <div class="tip-item" id="tip2">üí° Relax your strumming hand</div>
                    <div class="tip-item" id="tip3">üí° Keep your wrist loose</div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>StrumAI</h4>
                    <p style="color: var(--text-secondary);">AI-powered guitar rhythms for the songs you love.</p>
                    <div class="social-links">
                        <a href="#" class="social-link" aria-label="Instagram">üì∑</a>
                        <a href="#" class="social-link" aria-label="Twitter">üê¶</a>
                        <a href="#" class="social-link" aria-label="YouTube">‚ñ∂Ô∏è</a>
                        <a href="#" class="social-link" aria-label="TikTok">üéµ</a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Product</h4>
                    <p style="color: var(--text-secondary); font-size: 0.95rem; line-height: 2;">
                        How It Works<br>
                        Pricing<br>
                        FAQ<br>
                        Support
                    </p>
                </div>
                <div class="footer-section">
                    <h4>Company</h4>
                    <p style="color: var(--text-secondary); font-size: 0.95rem; line-height: 2;">
                        About Us<br>
                        Blog<br>
                        Contact<br>
                        Privacy Policy
                    </p>
                </div>
            </div>
            
            <div class="disclaimer">
                <p>This app does not provide exact copies of original songs. It suggests rhythm patterns inspired by the song's style. All patterns are AI-generated interpretations designed to help you learn and play guitar.</p>
                <p style="margin-top: 16px;">¬© 2024 StrumAI. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Rhythm library - 15 curated rhythm objects (authoritative source)
        const rhythmLibrary = [
            {
                id: 1,
                name: 'Basic Downstroke',
                pattern: '‚Üì ‚Üì ‚Üì ‚Üì',
                bpm: [70, 100],
                density: 'low',
                energy: 'low',
                complexity: 'beginner',
                feel: 'steady / folk',
                best_for: ['folk', 'slow pop'],
                practice_tip: 'Lock each downstroke directly to the beat. Focus on timing, not volume.'
            },
            {
                id: 2,
                name: 'Folk Rock Basic',
                pattern: '‚Üì ‚Üì‚Üë ‚Üì ‚Üì',
                bpm: [80, 110],
                density: 'medium',
                energy: 'medium',
                complexity: 'beginner',
                feel: 'pop / folk',
                best_for: ['pop', 'acoustic', 'singer-songwriter'],
                practice_tip: 'Keep upstrokes lighter than downstrokes for clarity.'
            },
            {
                id: 3,
                name: 'Pop 8th Groove',
                pattern: '‚Üì ‚Üì‚Üë ‚Üì‚Üë ‚Üì‚Üë',
                bpm: [85, 115],
                density: 'medium',
                energy: 'medium',
                complexity: 'beginner‚Äìintermediate',
                feel: 'flowing / pop',
                best_for: ['pop', 'acoustic covers'],
                practice_tip: 'Maintain constant hand motion, even during silent strokes.'
            },
            {
                id: 4,
                name: 'Classic Pop Strum',
                pattern: '‚Üì  ‚Üì‚Üë  ‚Üì',
                bpm: [75, 105],
                density: 'medium',
                energy: 'medium',
                complexity: 'beginner',
                feel: 'relaxed / pop',
                best_for: ['pop ballads', 'Turkish pop'],
                practice_tip: 'Accent the first downstroke of each bar.'
            },
            {
                id: 5,
                name: 'Pop Rock Driver',
                pattern: '‚Üì ‚Üì ‚Üì‚Üë ‚Üì',
                bpm: [90, 120],
                density: 'medium',
                energy: 'medium‚Äìhigh',
                complexity: 'beginner',
                feel: 'driving / rock',
                best_for: ['pop rock', 'upbeat songs'],
                practice_tip: 'Lean slightly into beats 2 and 4 for groove.'
            },
            {
                id: 6,
                name: 'Essential Pop Groove',
                pattern: '‚Üì  ‚Üì‚Üë  ‚Üì‚Üë',
                bpm: [85, 110],
                density: 'medium',
                energy: 'medium',
                complexity: 'beginner‚Äìintermediate',
                feel: 'modern pop',
                best_for: ['radio pop', 'acoustic pop'],
                practice_tip: 'Relax your wrist and avoid over-accenting upstrokes.'
            },
            {
                id: 7,
                name: 'Campfire Classic',
                pattern: '‚Üì ‚Üì‚Üë ‚Üì ‚Üë',
                bpm: [80, 100],
                density: 'medium',
                energy: 'medium',
                complexity: 'beginner',
                feel: 'easy-going',
                best_for: ['sing-along', 'campfire'],
                practice_tip: 'Use light palm muting if it feels too busy.'
            },
            {
                id: 8,
                name: 'Rock Eighths',
                pattern: '‚Üì ‚Üì ‚Üì ‚Üì ‚Üì ‚Üì ‚Üì ‚Üì',
                bpm: [100, 130],
                density: 'high',
                energy: 'high',
                complexity: 'beginner',
                feel: 'straight rock',
                best_for: ['rock', 'punk-pop'],
                practice_tip: 'Think like a drummer‚Äîconsistent and aggressive.'
            },
            {
                id: 9,
                name: 'Syncopated Pop',
                pattern: '‚Üì ‚Üë ‚Üì ‚Üì‚Üë ‚Üì',
                bpm: [85, 110],
                density: 'medium',
                energy: 'medium',
                complexity: 'intermediate',
                feel: 'groovy / syncopated',
                best_for: ['pop', 'funk-pop'],
                practice_tip: 'Focus on accents rather than speed.'
            },
            {
                id: 10,
                name: 'Ballad Flow',
                pattern: '‚Üì  ‚Üì‚Üë  ‚Üì  ‚Üì‚Üë',
                bpm: [65, 90],
                density: 'medium',
                energy: 'low‚Äìmedium',
                complexity: 'beginner',
                feel: 'smooth / emotional',
                best_for: ['ballads', 'slow pop'],
                practice_tip: 'Strum closer to the neck for a warmer tone.'
            },
            {
                id: 11,
                name: 'Indie Pop Pulse',
                pattern: '‚Üì ‚Üë ‚Üì ‚Üë ‚Üì ‚Üë ‚Üì ‚Üë',
                bpm: [95, 120],
                density: 'high',
                energy: 'medium',
                complexity: 'intermediate',
                feel: 'indie / modern',
                best_for: ['indie', 'alternative'],
                practice_tip: 'Control dynamics‚Äîavoid hitting every stroke equally.'
            },
            {
                id: 12,
                name: 'Soft Groove Pop',
                pattern: '‚Üì ‚Üë  ‚Üì‚Üë  ‚Üì',
                bpm: [80, 105],
                density: 'medium',
                energy: 'medium',
                complexity: 'beginner‚Äìintermediate',
                feel: 'laid-back',
                best_for: ['acoustic pop'],
                practice_tip: 'Ghost weaker beats slightly for groove.'
            },
            {
                id: 13,
                name: 'Singer-Songwriter Core',
                pattern: '‚Üì ‚Üì ‚Üë ‚Üì ‚Üë',
                bpm: [75, 100],
                density: 'medium',
                energy: 'medium',
                complexity: 'beginner',
                feel: 'intimate',
                best_for: ['solo acoustic', 'vocal-driven songs'],
                practice_tip: 'Let vocals lead‚Äîkeep guitar supportive.'
            },
            {
                id: 14,
                name: 'Pop Drive Sync',
                pattern: '‚Üì  ‚Üì‚Üë  ‚Üì ‚Üë',
                bpm: [90, 115],
                density: 'medium',
                energy: 'medium‚Äìhigh',
                complexity: 'intermediate',
                feel: 'dynamic pop',
                best_for: ['energetic pop'],
                practice_tip: 'Stay loose; tension kills groove.'
            },
            {
                id: 15,
                name: 'Universal Pop Strum',
                pattern: '‚Üì ‚Üì‚Üë ‚Üì‚Üë ‚Üë',
                bpm: [85, 110],
                density: 'medium',
                energy: 'medium',
                complexity: 'intermediate',
                feel: 'mainstream pop',
                best_for: ['pop', 'acoustic covers', 'live performance'],
                practice_tip: 'Feel the groove first, pattern second.'
            }
        ];


        let currentResults = null;
        let selectedRhythmIndex = 0;
        let currentSpeed = 'normal';
        let metronomeBPM = 92;
        let metronomeInterval = null;
        let isPlaying = false;
        let currentBeat = 0;
        let audioContext = null;

        function analyzeSong(songName) {

        function analyzeSong(songName) {
            const lowerSong = songName.toLowerCase();
            
            let tempoCategory = 'mid';
            let energyLevel = 'medium';
            let isVocalDriven = false;
            let isEmotional = false;
            
            const slowKeywords = ['slow', 'ballad', 'love', 'heart', 'tears', 'goodbye', 'miss', 'alone', 'dream', 'night', 'beautiful', 'stay', 'forever', 'please'];
            
            if (slowKeywords.some(kw => lowerSong.includes(kw))) {
                tempoCategory = 'slow';
                energyLevel = 'low';
                isEmotional = true;
            }
            
            const fastKeywords = ['rock', 'punk', 'dance', 'party', 'fast', 'run', 'wild', 'crazy', 'jump', 'loud'];
            
            if (fastKeywords.some(kw => lowerSong.includes(kw))) {
                tempoCategory = 'fast';
                energyLevel = 'high';
            }
            
            const vocalKeywords = ['singer', 'acoustic', 'unplugged', 'voice', 'solo', 'storytelling', 'folk'];
            if (vocalKeywords.some(kw => lowerSong.includes(kw))) {
                isVocalDriven = true;
            }
            
            return { tempoCategory, energyLevel, isVocalDriven, isEmotional };
        }

        function selectRhythms(context) {
            let validRhythms = rhythmLibrary.filter(rhythm => {
                if (context.isEmotional || context.tempoCategory === 'slow') {
                    if (rhythm.energy === 'high' || rhythm.energy === 'medium‚Äìhigh') return false;
                    if (rhythm.density === 'high') return false;
                }
                
                if (context.isVocalDriven) {
                    if (rhythm.density === 'high') return false;
                }
                
                if (context.energyLevel === 'high') {
                    if (rhythm.energy === 'low' || rhythm.energy === 'low‚Äìmedium') return false;
                }
                
                return true;
            });
            
            if (validRhythms.length < 3) {
                validRhythms = rhythmLibrary.filter(r => r.energy === 'medium' || r.energy === 'medium‚Äìhigh');
            }
            
            const selected = [];
            const usedIds = new Set();
            
            let primary;
            if (context.tempoCategory === 'slow') {
                primary = validRhythms.find(r => r.id === 10 || r.id === 1 || r.id === 4);
            } else if (context.energyLevel === 'high') {
                primary = validRhythms.find(r => r.id === 8 || r.id === 5 || r.id === 11);
            } else if (context.isVocalDriven) {
                primary = validRhythms.find(r => r.id === 13 || r.id === 2 || r.id === 7);
            } else {
                primary = validRhythms.find(r => r.id === 3 || r.id === 6 || r.id === 15);
            }
            
            if (!primary) primary = validRhythms[0];
            selected.push(primary);
            usedIds.add(primary.id);
            
            let alt1 = validRhythms.find(r => !usedIds.has(r.id) && (r.complexity !== primary.complexity || r.density !== primary.density));
            if (!alt1) alt1 = validRhythms.find(r => !usedIds.has(r.id));
            if (!alt1) alt1 = validRhythms[1] || validRhythms[0];
            
            selected.push(alt1);
            usedIds.add(alt1.id);
            
            let alt2 = validRhythms.find(r => !usedIds.has(r.id) && (r.energy !== primary.energy || r.feel !== primary.feel));
            if (!alt2) alt2 = validRhythms.find(r => !usedIds.has(r.id));
            if (!alt2) alt2 = validRhythms[2] || validRhythms[1] || validRhythms[0];
            
            selected.push(alt2);
            return selected;
        }

        function generateRhythmResults(songName) {
            const context = analyzeSong(songName);
            const selectedRhythms = selectRhythms(context);
            
            let estimatedBPM;
            if (context.tempoCategory === 'slow') {
                estimatedBPM = Math.floor((selectedRhythms[0].bpm[0] + selectedRhythms[0].bpm[1]) / 2);
            } else if (context.tempoCategory === 'fast') {
                estimatedBPM = Math.floor((selectedRhythms[0].bpm[0] + selectedRhythms[0].bpm[1]) / 2) + 10;
            } else {
                estimatedBPM = Math.floor((selectedRhythms[0].bpm[0] + selectedRhythms[0].bpm[1]) / 2);
            }
            
            return {
                songName: songName,
                bpm: estimatedBPM,
                primary: {
                    name: selectedRhythms[0].name,
                    pattern: selectedRhythms[0].pattern,
                    bpm: selectedRhythms[0].bpm,
                    style: selectedRhythms[0].feel,
                    desc: selectedRhythms[0].practice_tip,
                    label: 'Recommended',
                    tag: 'You can play this'
                },
                alternatives: [
                    {
                        name: selectedRhythms[1].name,
                        pattern: selectedRhythms[1].pattern,
                        bpm: selectedRhythms[1].bpm,
                        style: selectedRhythms[1].feel,
                        desc: selectedRhythms[1].practice_tip,
                        label: 'Alternative 1',
                        tag: 'Easier version'
                    },
                    {
                        name: selectedRhythms[2].name,
                        pattern: selectedRhythms[2].pattern,
                        bpm: selectedRhythms[2].bpm,
                        style: selectedRhythms[2].feel,
                        desc: selectedRhythms[2].practice_tip,
                        label: 'Alternative 2',
                        tag: 'More dynamic version'
                    }
                ]
            };
        }
            patternDisplay.innerHTML = '';
            
            const strumChars = selected.pattern.split(' ').filter(s => s);
            strumChars.forEach((strum, idx) => {
                const span = document.createElement('span');
                span.className = 'strum';
                span.textContent = strum;
                span.style.animationDelay = `${idx * 0.3}s`;
                span.style.color = idx % 2 === 0 ? 'var(--accent-orange)' : 'var(--accent-green)';
                patternDisplay.appendChild(span);
            });

            // Update rhythm info
            let infoHTML = `
                <div style="margin-top: 32px; text-align: center;">
                    <div style="display: inline-block; padding: 8px 20px; background: rgba(255, 107, 53, 0.1); border-radius: 20px; margin-bottom: 16px;">
                        <span style="color: var(--accent-green); font-weight: 700;">${selected.tag}</span>
                    </div>
                    <h4 style="font-family: 'Bebas Neue', sans-serif; font-size: 1.5rem; margin-bottom: 8px; letter-spacing: 1px;">${selected.style}</h4>
                    <p style="color: var(--text-secondary); margin-bottom: 24px;">${selected.desc}</p>
                </div>
            `;

            // Add rhythm selector buttons
            infoHTML += `
                <div style="display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; margin-top: 24px;">
                    ${allRhythms.map((r, idx) => `
                        <button class="rhythm-option-btn ${idx === selectedIndex ? 'active' : ''}" onclick="selectRhythm(${idx})" style="
                            padding: 12px 24px;
                            background: ${idx === selectedIndex ? 'rgba(255, 107, 53, 0.2)' : 'transparent'};
                            border: 2px solid ${idx === selectedIndex ? 'var(--accent-orange)' : 'var(--border-color)'};
                            color: ${idx === selectedIndex ? 'var(--accent-orange)' : 'var(--text-secondary)'};
                            border-radius: 8px;
                            cursor: pointer;
                            font-family: 'DM Sans', sans-serif;
                            font-weight: 600;
                            transition: all 0.3s ease;
                            font-size: 0.9rem;
                        ">
                            ${r.label}
                        </button>
                    `).join('')}
                </div>
                <div style="text-align: center; margin-top: 32px;">
                    <button class="select-rhythm-btn" onclick="startPractice()">
                        Practice This Rhythm
                    </button>
                </div>
            `;

            const existingInfo = document.querySelector('.rhythm-info');
            if (existingInfo) {
                existingInfo.innerHTML = infoHTML;
            } else {
                const infoDiv = document.createElement('div');
                infoDiv.className = 'rhythm-info';
                infoDiv.innerHTML = infoHTML;
                document.querySelector('.preview-card').appendChild(infoDiv);
            }
        }

        function selectRhythm(index) {
            selectedRhythmIndex = index;
            displayRhythm(currentResults, index);
            
            // Apply current speed
            const speedButtons = document.querySelectorAll('.speed-btn');
            speedButtons.forEach(btn => {
                if (btn.textContent.toLowerCase() === currentSpeed) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            applySpeed(currentSpeed);
        }

        function changeSpeed(speed) {
            currentSpeed = speed;
            const buttons = document.querySelectorAll('.speed-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            applySpeed(speed);
        }

        function applySpeed(speed) {
            const strums = document.querySelectorAll('.strum');
            let duration = speed === 'slow' ? '2s' : speed === 'fast' ? '0.8s' : '1.2s';
            strums.forEach(strum => {
                strum.style.animationDuration = duration;
            });
        }

        function showRhythm() {
            const songInput = document.getElementById('songInput').value.trim() || 
                             document.getElementById('songInput2').value.trim();
            
            if (!songInput) {
                alert('Please enter a song name');
                return;
            }

            const loading = document.getElementById('loading');
            loading.classList.add('active');
            
            setTimeout(() => {
                loading.classList.remove('active');
                
                // Generate rhythm results
                currentResults = generateRhythmResults(songInput);
                selectedRhythmIndex = 0;
                
                // Display results
                displayRhythm(currentResults, 0);
                
                // Scroll to preview
                document.querySelector('.rhythm-preview').scrollIntoView({ 
                    behavior: 'smooth' 
                });
            }, 1500);
        }

        // Allow Enter key to trigger search
        document.addEventListener('DOMContentLoaded', () => {
            [document.getElementById('songInput'), document.getElementById('songInput2')].forEach(input => {
                input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        showRhythm();
                    }
                });
            });

            // Parallax effect
            window.addEventListener('scroll', () => {
                const scrolled = window.pageYOffset;
                const strums = document.querySelectorAll('.strum-icon');
                strums.forEach((strum, index) => {
                    const speed = (index + 1) * 0.1;
                    strum.style.transform = `translateY(${scrolled * speed}px)`;
                });
            });

            // Initialize audio context on first user interaction
            document.body.addEventListener('click', initAudio, { once: true });
        });

        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }

        function startPractice() {
            if (!currentResults) return;

            const allRhythms = [currentResults.primary, ...currentResults.alternatives];
            const selected = allRhythms[selectedRhythmIndex];

            // Hide main sections
            document.querySelector('.rhythm-preview').style.display = 'none';
            document.querySelector('.why-section').style.display = 'none';
            document.querySelector('.social-proof').style.display = 'none';
            document.querySelector('.final-cta').style.display = 'none';

            // Show practice screen
            const practiceScreen = document.getElementById('practiceScreen');
            practiceScreen.style.display = 'block';

            // Set practice screen content
            document.getElementById('practiceSongTitle').textContent = currentResults.songName;
            document.getElementById('practiceStyleLabel').textContent = selected.style;
            
            metronomeBPM = currentResults.bpm;
            document.getElementById('currentBPM').textContent = metronomeBPM;

            // Display pattern
            const patternDisplay = document.getElementById('practicePatternDisplay');
            patternDisplay.innerHTML = '';
            const strumChars = selected.pattern.split(' ').filter(s => s);
            strumChars.forEach((strum, idx) => {
                const span = document.createElement('span');
                span.className = 'strum';
                span.textContent = strum;
                span.style.animationDelay = `${idx * 0.3}s`;
                span.style.color = idx % 2 === 0 ? 'var(--accent-orange)' : 'var(--accent-green)';
                patternDisplay.appendChild(span);
            });

            // Set practice tips based on style
            const tips = [
                selected.desc,
                'Keep steady time with the metronome',
                'Focus on clean, consistent strokes'
            ];
            document.getElementById('practiceTip').textContent = tips[0];

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // Initialize audio context
            initAudio();
        }

        function exitPractice() {
            // Stop metronome if playing
            if (isPlaying) {
                toggleMetronome();
            }

            // Hide practice screen
            document.getElementById('practiceScreen').style.display = 'none';

            // Show main sections
            document.querySelector('.rhythm-preview').style.display = 'block';
            document.querySelector('.why-section').style.display = 'block';
            document.querySelector('.social-proof').style.display = 'block';
            document.querySelector('.final-cta').style.display = 'block';

            // Scroll back to results
            document.querySelector('.rhythm-preview').scrollIntoView({ behavior: 'smooth' });
        }

        function adjustBPM(change) {
            metronomeBPM = Math.max(40, Math.min(200, metronomeBPM + change));
            document.getElementById('currentBPM').textContent = metronomeBPM;

            // Restart metronome if playing
            if (isPlaying) {
                stopMetronome();
                startMetronome();
            }
        }

        function toggleMetronome() {
            if (isPlaying) {
                stopMetronome();
                document.getElementById('playPauseIcon').textContent = '‚ñ∂';
                document.getElementById('playPauseText').textContent = 'Start Practice';
                isPlaying = false;
            } else {
                startMetronome();
                document.getElementById('playPauseIcon').textContent = '‚è∏';
                document.getElementById('playPauseText').textContent = 'Pause';
                isPlaying = true;
            }
        }

        function startMetronome() {
            if (!audioContext) {
                initAudio();
            }

            const interval = (60 / metronomeBPM) * 1000;
            currentBeat = 0;

            // Play first beat immediately
            playClick(true);
            highlightBeat(1);

            metronomeInterval = setInterval(() => {
                currentBeat = (currentBeat + 1) % 4;
                const beatNumber = currentBeat + 1;
                const isStrongBeat = beatNumber === 1;

                playClick(isStrongBeat);
                highlightBeat(beatNumber);
            }, interval);
        }

        function stopMetronome() {
            if (metronomeInterval) {
                clearInterval(metronomeInterval);
                metronomeInterval = null;
            }
            
            // Clear all beat highlights
            document.querySelectorAll('.beat').forEach(beat => {
                beat.classList.remove('active');
            });
        }

        function playClick(isStrongBeat) {
            if (!audioContext) return;

            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            // Strong beat is slightly lower pitch and louder
            oscillator.frequency.value = isStrongBeat ? 800 : 1000;
            gainNode.gain.value = isStrongBeat ? 0.3 : 0.15;

            oscillator.start(audioContext.currentTime);
            
            // Fade out
            gainNode.gain.exponentialRampToValueAtTime(
                0.01,
                audioContext.currentTime + 0.1
            );
            
            oscillator.stop(audioContext.currentTime + 0.1);
        }

        function highlightBeat(beatNumber) {
            // Remove all highlights
            document.querySelectorAll('.beat').forEach(beat => {
                beat.classList.remove('active');
            });

            // Highlight current beat
            const currentBeatEl = document.querySelector(`.beat[data-beat="${beatNumber}"]`);
            if (currentBeatEl) {
                currentBeatEl.classList.add('active');
                if (beatNumber === 1) {
                    currentBeatEl.classList.add('strong-beat');
                } else {
                    currentBeatEl.classList.remove('strong-beat');
                }
            }
        }
    </script>
</body>
</html>
