(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Pd={exports:{}},vo={};var G_;function JA(){if(G_)return vo;G_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var y in o)y!=="key"&&(u[y]=o[y])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return vo.Fragment=e,vo.jsx=n,vo.jsxs=n,vo}var F_;function ZA(){return F_||(F_=1,Pd.exports=JA()),Pd.exports}var p=ZA(),Ud={exports:{}},Re={};var Y_;function WA(){if(Y_)return Re;Y_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.iterator;function B(O){return O===null||typeof O!="object"?null:(O=D&&O[D]||O["@@iterator"],typeof O=="function"?O:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,W={};function ie(O,Q,se){this.props=O,this.context=Q,this.refs=W,this.updater=se||Y}ie.prototype.isReactComponent={},ie.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},ie.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ue(){}ue.prototype=ie.prototype;function G(O,Q,se){this.props=O,this.context=Q,this.refs=W,this.updater=se||Y}var le=G.prototype=new ue;le.constructor=G,X(le,ie.prototype),le.isPureReactComponent=!0;var Te=Array.isArray;function ae(){}var w={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(O,Q,se){var ce=se.ref;return{$$typeof:r,type:O,key:Q,ref:ce!==void 0?ce:null,props:se}}function k(O,Q){return C(O.type,Q,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(se){return Q[se]})}var N=/\/+/g;function Ye(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):Q.toString(36)}function pe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ae,ae):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,Q,se,ce,Ae){var xe=typeof O;(xe==="undefined"||xe==="boolean")&&(O=null);var ze=!1;if(O===null)ze=!0;else switch(xe){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(O.$$typeof){case r:case e:ze=!0;break;case S:return ze=O._init,q(ze(O._payload),Q,se,ce,Ae)}}if(ze)return Ae=Ae(O),ze=ce===""?"."+Ye(O,0):ce,Te(Ae)?(se="",ze!=null&&(se=ze.replace(N,"$&/")+"/"),q(Ae,Q,se,"",function(is){return is})):Ae!=null&&(x(Ae)&&(Ae=k(Ae,se+(Ae.key==null||O&&O.key===Ae.key?"":(""+Ae.key).replace(N,"$&/")+"/")+ze)),Q.push(Ae)),1;ze=0;var xt=ce===""?".":ce+":";if(Te(O))for(var at=0;at<O.length;at++)ce=O[at],xe=xt+Ye(ce,at),ze+=q(ce,Q,se,xe,Ae);else if(at=B(O),typeof at=="function")for(O=at.call(O),at=0;!(ce=O.next()).done;)ce=ce.value,xe=xt+Ye(ce,at++),ze+=q(ce,Q,se,xe,Ae);else if(xe==="object"){if(typeof O.then=="function")return q(pe(O),Q,se,ce,Ae);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ze}function te(O,Q,se){if(O==null)return O;var ce=[],Ae=0;return q(O,ce,"","",function(xe){return Q.call(se,xe,Ae++)}),ce}function de(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(se){(O._status===0||O._status===-1)&&(O._status=1,O._result=se)},function(se){(O._status===0||O._status===-1)&&(O._status=2,O._result=se)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var be=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Se={map:te,forEach:function(O,Q,se){te(O,function(){Q.apply(this,arguments)},se)},count:function(O){var Q=0;return te(O,function(){Q++}),Q},toArray:function(O){return te(O,function(Q){return Q})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Re.Activity=R,Re.Children=Se,Re.Component=ie,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=G,Re.StrictMode=s,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return w.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(O,Q,se){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ce=X({},O.props),Ae=O.key;if(Q!=null)for(xe in Q.key!==void 0&&(Ae=""+Q.key),Q)!b.call(Q,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Q.ref===void 0||(ce[xe]=Q[xe]);var xe=arguments.length-2;if(xe===1)ce.children=se;else if(1<xe){for(var ze=Array(xe),xt=0;xt<xe;xt++)ze[xt]=arguments[xt+2];ce.children=ze}return C(O.type,Ae,ce)},Re.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Re.createElement=function(O,Q,se){var ce,Ae={},xe=null;if(Q!=null)for(ce in Q.key!==void 0&&(xe=""+Q.key),Q)b.call(Q,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ae[ce]=Q[ce]);var ze=arguments.length-2;if(ze===1)Ae.children=se;else if(1<ze){for(var xt=Array(ze),at=0;at<ze;at++)xt[at]=arguments[at+2];Ae.children=xt}if(O&&O.defaultProps)for(ce in ze=O.defaultProps,ze)Ae[ce]===void 0&&(Ae[ce]=ze[ce]);return C(O,xe,Ae)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:y,render:O}},Re.isValidElement=x,Re.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:de}},Re.memo=function(O,Q){return{$$typeof:_,type:O,compare:Q===void 0?null:Q}},Re.startTransition=function(O){var Q=w.T,se={};w.T=se;try{var ce=O(),Ae=w.S;Ae!==null&&Ae(se,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ae,be)}catch(xe){be(xe)}finally{Q!==null&&se.types!==null&&(Q.types=se.types),w.T=Q}},Re.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Re.use=function(O){return w.H.use(O)},Re.useActionState=function(O,Q,se){return w.H.useActionState(O,Q,se)},Re.useCallback=function(O,Q){return w.H.useCallback(O,Q)},Re.useContext=function(O){return w.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,Q){return w.H.useDeferredValue(O,Q)},Re.useEffect=function(O,Q){return w.H.useEffect(O,Q)},Re.useEffectEvent=function(O){return w.H.useEffectEvent(O)},Re.useId=function(){return w.H.useId()},Re.useImperativeHandle=function(O,Q,se){return w.H.useImperativeHandle(O,Q,se)},Re.useInsertionEffect=function(O,Q){return w.H.useInsertionEffect(O,Q)},Re.useLayoutEffect=function(O,Q){return w.H.useLayoutEffect(O,Q)},Re.useMemo=function(O,Q){return w.H.useMemo(O,Q)},Re.useOptimistic=function(O,Q){return w.H.useOptimistic(O,Q)},Re.useReducer=function(O,Q,se){return w.H.useReducer(O,Q,se)},Re.useRef=function(O){return w.H.useRef(O)},Re.useState=function(O){return w.H.useState(O)},Re.useSyncExternalStore=function(O,Q,se){return w.H.useSyncExternalStore(O,Q,se)},Re.useTransition=function(){return w.H.useTransition()},Re.version="19.2.4",Re}var K_;function xm(){return K_||(K_=1,Ud.exports=WA()),Ud.exports}var ne=xm(),zd={exports:{}},Eo={},Bd={exports:{}},qd={};var Q_;function eb(){return Q_||(Q_=1,(function(r){function e(q,te){var de=q.length;q.push(te);e:for(;0<de;){var be=de-1>>>1,Se=q[be];if(0<o(Se,te))q[be]=te,q[de]=Se,de=be;else break e}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var te=q[0],de=q.pop();if(de!==te){q[0]=de;e:for(var be=0,Se=q.length,O=Se>>>1;be<O;){var Q=2*(be+1)-1,se=q[Q],ce=Q+1,Ae=q[ce];if(0>o(se,de))ce<Se&&0>o(Ae,se)?(q[be]=Ae,q[ce]=de,be=ce):(q[be]=se,q[Q]=de,be=Q);else if(ce<Se&&0>o(Ae,de))q[be]=Ae,q[ce]=de,be=ce;else break e}}return te}function o(q,te){var de=q.sortIndex-te.sortIndex;return de!==0?de:q.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,y=f.now();r.unstable_now=function(){return f.now()-y}}var g=[],_=[],S=1,R=null,D=3,B=!1,Y=!1,X=!1,W=!1,ie=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function le(q){for(var te=n(_);te!==null;){if(te.callback===null)s(_);else if(te.startTime<=q)s(_),te.sortIndex=te.expirationTime,e(g,te);else break;te=n(_)}}function Te(q){if(X=!1,le(q),!Y)if(n(g)!==null)Y=!0,ae||(ae=!0,V());else{var te=n(_);te!==null&&pe(Te,te.startTime-q)}}var ae=!1,w=-1,b=5,C=-1;function k(){return W?!0:!(r.unstable_now()-C<b)}function x(){if(W=!1,ae){var q=r.unstable_now();C=q;var te=!0;try{e:{Y=!1,X&&(X=!1,ue(w),w=-1),B=!0;var de=D;try{t:{for(le(q),R=n(g);R!==null&&!(R.expirationTime>q&&k());){var be=R.callback;if(typeof be=="function"){R.callback=null,D=R.priorityLevel;var Se=be(R.expirationTime<=q);if(q=r.unstable_now(),typeof Se=="function"){R.callback=Se,le(q),te=!0;break t}R===n(g)&&s(g),le(q)}else s(g);R=n(g)}if(R!==null)te=!0;else{var O=n(_);O!==null&&pe(Te,O.startTime-q),te=!1}}break e}finally{R=null,D=de,B=!1}te=void 0}}finally{te?V():ae=!1}}}var V;if(typeof G=="function")V=function(){G(x)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ye=N.port2;N.port1.onmessage=x,V=function(){Ye.postMessage(null)}}else V=function(){ie(x,0)};function pe(q,te){w=ie(function(){q(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(q){switch(D){case 1:case 2:case 3:var te=3;break;default:te=D}var de=D;D=te;try{return q()}finally{D=de}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var de=D;D=q;try{return te()}finally{D=de}},r.unstable_scheduleCallback=function(q,te,de){var be=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?be+de:be):de=be,q){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=de+Se,q={id:S++,callback:te,priorityLevel:q,startTime:de,expirationTime:Se,sortIndex:-1},de>be?(q.sortIndex=de,e(_,q),n(g)===null&&q===n(_)&&(X?(ue(w),w=-1):X=!0,pe(Te,de-be))):(q.sortIndex=Se,e(g,q),Y||B||(Y=!0,ae||(ae=!0,V()))),q},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(q){var te=D;return function(){var de=D;D=te;try{return q.apply(this,arguments)}finally{D=de}}}})(qd)),qd}var X_;function tb(){return X_||(X_=1,Bd.exports=eb()),Bd.exports}var Hd={exports:{}},Kt={};var $_;function nb(){if($_)return Kt;$_=1;var r=xm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,_,S){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:g,containerInfo:_,implementation:S}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(g,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(g,_,null,S)},Kt.flushSync=function(g){var _=f.T,S=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=_,s.p=S,s.d.f()}},Kt.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(g,_))},Kt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Kt.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var S=_.as,R=y(S,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,B=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?s.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:D,fetchPriority:B}):S==="script"&&s.d.X(g,{crossOrigin:R,integrity:D,fetchPriority:B,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Kt.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);s.d.M(g,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(g)},Kt.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,R=y(S,_.crossOrigin);s.d.L(g,S,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Kt.preloadModule=function(g,_){if(typeof g=="string")if(_){var S=y(_.as,_.crossOrigin);s.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(g)},Kt.requestFormReset=function(g){s.d.r(g)},Kt.unstable_batchedUpdates=function(g,_){return g(_)},Kt.useFormState=function(g,_,S){return f.H.useFormState(g,_,S)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.2.4",Kt}var J_;function ib(){if(J_)return Hd.exports;J_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hd.exports=nb(),Hd.exports}var Z_;function rb(){if(Z_)return Eo;Z_=1;var r=tb(),e=xm(),n=ib();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function _(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function S(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=S(t),i!==null)return i;t=t.sibling}return null}var R=Object.assign,D=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ue=Symbol.for("react.consumer"),G=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case ie:return"Profiler";case W:return"StrictMode";case Te:return"Suspense";case ae:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case G:return t.displayName||"Context";case ue:return(t._context.displayName||"Context")+".Consumer";case le:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return i=t.displayName||null,i!==null?i:Ye(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return Ye(t(i))}catch{}}return null}var pe=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},be=[],Se=-1;function O(t){return{current:t}}function Q(t){0>Se||(t.current=be[Se],be[Se]=null,Se--)}function se(t,i){Se++,be[Se]=t.current,t.current=i}var ce=O(null),Ae=O(null),xe=O(null),ze=O(null);function xt(t,i){switch(se(xe,i),se(Ae,t),se(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?d_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=d_(i),t=m_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ce),se(ce,t)}function at(){Q(ce),Q(Ae),Q(xe)}function is(t){t.memoizedState!==null&&se(ze,t);var i=ce.current,a=m_(i,t.type);i!==a&&(se(Ae,t),se(ce,a))}function Zs(t){Ae.current===t&&(Q(ce),Q(Ae)),ze.current===t&&(Q(ze),po._currentValue=de)}var Ws,ea;function ti(t){if(Ws===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ws=i&&i[1]||"",ea=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ws+t+ea}var ml=!1;function rs(t,i){if(!t||ml)return"";ml=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var z=F}Reflect.construct(t,[],J)}else{try{J.call()}catch(F){z=F}t.call(J.prototype)}}else{try{throw Error()}catch(F){z=F}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&z&&typeof F.stack=="string")return[F.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),U=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===U.length)for(l=I.length-1,h=U.length-1;1<=l&&0<=h&&I[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==U[h]){var K=`
`+I[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{ml=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ti(a):""}function pl(t,i){switch(t.tag){case 26:case 27:case 5:return ti(t.type);case 16:return ti("Lazy");case 13:return t.child!==i&&i!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return rs(t.type,!1);case 11:return rs(t.type.render,!1);case 1:return rs(t.type,!0);case 31:return ti("Activity");default:return""}}function gl(t){try{var i="",a=null;do i+=pl(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Dt=r.unstable_scheduleCallback,rr=r.unstable_cancelCallback,Uh=r.unstable_shouldYield,lu=r.unstable_requestPaint,Wt=r.unstable_now,ss=r.unstable_getCurrentPriorityLevel,yl=r.unstable_ImmediatePriority,_l=r.unstable_UserBlockingPriority,sr=r.unstable_NormalPriority,zh=r.unstable_LowPriority,ou=r.unstable_IdlePriority,uu=r.log,cu=r.unstable_setDisableYieldValue,jn=null,Pt=null;function En(t){if(typeof uu=="function"&&cu(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(jn,t)}catch{}}var ft=Math.clz32?Math.clz32:fu,hu=Math.log,ta=Math.LN2;function fu(t){return t>>>=0,t===0?32:31-(hu(t)/ta|0)|0}var ni=256,as=262144,vt=4194304;function ii(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ri(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ii(l):(v&=T,v!==0?h=ii(v):a||(a=T&~t,a!==0&&(h=ii(a))))):(T=l&~d,T!==0?h=ii(T):v!==0?h=ii(v):a||(a=l&~t,a!==0&&(h=ii(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Ln(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Bh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function si(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ls(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qh(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,U=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-ft(a),J=1<<K;T[K]=0,I[K]=-1;var z=U[K];if(z!==null)for(U[K]=null,K=0;K<z.length;K++){var F=z[K];F!==null&&(F.lane&=-536870913)}a&=~J}l!==0&&os(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function os(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function vl(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ft(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function El(t,i){var a=i&-i;return a=(a&42)!==0?1:us(a),(a&(t.suspendedLanes|i))!==0?0:a}function us(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Di(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function mu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:L_(t.type))}function Pn(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var Un=Math.random().toString(36).slice(2),Et="__reactFiber$"+Un,Mt="__reactProps$"+Un,ai="__reactContainer$"+Un,na="__reactEvents$"+Un,Hh="__reactListeners$"+Un,pu="__reactHandles$"+Un,gu="__reactResources$"+Un,li="__reactMarker$"+Un;function ia(t){delete t[Et],delete t[Mt],delete t[na],delete t[Hh],delete t[pu]}function oi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ai]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=T_(t);t!==null;){if(a=t[Et])return a;t=T_(t)}return i}t=a,a=t.parentNode}return null}function Tn(t){if(t=t[Et]||t[ai]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function hn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ui(t){var i=t[gu];return i||(i=t[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[li]=!0}var Tl=new Set,Sl={};function ci(t,i){hi(t,i),hi(t+"Capture",i)}function hi(t,i){for(Sl[t]=i,t=0;t<i.length;t++)Tl.add(i[t])}var Al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bl={},wl={};function yu(t){return _t.call(wl,t)?!0:_t.call(bl,t)?!1:Al.test(t)?wl[t]=!0:(bl[t]=!0,!1)}function ra(t,i,a){if(yu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function fn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Vt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ar(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=ar(t)?"checked":"value";t._valueTracker=Rl(t,i,""+t[i])}}function cs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ar(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function fi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var hs=/[\n"\\]/g;function nn(t){return t.replace(hs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function sa(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Vt(i)):t.value!==""+Vt(i)&&(t.value=""+Vt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Cl(t,v,Vt(i)):a!=null?Cl(t,v,Vt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Vt(T):t.removeAttribute("name")}function _u(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Vt(a):"",i=i!=null?""+Vt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Qe(t)}function Cl(t,i,a){i==="number"&&fi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function lr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Vt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function vu(t,i,a){if(i!=null&&(i=""+Vt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Vt(a):""}function or(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Vt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function rn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Eu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Il(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Nl(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Nl(t,d,i[d])}function aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(t){return ur.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zn(){}var xl=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cr=null,di=null;function fs(t){var i=Tn(t);if(i&&(t=i.stateNode)){var a=t[Mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(sa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Mt]||null;if(!h)throw Error(s(90));sa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&cs(l)}break e;case"textarea":vu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&lr(t,!!a.multiple,i,!1)}}}var oa=!1;function hr(t,i,a){if(oa)return t(i,a);oa=!0;try{var l=t(i);return l}finally{if(oa=!1,(cr!==null||di!==null)&&(mc(),cr&&(i=cr,t=di,di=cr=null,fs(i),t)))for(i=0;i<t.length;i++)fs(t[i])}}function Bn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Mt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ds=!1;if(An)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){ds=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{ds=!1}var mi=null,Dl=null,ms=null;function kl(){if(ms)return ms;var t,i=Dl,a=i.length,l,h="value"in mi?mi.value:mi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return ms=h.slice(t,1<l?1-l:void 0)}function ps(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ki(){return!0}function qn(){return!1}function Ut(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ki:qn,this.isPropagationStopped=qn,this}return R(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),i}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=Ut(Oi),fr=R({},Oi,{view:0,detail:0}),Ol=Ut(fr),dr,ua,gi,ca=R({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(dr=t.screenX-gi.screenX,ua=t.screenY-gi.screenY):ua=dr=0,gi=t),dr)},movementY:function(t){return"movementY"in t?t.movementY:ua}}),Ml=Ut(ca),gs=R({},ca,{dataTransfer:0}),Su=Ut(gs),Au=R({},fr,{relatedTarget:0}),ys=Ut(Au),Vl=R({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=Ut(Vl),ha=R({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wu=Ut(ha),Ru=R({},Oi,{data:0}),yi=Ut(Ru),Cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Iu[t])?!!i[t]:!1}function mr(){return xu}var en=R({},fr,{key:function(t){if(t.key){var i=Cu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(t){return t.type==="keypress"?ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Du=Ut(en),ku=R({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=Ut(ku),c=R({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),m=Ut(c),E=R({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ut(E),L=R({},ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Ut(L),re=R({},Oi,{newState:0,oldState:0}),Ne=Ut(re),dt=[9,13,27,32],Ge=An&&"CompositionEvent"in window,lt=null;An&&"documentMode"in document&&(lt=document.documentMode);var bn=An&&"TextEvent"in window&&!lt,_i=An&&(!Ge||lt&&8<lt&&11>=lt),Hn=" ",Gn=!1;function _s(t,i){switch(t){case"keyup":return dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var da=!1;function TS(t,i){switch(t){case"compositionend":return fa(i);case"keypress":return i.which!==32?null:(Gn=!0,Hn);case"textInput":return t=i.data,t===Hn&&Gn?null:t;default:return null}}function SS(t,i){if(da)return t==="compositionend"||!Ge&&_s(t,i)?(t=kl(),ms=Dl=mi=null,da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _i&&i.locale!=="ko"?null:i.data;default:return null}}var AS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!AS[t.type]:i==="textarea"}function wp(t,i,a,l){cr?di?di.push(l):di=[l]:cr=l,i=Tc(i,"onChange"),0<i.length&&(a=new pi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var jl=null,Ll=null;function bS(t){l_(t,0)}function Ou(t){var i=hn(t);if(cs(i))return t}function Rp(t,i){if(t==="change")return i}var Cp=!1;if(An){var Gh;if(An){var Fh="oninput"in document;if(!Fh){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),Fh=typeof Np.oninput=="function"}Gh=Fh}else Gh=!1;Cp=Gh&&(!document.documentMode||9<document.documentMode)}function Ip(){jl&&(jl.detachEvent("onpropertychange",xp),Ll=jl=null)}function xp(t){if(t.propertyName==="value"&&Ou(Ll)){var i=[];wp(i,Ll,t,Sn(t)),hr(bS,i)}}function wS(t,i,a){t==="focusin"?(Ip(),jl=i,Ll=a,jl.attachEvent("onpropertychange",xp)):t==="focusout"&&Ip()}function RS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(Ll)}function CS(t,i){if(t==="click")return Ou(i)}function NS(t,i){if(t==="input"||t==="change")return Ou(i)}function IS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var dn=typeof Object.is=="function"?Object.is:IS;function Pl(t,i){if(dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_t.call(i,h)||!dn(t[h],i[h]))return!1}return!0}function Dp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kp(t,i){var a=Dp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dp(a)}}function Op(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Op(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Mp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=fi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=fi(t.document)}return i}function Yh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var xS=An&&"documentMode"in document&&11>=document.documentMode,ma=null,Kh=null,Ul=null,Qh=!1;function Vp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qh||ma==null||ma!==fi(l)||(l=ma,"selectionStart"in l&&Yh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ul&&Pl(Ul,l)||(Ul=l,l=Tc(Kh,"onSelect"),0<l.length&&(i=new pi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ma)))}function vs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var pa={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},Xh={},jp={};An&&(jp=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Es(t){if(Xh[t])return Xh[t];if(!pa[t])return t;var i=pa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in jp)return Xh[t]=i[a];return t}var Lp=Es("animationend"),Pp=Es("animationiteration"),Up=Es("animationstart"),DS=Es("transitionrun"),kS=Es("transitionstart"),OS=Es("transitioncancel"),zp=Es("transitionend"),Bp=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function Fn(t,i){Bp.set(t,i),ci(i,[t])}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},wn=[],ga=0,Jh=0;function Vu(){for(var t=ga,i=Jh=ga=0;i<t;){var a=wn[i];wn[i++]=null;var l=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var d=wn[i];if(wn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&qp(a,h,d)}}function ju(t,i,a,l){wn[ga++]=t,wn[ga++]=i,wn[ga++]=a,wn[ga++]=l,Jh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zh(t,i,a,l){return ju(t,i,a,l),Lu(t)}function Ts(t,i){return ju(t,null,null,i),Lu(t)}function qp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ft(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Lu(t){if(50<lo)throw lo=0,od=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ya={};function MS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,i,a,l){return new MS(t,i,a,l)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,i){var a=t.alternate;return a===null?(a=mn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Hp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Pu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Wh(t)&&(v=1);else if(typeof t=="string")v=UA(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=mn(31,a,i,h),t.elementType=C,t.lanes=d,t;case X:return Ss(a.children,h,d,i);case W:v=8,h|=24;break;case ie:return t=mn(12,a,i,h|2),t.elementType=ie,t.lanes=d,t;case Te:return t=mn(13,a,i,h),t.elementType=Te,t.lanes=d,t;case ae:return t=mn(19,a,i,h),t.elementType=ae,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:v=10;break e;case ue:v=9;break e;case le:v=11;break e;case w:v=14;break e;case b:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=mn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ss(t,i,a,l){return t=mn(7,t,l,i),t.lanes=a,t}function ef(t,i,a){return t=mn(6,t,null,i),t.lanes=a,t}function Gp(t){var i=mn(18,null,null,0);return i.stateNode=t,i}function tf(t,i,a){return i=mn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Fp=new WeakMap;function Rn(t,i){if(typeof t=="object"&&t!==null){var a=Fp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:gl(i)},Fp.set(t,i),i)}return{value:t,source:i,stack:gl(i)}}var _a=[],va=0,Uu=null,zl=0,Cn=[],Nn=0,pr=null,vi=1,Ei="";function ji(t,i){_a[va++]=zl,_a[va++]=Uu,Uu=t,zl=i}function Yp(t,i,a){Cn[Nn++]=vi,Cn[Nn++]=Ei,Cn[Nn++]=pr,pr=t;var l=vi;t=Ei;var h=32-ft(l)-1;l&=~(1<<h),a+=1;var d=32-ft(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,vi=1<<32-ft(i)+h|a<<h|l,Ei=d+t}else vi=1<<d|a<<h|l,Ei=t}function nf(t){t.return!==null&&(ji(t,1),Yp(t,1,0))}function rf(t){for(;t===Uu;)Uu=_a[--va],_a[va]=null,zl=_a[--va],_a[va]=null;for(;t===pr;)pr=Cn[--Nn],Cn[Nn]=null,Ei=Cn[--Nn],Cn[Nn]=null,vi=Cn[--Nn],Cn[Nn]=null}function Kp(t,i){Cn[Nn++]=vi,Cn[Nn++]=Ei,Cn[Nn++]=pr,vi=i.id,Ei=i.overflow,pr=t}var zt=null,it=null,Ue=!1,gr=null,In=!1,sf=Error(s(519));function yr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(Rn(i,t)),sf}function Qp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[Mt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<uo.length;a++)Oe(uo[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),_u(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),or(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||h_(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=zn),i=!0):i=!1,i||yr(t,!0)}function Xp(t){for(zt=t.return;zt;)switch(zt.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:zt=zt.return}}function Ea(t){if(t!==zt)return!1;if(!Ue)return Xp(t),Ue=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ad(t.type,t.memoizedProps)),a=!a),a&&it&&yr(t),Xp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=E_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=E_(t)}else i===27?(i=it,Dr(t.type)?(t=Nd,Nd=null,it=t):it=i):it=zt?Dn(t.stateNode.nextSibling):null;return!0}function As(){it=zt=null,Ue=!1}function af(){var t=gr;return t!==null&&(on===null?on=t:on.push.apply(on,t),gr=null),t}function Bl(t){gr===null?gr=[t]:gr.push(t)}var lf=O(null),bs=null,Li=null;function _r(t,i,a){se(lf,i._currentValue),i._currentValue=a}function Pi(t){t._currentValue=lf.current,Q(lf)}function of(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function uf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),of(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),of(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ta(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;dn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===ze.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(po):t=[po])}h=h.return}t!==null&&uf(i,t,a,l),i.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ws(t){bs=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Bt(t){return $p(bs,t)}function Bu(t,i){return bs===null&&ws(t),$p(t,i)}function $p(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Li===null){if(t===null)throw Error(s(308));Li=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Li=Li.next=i;return a}var VS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},jS=r.unstable_scheduleCallback,LS=r.unstable_NormalPriority,At={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new VS,data:new Map,refCount:0}}function ql(t){t.refCount--,t.refCount===0&&jS(LS,function(){t.controller.abort()})}var Hl=null,hf=0,Sa=0,Aa=null;function PS(t,i){if(Hl===null){var a=Hl=[];hf=0,Sa=md(),Aa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hf++,i.then(Jp,Jp),i}function Jp(){if(--hf===0&&Hl!==null){Aa!==null&&(Aa.status="fulfilled");var t=Hl;Hl=null,Sa=0,Aa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function US(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Zp=q.S;q.S=function(t,i){Vy=Wt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&PS(t,i),Zp!==null&&Zp(t,i)};var Rs=O(null);function ff(){var t=Rs.current;return t!==null?t:tt.pooledCache}function qu(t,i){i===null?se(Rs,Rs.current):se(Rs,i.pool)}function Wp(){var t=ff();return t===null?null:{parent:At._currentValue,pool:t}}var ba=Error(s(460)),df=Error(s(474)),Hu=Error(s(542)),Gu={then:function(){}};function eg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(zn,zn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ig(t),t;default:if(typeof i.status=="string")i.then(zn,zn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ig(t),t}throw Ns=i,ba}}function Cs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ns=a,ba):a}}var Ns=null;function ng(){if(Ns===null)throw Error(s(459));var t=Ns;return Ns=null,t}function ig(t){if(t===ba||t===Hu)throw Error(s(483))}var wa=null,Gl=0;function Fu(t){var i=Gl;return Gl+=1,wa===null&&(wa=[]),tg(wa,t,i)}function Fl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Yu(t,i){throw i.$$typeof===D?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function rg(t){function i(j,M){if(t){var P=j.deletions;P===null?(j.deletions=[M],j.flags|=16):P.push(M)}}function a(j,M){if(!t)return null;for(;M!==null;)i(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=Vi(j,M),j.index=0,j.sibling=null,j}function d(j,M,P){return j.index=P,t?(P=j.alternate,P!==null?(P=P.index,P<M?(j.flags|=67108866,M):P):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,M,P,$){return M===null||M.tag!==6?(M=ef(P,j.mode,$),M.return=j,M):(M=h(M,P),M.return=j,M)}function I(j,M,P,$){var ge=P.type;return ge===X?K(j,M,P.props.children,$,P.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===b&&Cs(ge)===M.type)?(M=h(M,P.props),Fl(M,P),M.return=j,M):(M=Pu(P.type,P.key,P.props,null,j.mode,$),Fl(M,P),M.return=j,M)}function U(j,M,P,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=tf(P,j.mode,$),M.return=j,M):(M=h(M,P.children||[]),M.return=j,M)}function K(j,M,P,$,ge){return M===null||M.tag!==7?(M=Ss(P,j.mode,$,ge),M.return=j,M):(M=h(M,P),M.return=j,M)}function J(j,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ef(""+M,j.mode,P),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case B:return P=Pu(M.type,M.key,M.props,null,j.mode,P),Fl(P,M),P.return=j,P;case Y:return M=tf(M,j.mode,P),M.return=j,M;case b:return M=Cs(M),J(j,M,P)}if(pe(M)||V(M))return M=Ss(M,j.mode,P,null),M.return=j,M;if(typeof M.then=="function")return J(j,Fu(M),P);if(M.$$typeof===G)return J(j,Bu(j,M),P);Yu(j,M)}return null}function z(j,M,P,$){var ge=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ge!==null?null:T(j,M,""+P,$);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===ge?I(j,M,P,$):null;case Y:return P.key===ge?U(j,M,P,$):null;case b:return P=Cs(P),z(j,M,P,$)}if(pe(P)||V(P))return ge!==null?null:K(j,M,P,$,null);if(typeof P.then=="function")return z(j,M,Fu(P),$);if(P.$$typeof===G)return z(j,M,Bu(j,P),$);Yu(j,P)}return null}function F(j,M,P,$,ge){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return j=j.get(P)||null,T(M,j,""+$,ge);if(typeof $=="object"&&$!==null){switch($.$$typeof){case B:return j=j.get($.key===null?P:$.key)||null,I(M,j,$,ge);case Y:return j=j.get($.key===null?P:$.key)||null,U(M,j,$,ge);case b:return $=Cs($),F(j,M,P,$,ge)}if(pe($)||V($))return j=j.get(P)||null,K(M,j,$,ge,null);if(typeof $.then=="function")return F(j,M,P,Fu($),ge);if($.$$typeof===G)return F(j,M,P,Bu(M,$),ge);Yu(M,$)}return null}function fe(j,M,P,$){for(var ge=null,qe=null,me=M,De=M=0,Ve=null;me!==null&&De<P.length;De++){me.index>De?(Ve=me,me=null):Ve=me.sibling;var He=z(j,me,P[De],$);if(He===null){me===null&&(me=Ve);break}t&&me&&He.alternate===null&&i(j,me),M=d(He,M,De),qe===null?ge=He:qe.sibling=He,qe=He,me=Ve}if(De===P.length)return a(j,me),Ue&&ji(j,De),ge;if(me===null){for(;De<P.length;De++)me=J(j,P[De],$),me!==null&&(M=d(me,M,De),qe===null?ge=me:qe.sibling=me,qe=me);return Ue&&ji(j,De),ge}for(me=l(me);De<P.length;De++)Ve=F(me,j,De,P[De],$),Ve!==null&&(t&&Ve.alternate!==null&&me.delete(Ve.key===null?De:Ve.key),M=d(Ve,M,De),qe===null?ge=Ve:qe.sibling=Ve,qe=Ve);return t&&me.forEach(function(jr){return i(j,jr)}),Ue&&ji(j,De),ge}function _e(j,M,P,$){if(P==null)throw Error(s(151));for(var ge=null,qe=null,me=M,De=M=0,Ve=null,He=P.next();me!==null&&!He.done;De++,He=P.next()){me.index>De?(Ve=me,me=null):Ve=me.sibling;var jr=z(j,me,He.value,$);if(jr===null){me===null&&(me=Ve);break}t&&me&&jr.alternate===null&&i(j,me),M=d(jr,M,De),qe===null?ge=jr:qe.sibling=jr,qe=jr,me=Ve}if(He.done)return a(j,me),Ue&&ji(j,De),ge;if(me===null){for(;!He.done;De++,He=P.next())He=J(j,He.value,$),He!==null&&(M=d(He,M,De),qe===null?ge=He:qe.sibling=He,qe=He);return Ue&&ji(j,De),ge}for(me=l(me);!He.done;De++,He=P.next())He=F(me,j,De,He.value,$),He!==null&&(t&&He.alternate!==null&&me.delete(He.key===null?De:He.key),M=d(He,M,De),qe===null?ge=He:qe.sibling=He,qe=He);return t&&me.forEach(function($A){return i(j,$A)}),Ue&&ji(j,De),ge}function et(j,M,P,$){if(typeof P=="object"&&P!==null&&P.type===X&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:e:{for(var ge=P.key;M!==null;){if(M.key===ge){if(ge=P.type,ge===X){if(M.tag===7){a(j,M.sibling),$=h(M,P.props.children),$.return=j,j=$;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===b&&Cs(ge)===M.type){a(j,M.sibling),$=h(M,P.props),Fl($,P),$.return=j,j=$;break e}a(j,M);break}else i(j,M);M=M.sibling}P.type===X?($=Ss(P.props.children,j.mode,$,P.key),$.return=j,j=$):($=Pu(P.type,P.key,P.props,null,j.mode,$),Fl($,P),$.return=j,j=$)}return v(j);case Y:e:{for(ge=P.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){a(j,M.sibling),$=h(M,P.children||[]),$.return=j,j=$;break e}else{a(j,M);break}else i(j,M);M=M.sibling}$=tf(P,j.mode,$),$.return=j,j=$}return v(j);case b:return P=Cs(P),et(j,M,P,$)}if(pe(P))return fe(j,M,P,$);if(V(P)){if(ge=V(P),typeof ge!="function")throw Error(s(150));return P=ge.call(P),_e(j,M,P,$)}if(typeof P.then=="function")return et(j,M,Fu(P),$);if(P.$$typeof===G)return et(j,M,Bu(j,P),$);Yu(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(a(j,M.sibling),$=h(M,P),$.return=j,j=$):(a(j,M),$=ef(P,j.mode,$),$.return=j,j=$),v(j)):a(j,M)}return function(j,M,P,$){try{Gl=0;var ge=et(j,M,P,$);return wa=null,ge}catch(me){if(me===ba||me===Hu)throw me;var qe=mn(29,me,null,j.mode);return qe.lanes=$,qe.return=j,qe}}}var Is=rg(!0),sg=rg(!1),vr=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Tr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Lu(t),qp(t,null,a),i}return ju(t,l,i,a),Lu(t)}function Yl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,vl(t,a)}}function gf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var yf=!1;function Kl(){if(yf){var t=Aa;if(t!==null)throw t}}function Ql(t,i,a,l){yf=!1;var h=t.updateQueue;vr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,U=I.next;I.next=null,v===null?d=U:v.next=U,v=I;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==v&&(T===null?K.firstBaseUpdate=U:T.next=U,K.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;v=0,K=U=I=null,T=d;do{var z=T.lane&-536870913,F=z!==T.lane;if(F?(Me&z)===z:(l&z)===z){z!==0&&z===Sa&&(yf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,_e=T;z=i;var et=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){J=fe.call(et,J,z);break e}J=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,z=typeof fe=="function"?fe.call(et,J,z):fe,z==null)break e;J=R({},J,z);break e;case 2:vr=!0}}z=T.callback,z!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[z]:F.push(z))}else F={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(U=K=F,I=J):K=K.next=F,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(I=J),h.baseState=I,h.firstBaseUpdate=U,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Rr|=v,t.lanes=v,t.memoizedState=J}}function ag(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function lg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ag(a[t],i)}var Ra=O(null),Ku=O(0);function og(t,i){t=Ki,se(Ku,t),se(Ra,i),Ki=t|i.baseLanes}function _f(){se(Ku,Ki),se(Ra,Ra.current)}function vf(){Ki=Ku.current,Q(Ra),Q(Ku)}var pn=O(null),xn=null;function Sr(t){var i=t.alternate;se(mt,mt.current&1),se(pn,t),xn===null&&(i===null||Ra.current!==null||i.memoizedState!==null)&&(xn=t)}function Ef(t){se(mt,mt.current),se(pn,t),xn===null&&(xn=t)}function ug(t){t.tag===22?(se(mt,mt.current),se(pn,t),xn===null&&(xn=t)):Ar()}function Ar(){se(mt,mt.current),se(pn,pn.current)}function gn(t){Q(pn),xn===t&&(xn=null),Q(mt)}var mt=O(0);function Qu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rd(a)||Cd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ui=0,Ie=null,Ze=null,bt=null,Xu=!1,Ca=!1,xs=!1,$u=0,Xl=0,Na=null,zS=0;function ct(){throw Error(s(321))}function Tf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!dn(t[a],i[a]))return!1;return!0}function Sf(t,i,a,l,h,d){return Ui=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=t===null||t.memoizedState===null?Yg:Lf,xs=!1,d=a(l,h),xs=!1,Ca&&(d=hg(i,a,l,h)),cg(t),d}function cg(t){q.H=Zl;var i=Ze!==null&&Ze.next!==null;if(Ui=0,bt=Ze=Ie=null,Xu=!1,Xl=0,Na=null,i)throw Error(s(300));t===null||wt||(t=t.dependencies,t!==null&&zu(t)&&(wt=!0))}function hg(t,i,a,l){Ie=t;var h=0;do{if(Ca&&(Na=null),Xl=0,Ca=!1,25<=h)throw Error(s(301));if(h+=1,bt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=Kg,d=i(a,l)}while(Ca);return d}function BS(){var t=q.H,i=t.useState()[0];return i=typeof i.then=="function"?$l(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Af(){var t=$u!==0;return $u=0,t}function bf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function wf(t){if(Xu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Xu=!1}Ui=0,bt=Ze=Ie=null,Ca=!1,Xl=$u=0,Na=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ie.memoizedState=bt=t:bt=bt.next=t,bt}function pt(){if(Ze===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=bt===null?Ie.memoizedState:bt.next;if(i!==null)bt=i,Ze=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},bt===null?Ie.memoizedState=bt=t:bt=bt.next=t}return bt}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(t){var i=Xl;return Xl+=1,Na===null&&(Na=[]),t=tg(Na,t,i),i=Ie,(bt===null?i.memoizedState:bt.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?Yg:Lf),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $l(t);if(t.$$typeof===G)return Bt(t)}throw Error(s(438,String(t)))}function Rf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ju(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function zi(t,i){return typeof i=="function"?i(t):i}function Wu(t){var i=pt();return Cf(i,Ze,t)}function Cf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,I=null,U=i,K=!1;do{var J=U.lane&-536870913;if(J!==U.lane?(Me&J)===J:(Ui&J)===J){var z=U.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),J===Sa&&(K=!0);else if((Ui&z)===z){U=U.next,z===Sa&&(K=!0);continue}else J={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(T=I=J,v=d):I=I.next=J,Ie.lanes|=z,Rr|=z;J=U.action,xs&&a(d,J),d=U.hasEagerState?U.eagerState:a(d,J)}else z={lane:J,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(T=I=z,v=d):I=I.next=z,Ie.lanes|=J,Rr|=J;U=U.next}while(U!==null&&U!==i);if(I===null?v=d:I.next=T,!dn(d,t.memoizedState)&&(wt=!0,K&&(a=Aa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Nf(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);dn(d,i.memoizedState)||(wt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function fg(t,i,a){var l=Ie,h=pt(),d=Ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!dn((Ze||h).memoizedState,a);if(v&&(h.memoizedState=a,wt=!0),h=h.queue,Df(pg.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Ia(9,{destroy:void 0},mg.bind(null,l,h,a,i),null),tt===null)throw Error(s(349));d||(Ui&127)!==0||dg(l,i,a)}return a}function dg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Ju(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function mg(t,i,a,l){i.value=a,i.getSnapshot=l,gg(i)&&yg(t)}function pg(t,i,a){return a(function(){gg(i)&&yg(t)})}function gg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!dn(t,a)}catch{return!0}}function yg(t){var i=Ts(t,2);i!==null&&un(i,t,2)}function If(t){var i=tn();if(typeof t=="function"){var a=t;if(t=a(),xs){En(!0);try{a()}finally{En(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},i}function _g(t,i,a,l){return t.baseState=a,Cf(t,Ze,typeof l=="function"?l:zi)}function qS(t,i,a,l,h){if(nc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,vg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function vg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=q.T,v={};q.T=v;try{var T=a(h,l),I=q.S;I!==null&&I(v,T),Eg(t,i,T)}catch(U){xf(t,i,U)}finally{d!==null&&v.types!==null&&(d.types=v.types),q.T=d}}else try{d=a(h,l),Eg(t,i,d)}catch(U){xf(t,i,U)}}function Eg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Tg(t,i,l)},function(l){return xf(t,i,l)}):Tg(t,i,a)}function Tg(t,i,a){i.status="fulfilled",i.value=a,Sg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,vg(t,a)))}function xf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Sg(i),i=i.next;while(i!==l)}t.action=null}function Sg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ag(t,i){return i}function bg(t,i){if(Ue){var a=tt.formState;if(a!==null){e:{var l=Ie;if(Ue){if(it){t:{for(var h=it,d=In;h.nodeType!==8;){if(!d){h=null;break t}if(h=Dn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){it=Dn(h.nextSibling),l=h.data==="F!";break e}}yr(l)}l=!1}l&&(i=a[0])}}return a=tn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ag,lastRenderedState:i},a.queue=l,a=Hg.bind(null,Ie,l),l.dispatch=a,l=If(!1),d=jf.bind(null,Ie,!1,l.queue),l=tn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=qS.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function wg(t){var i=pt();return Rg(i,Ze,t)}function Rg(t,i,a){if(i=Cf(t,i,Ag)[0],t=Wu(zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=$l(i)}catch(v){throw v===ba?Hu:v}else l=i;i=pt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ia(9,{destroy:void 0},HS.bind(null,h,a),null)),[l,d,t]}function HS(t,i){t.action=i}function Cg(t){var i=pt(),a=Ze;if(a!==null)return Rg(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ia(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Ju(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ng(){return pt().memoizedState}function ec(t,i,a,l){var h=tn();Ie.flags|=t,h.memoizedState=Ia(1|i,{destroy:void 0},a,l===void 0?null:l)}function tc(t,i,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Tf(l,Ze.memoizedState.deps)?h.memoizedState=Ia(i,d,a,l):(Ie.flags|=t,h.memoizedState=Ia(1|i,d,a,l))}function Ig(t,i){ec(8390656,8,t,i)}function Df(t,i){tc(2048,8,t,i)}function GS(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=Ju(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function xg(t){var i=pt().memoizedState;return GS({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Dg(t,i){return tc(4,2,t,i)}function kg(t,i){return tc(4,4,t,i)}function Og(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Mg(t,i,a){a=a!=null?a.concat([t]):null,tc(4,4,Og.bind(null,i,t),a)}function kf(){}function Vg(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Tf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function jg(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Tf(i,l[1]))return l[0];if(l=t(),xs){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,i],l}function Of(t,i,a){return a===void 0||(Ui&1073741824)!==0&&(Me&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Ly(),Ie.lanes|=t,Rr|=t,a)}function Lg(t,i,a,l){return dn(a,i)?a:Ra.current!==null?(t=Of(t,a,l),dn(t,i)||(wt=!0),t):(Ui&42)===0||(Ui&1073741824)!==0&&(Me&261930)===0?(wt=!0,t.memoizedState=a):(t=Ly(),Ie.lanes|=t,Rr|=t,i)}function Pg(t,i,a,l,h){var d=te.p;te.p=d!==0&&8>d?d:8;var v=q.T,T={};q.T=T,jf(t,!1,i,a);try{var I=h(),U=q.S;if(U!==null&&U(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=US(I,l);Jl(t,i,K,vn(t))}else Jl(t,i,l,vn(t))}catch(J){Jl(t,i,{then:function(){},status:"rejected",reason:J},vn())}finally{te.p=d,v!==null&&T.types!==null&&(v.types=T.types),q.T=v}}function FS(){}function Mf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ug(t).queue;Pg(t,h,i,de,a===null?FS:function(){return zg(t),a(l)})}function Ug(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function zg(t){var i=Ug(t);i.next===null&&(i=t.alternate.memoizedState),Jl(t,i.next.queue,{},vn())}function Vf(){return Bt(po)}function Bg(){return pt().memoizedState}function qg(){return pt().memoizedState}function YS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=vn();t=Er(a);var l=Tr(i,t,a);l!==null&&(un(l,i,a),Yl(l,i,a)),i={cache:cf()},t.payload=i;return}i=i.return}}function KS(t,i,a){var l=vn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},nc(t)?Gg(i,a):(a=Zh(t,i,a,l),a!==null&&(un(a,t,l),Fg(a,i,l)))}function Hg(t,i,a){var l=vn();Jl(t,i,a,l)}function Jl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(t))Gg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,dn(T,v))return ju(t,i,h,0),tt===null&&Vu(),!1}catch{}if(a=Zh(t,i,h,l),a!==null)return un(a,t,l),Fg(a,i,l),!0}return!1}function jf(t,i,a,l){if(l={lane:2,revertLane:md(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},nc(t)){if(i)throw Error(s(479))}else i=Zh(t,a,l,2),i!==null&&un(i,t,2)}function nc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Gg(t,i){Ca=Xu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Fg(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,vl(t,a)}}var Zl={readContext:Bt,use:Zu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Zl.useEffectEvent=ct;var Yg={readContext:Bt,use:Zu,useCallback:function(t,i){return tn().memoizedState=[t,i===void 0?null:i],t},useContext:Bt,useEffect:Ig,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ec(4194308,4,Og.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ec(4194308,4,t,i)},useInsertionEffect:function(t,i){ec(4,2,t,i)},useMemo:function(t,i){var a=tn();i=i===void 0?null:i;var l=t();if(xs){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=tn();if(a!==void 0){var h=a(i);if(xs){En(!0);try{a(i)}finally{En(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=KS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=tn();return t={current:t},i.memoizedState=t},useState:function(t){t=If(t);var i=t.queue,a=Hg.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:kf,useDeferredValue:function(t,i){var a=tn();return Of(a,t,i)},useTransition:function(){var t=If(!1);return t=Pg.bind(null,Ie,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=tn();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Me&127)!==0||dg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ig(pg.bind(null,l,d,t),[t]),l.flags|=2048,Ia(9,{destroy:void 0},mg.bind(null,l,d,a,i),null),a},useId:function(){var t=tn(),i=tt.identifierPrefix;if(Ue){var a=Ei,l=vi;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=$u++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=zS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Vf,useFormState:bg,useActionState:bg,useOptimistic:function(t){var i=tn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=jf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Rf,useCacheRefresh:function(){return tn().memoizedState=YS.bind(null,Ie)},useEffectEvent:function(t){var i=tn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:Bt,use:Zu,useCallback:Vg,useContext:Bt,useEffect:Df,useImperativeHandle:Mg,useInsertionEffect:Dg,useLayoutEffect:kg,useMemo:jg,useReducer:Wu,useRef:Ng,useState:function(){return Wu(zi)},useDebugValue:kf,useDeferredValue:function(t,i){var a=pt();return Lg(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Wu(zi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:$l(t),i]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:Vf,useFormState:wg,useActionState:wg,useOptimistic:function(t,i){var a=pt();return _g(a,Ze,t,i)},useMemoCache:Rf,useCacheRefresh:qg};Lf.useEffectEvent=xg;var Kg={readContext:Bt,use:Zu,useCallback:Vg,useContext:Bt,useEffect:Df,useImperativeHandle:Mg,useInsertionEffect:Dg,useLayoutEffect:kg,useMemo:jg,useReducer:Nf,useRef:Ng,useState:function(){return Nf(zi)},useDebugValue:kf,useDeferredValue:function(t,i){var a=pt();return Ze===null?Of(a,t,i):Lg(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Nf(zi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:$l(t),i]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:Vf,useFormState:Cg,useActionState:Cg,useOptimistic:function(t,i){var a=pt();return Ze!==null?_g(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:qg};Kg.useEffectEvent=xg;function Pf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:R({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Uf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=vn(),h=Er(l);h.payload=i,a!=null&&(h.callback=a),i=Tr(t,h,l),i!==null&&(un(i,t,l),Yl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=vn(),h=Er(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Tr(t,h,l),i!==null&&(un(i,t,l),Yl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=vn(),l=Er(a);l.tag=2,i!=null&&(l.callback=i),i=Tr(t,l,a),i!==null&&(un(i,t,a),Yl(i,t,a))}};function Qg(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Pl(a,l)||!Pl(h,d):!0}function Xg(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Uf.enqueueReplaceState(i,i.state,null)}function Ds(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=R({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function $g(t){Mu(t)}function Jg(t){console.error(t)}function Zg(t){Mu(t)}function ic(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Wg(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(t,i,a){return a=Er(a),a.tag=3,a.payload={element:null},a.callback=function(){ic(t,i)},a}function ey(t){return t=Er(t),t.tag=3,t}function ty(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Wg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Wg(i,a,l),typeof h!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function QS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ta(i,a,h,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return xn===null?pc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Gu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),hd(t,l,h)),!1;case 22:return a.flags|=65536,l===Gu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),hd(t,l,h)),!1}throw Error(s(435,a.tag))}return hd(t,l,h),pc(),!1}if(Ue)return i=pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==sf&&(t=Error(s(422),{cause:l}),Bl(Rn(t,a)))):(l!==sf&&(i=Error(s(423),{cause:l}),Bl(Rn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,a),h=zf(t.stateNode,l,h),gf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),ao===null?ao=[d]:ao.push(d),ht!==4&&(ht=2),i===null)return!0;l=Rn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=zf(a.stateNode,l,t),gf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Cr===null||!Cr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ey(h),ty(h,t,a,l),gf(a,h),!1}a=a.return}while(a!==null);return!1}var Bf=Error(s(461)),wt=!1;function qt(t,i,a,l){i.child=t===null?sg(i,null,a,l):Is(i,t.child,a,l)}function ny(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ws(i),l=Sf(t,i,a,v,d,h),T=Af(),t!==null&&!wt?(bf(t,i,h),Bi(t,i,h)):(Ue&&T&&nf(i),i.flags|=1,qt(t,i,l,h),i.child)}function iy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Wh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ry(t,i,d,l,h)):(t=Pu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Xf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Pl,a(v,l)&&t.ref===i.ref)return Bi(t,i,h)}return i.flags|=1,t=Vi(d,l),t.ref=i.ref,t.return=i,i.child=t}function ry(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Pl(d,l)&&t.ref===i.ref)if(wt=!1,i.pendingProps=l=d,Xf(t,h))(t.flags&131072)!==0&&(wt=!0);else return i.lanes=t.lanes,Bi(t,i,h)}return qf(t,i,a,l,h)}function sy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return ay(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&qu(i,d!==null?d.cachePool:null),d!==null?og(i,d):_f(),ug(i);else return l=i.lanes=536870912,ay(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(qu(i,d.cachePool),og(i,d),Ar(),i.memoizedState=null):(t!==null&&qu(i,null),_f(),Ar());return qt(t,i,h,a),i.child}function Wl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function ay(t,i,a,l,h){var d=ff();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&qu(i,null),_f(),ug(i),t!==null&&Ta(t,i,l,!0),i.childLanes=h,null}function rc(t,i){return i=ac({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function ly(t,i,a){return Is(i,t.child,null,a),t=rc(i,i.pendingProps),t.flags|=2,gn(i),i.memoizedState=null,t}function XS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=rc(i,l),i.lanes=536870912,Wl(null,t);if(Ef(i),(t=it)?(t=v_(t,In),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:pr!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},a=Gp(t),a.return=i,i.child=a,zt=i,it=null)):t=null,t===null)throw yr(i);return i.lanes=536870912,null}return rc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Ef(i),h)if(i.flags&256)i.flags&=-257,i=ly(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(wt||Ta(t,i,a,!1),h=(a&t.childLanes)!==0,wt||h){if(l=tt,l!==null&&(v=El(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ts(t,v),un(l,t,v),Bf;pc(),i=ly(t,i,a)}else t=d.treeContext,it=Dn(v.nextSibling),zt=i,Ue=!0,gr=null,In=!1,t!==null&&Kp(i,t),i=rc(i,l),i.flags|=4096;return i}return t=Vi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function sc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function qf(t,i,a,l,h){return ws(i),a=Sf(t,i,a,l,void 0,h),l=Af(),t!==null&&!wt?(bf(t,i,h),Bi(t,i,h)):(Ue&&l&&nf(i),i.flags|=1,qt(t,i,a,h),i.child)}function oy(t,i,a,l,h,d){return ws(i),i.updateQueue=null,a=hg(i,l,a,h),cg(t),l=Af(),t!==null&&!wt?(bf(t,i,d),Bi(t,i,d)):(Ue&&l&&nf(i),i.flags|=1,qt(t,i,a,d),i.child)}function uy(t,i,a,l,h){if(ws(i),i.stateNode===null){var d=ya,v=a.contextType;typeof v=="object"&&v!==null&&(d=Bt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Uf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},mf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Bt(v):ya,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Pf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Uf.enqueueReplaceState(d,d.state,null),Ql(i,l,d,h),Kl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=Ds(a,T);d.props=I;var U=d.context,K=a.contextType;v=ya,typeof K=="object"&&K!==null&&(v=Bt(K));var J=a.getDerivedStateFromProps;K=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==v)&&Xg(i,d,l,v),vr=!1;var z=i.memoizedState;d.state=z,Ql(i,l,d,h),Kl(),U=i.memoizedState,T||z!==U||vr?(typeof J=="function"&&(Pf(i,a,J,l),U=i.memoizedState),(I=vr||Qg(i,a,I,l,z,U,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=U),d.props=l,d.state=U,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,pf(t,i),v=i.memoizedProps,K=Ds(a,v),d.props=K,J=i.pendingProps,z=d.context,U=a.contextType,I=ya,typeof U=="object"&&U!==null&&(I=Bt(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||z!==I)&&Xg(i,d,l,I),vr=!1,z=i.memoizedState,d.state=z,Ql(i,l,d,h),Kl();var F=i.memoizedState;v!==J||z!==F||vr||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof T=="function"&&(Pf(i,a,T,l),F=i.memoizedState),(K=vr||Qg(i,a,K,l,z,F,I)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=I,l=K):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,sc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Is(i,t.child,null,h),i.child=Is(i,null,a,h)):qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Bi(t,i,h),t}function cy(t,i,a,l){return As(),i.flags|=256,qt(t,i,a,l),i.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(t){return{baseLanes:t,cachePool:Wp()}}function Ff(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=_n),t}function hy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(h?Sr(i):Ar(),(t=it)?(t=v_(t,In),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:pr!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},a=Gp(t),a.return=i,i.child=a,zt=i,it=null)):t=null,t===null)throw yr(i);return Cd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ar(),h=i.mode,T=ac({mode:"hidden",children:T},h),l=Ss(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Gf(a),l.childLanes=Ff(t,v,a),i.memoizedState=Hf,Wl(null,l)):(Sr(i),Yf(i,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Sr(i),i.flags&=-257,i=Kf(t,i,a)):i.memoizedState!==null?(Ar(),i.child=t.child,i.flags|=128,i=null):(Ar(),T=l.fallback,h=i.mode,l=ac({mode:"visible",children:l.children},h),T=Ss(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Is(i,t.child,null,a),l=i.child,l.memoizedState=Gf(a),l.childLanes=Ff(t,v,a),i.memoizedState=Hf,i=Wl(null,l));else if(Sr(i),Cd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,Bl({value:l,source:null,stack:null}),i=Kf(t,i,a)}else if(wt||Ta(t,i,a,!1),v=(a&t.childLanes)!==0,wt||v){if(v=tt,v!==null&&(l=El(v,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Ts(t,l),un(v,t,l),Bf;Rd(T)||pc(),i=Kf(t,i,a)}else Rd(T)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,it=Dn(T.nextSibling),zt=i,Ue=!0,gr=null,In=!1,t!==null&&Kp(i,t),i=Yf(i,l.children),i.flags|=4096);return i}return h?(Ar(),T=l.fallback,h=i.mode,I=t.child,U=I.sibling,l=Vi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,U!==null?T=Vi(U,T):(T=Ss(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Wl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Gf(a):(h=T.cachePool,h!==null?(I=At._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Wp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Ff(t,v,a),i.memoizedState=Hf,Wl(t.child,l)):(Sr(i),a=t.child,t=a.sibling,a=Vi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Yf(t,i){return i=ac({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ac(t,i){return t=mn(22,t,null,i),t.lanes=0,t}function Kf(t,i,a){return Is(i,t.child,null,a),t=Yf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function fy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),of(t.return,i,a)}function Qf(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function dy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=mt.current,T=(v&2)!==0;if(T?(v=v&1|2,i.flags|=128):v&=1,se(mt,v),qt(t,i,l,a),l=Ue?zl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fy(t,a,i);else if(t.tag===19)fy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Qu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Qf(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Qu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Qf(i,!0,a,null,d,l);break;case"together":Qf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Bi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Rr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ta(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Vi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Vi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Xf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function $S(t,i,a){switch(i.tag){case 3:xt(i,i.stateNode.containerInfo),_r(i,At,t.memoizedState.cache),As();break;case 27:case 5:is(i);break;case 4:xt(i,i.stateNode.containerInfo);break;case 10:_r(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ef(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Sr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?hy(t,i,a):(Sr(i),t=Bi(t,i,a),t!==null?t.sibling:null);Sr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ta(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return dy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(mt,mt.current),l)break;return null;case 22:return i.lanes=0,sy(t,i,a,i.pendingProps);case 24:_r(i,At,t.memoizedState.cache)}return Bi(t,i,a)}function my(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)wt=!0;else{if(!Xf(t,a)&&(i.flags&128)===0)return wt=!1,$S(t,i,a);wt=(t.flags&131072)!==0}else wt=!1,Ue&&(i.flags&1048576)!==0&&Yp(i,zl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Cs(i.elementType),i.type=t,typeof t=="function")Wh(t)?(l=Ds(t,l),i.tag=1,i=uy(null,i,t,l,a)):(i.tag=0,i=qf(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===le){i.tag=11,i=ny(null,i,t,l,a);break e}else if(h===w){i.tag=14,i=iy(null,i,t,l,a);break e}}throw i=Ye(t)||t,Error(s(306,i,""))}}return i;case 0:return qf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ds(l,i.pendingProps),uy(t,i,l,h,a);case 3:e:{if(xt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,pf(t,i),Ql(i,l,null,a);var v=i.memoizedState;if(l=v.cache,_r(i,At,l),l!==d.cache&&uf(i,[At],a,!0),Kl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=cy(t,i,l,a);break e}else if(l!==h){h=Rn(Error(s(424)),i),Bl(h),i=cy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=Dn(t.firstChild),zt=i,Ue=!0,gr=null,In=!0,a=sg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(As(),l===h){i=Bi(t,i,a);break e}qt(t,i,l,a)}i=i.child}return i;case 26:return sc(t,i),t===null?(a=w_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ue||(a=i.type,t=i.pendingProps,l=Sc(xe.current).createElement(a),l[Et]=i,l[Mt]=t,Ht(l,a,t),Tt(l),i.stateNode=l):i.memoizedState=w_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return is(i),t===null&&Ue&&(l=i.stateNode=S_(i.type,i.pendingProps,xe.current),zt=i,In=!0,h=it,Dr(i.type)?(Nd=h,it=Dn(l.firstChild)):it=h),qt(t,i,i.pendingProps.children,a),sc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((h=l=it)&&(l=RA(l,i.type,i.pendingProps,In),l!==null?(i.stateNode=l,zt=i,it=Dn(l.firstChild),In=!1,h=!0):h=!1),h||yr(i)),is(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Ad(h,d)?l=null:v!==null&&Ad(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Sf(t,i,BS,null,null,a),po._currentValue=h),sc(t,i),qt(t,i,l,a),i.child;case 6:return t===null&&Ue&&((t=a=it)&&(a=CA(a,i.pendingProps,In),a!==null?(i.stateNode=a,zt=i,it=null,t=!0):t=!1),t||yr(i)),null;case 13:return hy(t,i,a);case 4:return xt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Is(i,null,l,a):qt(t,i,l,a),i.child;case 11:return ny(t,i,i.type,i.pendingProps,a);case 7:return qt(t,i,i.pendingProps,a),i.child;case 8:return qt(t,i,i.pendingProps.children,a),i.child;case 12:return qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,_r(i,i.type,l.value),qt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ws(i),h=Bt(h),l=l(h),i.flags|=1,qt(t,i,l,a),i.child;case 14:return iy(t,i,i.type,i.pendingProps,a);case 15:return ry(t,i,i.type,i.pendingProps,a);case 19:return dy(t,i,a);case 31:return XS(t,i,a);case 22:return sy(t,i,a,i.pendingProps);case 24:return ws(i),l=Bt(At),t===null?(h=ff(),h===null&&(h=tt,d=cf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},mf(i),_r(i,At,h)):((t.lanes&a)!==0&&(pf(t,i),Ql(i,null,null,a),Kl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),_r(i,At,l)):(l=d.cache,_r(i,At,l),l!==h.cache&&uf(i,[At],a,!0))),qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function qi(t){t.flags|=4}function $f(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(By())t.flags|=8192;else throw Ns=Gu,df}else t.flags&=-16777217}function py(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!x_(i))if(By())t.flags|=8192;else throw Ns=Gu,df}function lc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?du():536870912,t.lanes|=i,Oa|=i)}function eo(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function JS(t,i,a){var l=i.pendingProps;switch(rf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Pi(At),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ea(i)?qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,af())),rt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(qi(i),d!==null?(rt(i),py(i,d)):(rt(i),$f(i,h,null,l,a))):d?d!==t.memoizedState?(qi(i),rt(i),py(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&qi(i),rt(i),$f(i,h,t,l,a)),null;case 27:if(Zs(i),a=xe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=ce.current,Ea(i)?Qp(i):(t=S_(h,l,a),i.stateNode=t,qi(i))}return rt(i),null;case 5:if(Zs(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(d=ce.current,Ea(i))Qp(i);else{var v=Sc(xe.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Et]=i,d[Mt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Ht(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&qi(i)}}return rt(i),$f(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,Ea(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=zt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||h_(t.nodeValue,a)),t||yr(i,!0)}else t=Sc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ea(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=i}else As(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(gn(i),i):(gn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ea(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=i}else As(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(gn(i),i):(gn(i),null)}return gn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),lc(i,i.updateQueue),rt(i),null);case 4:return at(),t===null&&_d(i.stateNode.containerInfo),rt(i),null;case 10:return Pi(i.type),rt(i),null;case 19:if(Q(mt),l=i.memoizedState,l===null)return rt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)eo(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Qu(t),d!==null){for(i.flags|=128,eo(l,!1),t=d.updateQueue,i.updateQueue=t,lc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Hp(a,t),a=a.sibling;return se(mt,mt.current&1|2),Ue&&ji(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Wt()>fc&&(i.flags|=128,h=!0,eo(l,!1),i.lanes=4194304)}else{if(!h)if(t=Qu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,lc(i,t),eo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return rt(i),null}else 2*Wt()-l.renderingStartTime>fc&&a!==536870912&&(i.flags|=128,h=!0,eo(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Wt(),t.sibling=null,a=mt.current,se(mt,h?a&1|2:a&1),Ue&&ji(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return gn(i),vf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&lc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Q(Rs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Pi(At),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function ZS(t,i){switch(rf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Pi(At),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Zs(i),null;case 31:if(i.memoizedState!==null){if(gn(i),i.alternate===null)throw Error(s(340));As()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(gn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));As()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Q(mt),null;case 4:return at(),null;case 10:return Pi(i.type),null;case 22:case 23:return gn(i),vf(),t!==null&&Q(Rs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Pi(At),null;case 25:return null;default:return null}}function gy(t,i){switch(rf(i),i.tag){case 3:Pi(At),at();break;case 26:case 27:case 5:Zs(i);break;case 4:at();break;case 31:i.memoizedState!==null&&gn(i);break;case 13:gn(i);break;case 19:Q(mt);break;case 10:Pi(i.type);break;case 22:case 23:gn(i),vf(),t!==null&&Q(Rs);break;case 24:Pi(At)}}function to(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){$e(i,i.return,T)}}function br(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,U=T;try{U()}catch(K){$e(h,I,K)}}}l=l.next}while(l!==d)}}catch(K){$e(i,i.return,K)}}function yy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{lg(i,a)}catch(l){$e(t,t.return,l)}}}function _y(t,i,a){a.props=Ds(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function no(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){$e(t,i,h)}}function Ti(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function vy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function Jf(t,i,a){try{var l=t.stateNode;EA(l,t.type,a,i),l[Mt]=i}catch(h){$e(t,t.return,h)}}function Ey(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Dr(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Dr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=zn));else if(l!==4&&(l===27&&Dr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Wf(t,i,a),t=t.sibling;t!==null;)Wf(t,i,a),t=t.sibling}function oc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Dr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(oc(t,i,a),t=t.sibling;t!==null;)oc(t,i,a),t=t.sibling}function Ty(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ht(i,l,a),i[Et]=t,i[Mt]=a}catch(d){$e(t,t.return,d)}}var Hi=!1,Rt=!1,ed=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,jt=null;function WS(t,i){if(t=t.containerInfo,Td=Ic,t=Mp(t),Yh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,U=0,K=0,J=t,z=null;t:for(;;){for(var F;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(I=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(F=J.firstChild)!==null;)z=J,J=F;for(;;){if(J===t)break t;if(z===a&&++U===h&&(T=v),z===d&&++K===l&&(I=v),(F=J.nextSibling)!==null)break;J=z,z=J.parentNode}J=F}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sd={focusedElem:t,selectionRange:a},Ic=!1,jt=i;jt!==null;)if(i=jt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,jt=t;else for(;jt!==null;){switch(i=jt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Ds(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){$e(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)wd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,jt=t;break}jt=i.return}}function Ay(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(t,a),l&4&&to(5,a);break;case 1:if(Fi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){$e(a,a.return,v)}else{var h=Ds(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){$e(a,a.return,v)}}l&64&&yy(a),l&512&&no(a,a.return);break;case 3:if(Fi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{lg(t,i)}catch(v){$e(a,a.return,v)}}break;case 27:i===null&&l&4&&Ty(a);case 26:case 5:Fi(t,a),i===null&&l&4&&vy(a),l&512&&no(a,a.return);break;case 12:Fi(t,a);break;case 31:Fi(t,a),l&4&&Ry(t,a);break;case 13:Fi(t,a),l&4&&Cy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=oA.bind(null,a),NA(t,a))));break;case 22:if(l=a.memoizedState!==null||Hi,!l){i=i!==null&&i.memoizedState!==null||Rt,h=Hi;var d=Rt;Hi=l,(Rt=i)&&!d?Yi(t,a,(a.subtreeFlags&8772)!==0):Fi(t,a),Hi=h,Rt=d}break;case 30:break;default:Fi(t,a)}}function by(t){var i=t.alternate;i!==null&&(t.alternate=null,by(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ia(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,sn=!1;function Gi(t,i,a){for(a=a.child;a!==null;)wy(t,i,a),a=a.sibling}function wy(t,i,a){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:Rt||Ti(a,i),Gi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Ti(a,i);var l=ot,h=sn;Dr(a.type)&&(ot=a.stateNode,sn=!1),Gi(t,i,a),ho(a.stateNode),ot=l,sn=h;break;case 5:Rt||Ti(a,i);case 6:if(l=ot,h=sn,ot=null,Gi(t,i,a),ot=l,sn=h,ot!==null)if(sn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:ot!==null&&(sn?(t=ot,y_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ba(t)):y_(ot,a.stateNode));break;case 4:l=ot,h=sn,ot=a.stateNode.containerInfo,sn=!0,Gi(t,i,a),ot=l,sn=h;break;case 0:case 11:case 14:case 15:br(2,a,i),Rt||br(4,a,i),Gi(t,i,a);break;case 1:Rt||(Ti(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&_y(a,i,l)),Gi(t,i,a);break;case 21:Gi(t,i,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,Gi(t,i,a),Rt=l;break;default:Gi(t,i,a)}}function Ry(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ba(t)}catch(a){$e(i,i.return,a)}}}function Cy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ba(t)}catch(a){$e(i,i.return,a)}}function eA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Sy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Sy),i;default:throw Error(s(435,t.tag))}}function uc(t,i){var a=eA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=uA.bind(null,t,l);l.then(h,h)}})}function an(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Dr(T.type)){ot=T.stateNode,sn=!1;break e}break;case 5:ot=T.stateNode,sn=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,sn=!0;break e}T=T.return}if(ot===null)throw Error(s(160));wy(d,v,h),ot=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ny(i,t),i=i.sibling}var Yn=null;function Ny(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(i,t),ln(t),l&4&&(br(3,t,t.return),to(3,t),br(5,t,t.return));break;case 1:an(i,t),ln(t),l&512&&(Rt||a===null||Ti(a,a.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Yn;if(an(i,t),ln(t),l&512&&(Rt||a===null||Ti(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[li]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ht(d,l,a),d[Et]=t,Tt(d),l=d;break e;case"link":var v=N_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Ht(d,l,a),h.head.appendChild(d);break;case"meta":if(v=N_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Ht(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,Tt(d),l=d}t.stateNode=l}else I_(h,t.type,t.stateNode);else t.stateNode=C_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?I_(h,t.type,t.stateNode):C_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(i,t),ln(t),l&512&&(Rt||a===null||Ti(a,a.return)),a!==null&&l&4&&Jf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(i,t),ln(t),l&512&&(Rt||a===null||Ti(a,a.return)),t.flags&32){h=t.stateNode;try{rn(h,"")}catch(fe){$e(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Jf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ed=!0);break;case 6:if(an(i,t),ln(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){$e(t,t.return,fe)}}break;case 3:if(wc=null,h=Yn,Yn=Ac(i.containerInfo),an(i,t),Yn=h,ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ba(i.containerInfo)}catch(fe){$e(t,t.return,fe)}ed&&(ed=!1,Iy(t));break;case 4:l=Yn,Yn=Ac(t.stateNode.containerInfo),an(i,t),ln(t),Yn=l;break;case 12:an(i,t),ln(t);break;case 31:an(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uc(t,l)));break;case 13:an(i,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hc=Wt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uc(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,U=Hi,K=Rt;if(Hi=U||h,Rt=K||I,an(i,t),Rt=K,Hi=U,ln(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Hi||Rt||ks(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var J=I.memoizedProps.style,z=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(fe){$e(I,I.return,fe)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(fe){$e(I,I.return,fe)}}}else if(i.tag===18){if(a===null){I=i;try{var F=I.stateNode;h?__(F,!0):__(I.stateNode,!1)}catch(fe){$e(I,I.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,uc(t,a))));break;case 19:an(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uc(t,l)));break;case 30:break;case 21:break;default:an(i,t),ln(t)}}function ln(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Ey(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Zf(t);oc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(rn(v,""),a.flags&=-33);var T=Zf(t);oc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,U=Zf(t);Wf(t,U,I);break;default:throw Error(s(161))}}catch(K){$e(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Iy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Iy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Fi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ay(t,i.alternate,i),i=i.sibling}function ks(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:br(4,i,i.return),ks(i);break;case 1:Ti(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&_y(i,i.return,a),ks(i);break;case 27:ho(i.stateNode);case 26:case 5:Ti(i,i.return),ks(i);break;case 22:i.memoizedState===null&&ks(i);break;case 30:ks(i);break;default:ks(i)}t=t.sibling}}function Yi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Yi(h,d,a),to(4,d);break;case 1:if(Yi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){$e(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ag(I[h],T)}catch(U){$e(l,l.return,U)}}a&&v&64&&yy(d),no(d,d.return);break;case 27:Ty(d);case 26:case 5:Yi(h,d,a),a&&l===null&&v&4&&vy(d),no(d,d.return);break;case 12:Yi(h,d,a);break;case 31:Yi(h,d,a),a&&v&4&&Ry(h,d);break;case 13:Yi(h,d,a),a&&v&4&&Cy(h,d);break;case 22:d.memoizedState===null&&Yi(h,d,a),no(d,d.return);break;case 30:break;default:Yi(h,d,a)}i=i.sibling}}function td(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ql(a))}function nd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ql(t))}function Kn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xy(t,i,a,l),i=i.sibling}function xy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Kn(t,i,a,l),h&2048&&to(9,i);break;case 1:Kn(t,i,a,l);break;case 3:Kn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ql(t)));break;case 12:if(h&2048){Kn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){$e(i,i.return,I)}}else Kn(t,i,a,l);break;case 31:Kn(t,i,a,l);break;case 13:Kn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Kn(t,i,a,l):io(t,i):d._visibility&2?Kn(t,i,a,l):(d._visibility|=2,xa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&td(v,i);break;case 24:Kn(t,i,a,l),h&2048&&nd(i.alternate,i);break;default:Kn(t,i,a,l)}}function xa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,T=a,I=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:xa(d,v,T,I,h),to(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?xa(d,v,T,I,h):io(d,v):(K._visibility|=2,xa(d,v,T,I,h)),h&&U&2048&&td(v.alternate,v);break;case 24:xa(d,v,T,I,h),h&&U&2048&&nd(v.alternate,v);break;default:xa(d,v,T,I,h)}i=i.sibling}}function io(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:io(a,l),h&2048&&td(l.alternate,l);break;case 24:io(a,l),h&2048&&nd(l.alternate,l);break;default:io(a,l)}i=i.sibling}}var ro=8192;function Da(t,i,a){if(t.subtreeFlags&ro)for(t=t.child;t!==null;)Dy(t,i,a),t=t.sibling}function Dy(t,i,a){switch(t.tag){case 26:Da(t,i,a),t.flags&ro&&t.memoizedState!==null&&zA(a,Yn,t.memoizedState,t.memoizedProps);break;case 5:Da(t,i,a);break;case 3:case 4:var l=Yn;Yn=Ac(t.stateNode.containerInfo),Da(t,i,a),Yn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ro,ro=16777216,Da(t,i,a),ro=l):Da(t,i,a));break;default:Da(t,i,a)}}function ky(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function so(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,My(l,t)}ky(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Oy(t),t=t.sibling}function Oy(t){switch(t.tag){case 0:case 11:case 15:so(t),t.flags&2048&&br(9,t,t.return);break;case 3:so(t);break;case 12:so(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,cc(t)):so(t);break;default:so(t)}}function cc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,My(l,t)}ky(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:br(8,i,i.return),cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,cc(i));break;default:cc(i)}t=t.sibling}}function My(t,i){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ql(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,jt=l;else e:for(a=t;jt!==null;){l=jt;var h=l.sibling,d=l.return;if(by(l),l===a){jt=null;break e}if(h!==null){h.return=d,jt=h;break e}jt=d}}}var tA={getCacheForType:function(t){var i=Bt(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Bt(At).controller.signal}},nA=typeof WeakMap=="function"?WeakMap:Map,Fe=0,tt=null,ke=null,Me=0,Xe=0,yn=null,wr=!1,ka=!1,id=!1,Ki=0,ht=0,Rr=0,Os=0,rd=0,_n=0,Oa=0,ao=null,on=null,sd=!1,hc=0,Vy=0,fc=1/0,dc=null,Cr=null,kt=0,Nr=null,Ma=null,Qi=0,ad=0,ld=null,jy=null,lo=0,od=null;function vn(){return(Fe&2)!==0&&Me!==0?Me&-Me:q.T!==null?md():mu()}function Ly(){if(_n===0)if((Me&536870912)===0||Ue){var t=as;as<<=1,(as&3932160)===0&&(as=262144),_n=t}else _n=536870912;return t=pn.current,t!==null&&(t.flags|=32),_n}function un(t,i,a){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Va(t,0),Ir(t,Me,_n,!1)),ls(t,a),((Fe&2)===0||t!==tt)&&(t===tt&&((Fe&2)===0&&(Os|=a),ht===4&&Ir(t,Me,_n,!1)),Si(t))}function Py(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Ln(t,i),h=l?sA(t,i):cd(t,i,!0),d=l;do{if(h===0){ka&&!l&&Ir(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!iA(a)){h=cd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=ao;var I=T.current.memoizedState.isDehydrated;if(I&&(Va(T,v).flags|=256),v=cd(T,v,!1),v!==2){if(id&&!I){T.errorRecoveryDisabledLanes|=d,Os|=d,h=4;break e}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Va(t,0),Ir(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ir(l,i,_n,!wr);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=hc+300-Wt(),10<h)){if(Ir(l,i,_n,!wr),ri(l,0,!0)!==0)break e;Qi=i,l.timeoutHandle=p_(Uy.bind(null,l,a,on,dc,sd,i,_n,Os,Oa,wr,d,"Throttled",-0,0),h);break e}Uy(l,a,on,dc,sd,i,_n,Os,Oa,wr,d,null,-0,0)}}break}while(!0);Si(t)}function Uy(t,i,a,l,h,d,v,T,I,U,K,J,z,F){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},Dy(i,d,J);var fe=(d&62914560)===d?hc-Wt():(d&4194048)===d?Vy-Wt():0;if(fe=BA(J,fe),fe!==null){Qi=d,t.cancelPendingCommit=fe(Ky.bind(null,t,i,d,a,l,h,v,T,I,K,J,null,z,F)),Ir(t,d,v,!U);return}}Ky(t,i,d,a,l,h,v,T,I)}function iA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ir(t,i,a,l){i&=~rd,i&=~Os,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-ft(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&os(t,a,i)}function mc(){return(Fe&6)===0?(oo(0),!1):!0}function ud(){if(ke!==null){if(Xe===0)var t=ke.return;else t=ke,Li=bs=null,wf(t),wa=null,Gl=0,t=ke;for(;t!==null;)gy(t.alternate,t),t=t.return;ke=null}}function Va(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,AA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Qi=0,ud(),tt=t,ke=a=Vi(t.current,null),Me=i,Xe=0,yn=null,wr=!1,ka=Ln(t,i),id=!1,Oa=_n=rd=Os=Rr=ht=0,on=ao=null,sd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-ft(l),d=1<<h;i|=t[h],l&=~d}return Ki=i,Vu(),a}function zy(t,i){Ie=null,q.H=Zl,i===ba||i===Hu?(i=ng(),Xe=3):i===df?(i=ng(),Xe=4):Xe=i===Bf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,ke===null&&(ht=1,ic(t,Rn(i,t.current)))}function By(){var t=pn.current;return t===null?!0:(Me&4194048)===Me?xn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===xn:!1}function qy(){var t=q.H;return q.H=Zl,t===null?Zl:t}function Hy(){var t=q.A;return q.A=tA,t}function pc(){ht=4,wr||(Me&4194048)!==Me&&pn.current!==null||(ka=!0),(Rr&134217727)===0&&(Os&134217727)===0||tt===null||Ir(tt,Me,_n,!1)}function cd(t,i,a){var l=Fe;Fe|=2;var h=qy(),d=Hy();(tt!==t||Me!==i)&&(dc=null,Va(t,i)),i=!1;var v=ht;e:do try{if(Xe!==0&&ke!==null){var T=ke,I=yn;switch(Xe){case 8:ud(),v=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(i=!0);var U=Xe;if(Xe=0,yn=null,ja(t,T,I,U),a&&ka){v=0;break e}break;default:U=Xe,Xe=0,yn=null,ja(t,T,I,U)}}rA(),v=ht;break}catch(K){zy(t,K)}while(!0);return i&&t.shellSuspendCounter++,Li=bs=null,Fe=l,q.H=h,q.A=d,ke===null&&(tt=null,Me=0,Vu()),v}function rA(){for(;ke!==null;)Gy(ke)}function sA(t,i){var a=Fe;Fe|=2;var l=qy(),h=Hy();tt!==t||Me!==i?(dc=null,fc=Wt()+500,Va(t,i)):ka=Ln(t,i);e:do try{if(Xe!==0&&ke!==null){i=ke;var d=yn;t:switch(Xe){case 1:Xe=0,yn=null,ja(t,i,d,1);break;case 2:case 9:if(eg(d)){Xe=0,yn=null,Fy(i);break}i=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),Si(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:eg(d)?(Xe=0,yn=null,Fy(i)):(Xe=0,yn=null,ja(t,i,d,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var T=ke;if(v?x_(v):T.stateNode.complete){Xe=0,yn=null;var I=T.sibling;if(I!==null)ke=I;else{var U=T.return;U!==null?(ke=U,gc(U)):ke=null}break t}}Xe=0,yn=null,ja(t,i,d,5);break;case 6:Xe=0,yn=null,ja(t,i,d,6);break;case 8:ud(),ht=6;break e;default:throw Error(s(462))}}aA();break}catch(K){zy(t,K)}while(!0);return Li=bs=null,q.H=l,q.A=h,Fe=a,ke!==null?0:(tt=null,Me=0,Vu(),ht)}function aA(){for(;ke!==null&&!Uh();)Gy(ke)}function Gy(t){var i=my(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,i===null?gc(t):ke=i}function Fy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=oy(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=oy(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:wf(i);default:gy(a,i),i=ke=Hp(i,Ki),i=my(a,i,Ki)}t.memoizedProps=t.pendingProps,i===null?gc(t):ke=i}function ja(t,i,a,l){Li=bs=null,wf(i),wa=null,Gl=0;var h=i.return;try{if(QS(t,h,i,a,Me)){ht=1,ic(t,Rn(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;ht=1,ic(t,Rn(a,t.current)),ke=null;return}i.flags&32768?(Ue||l===1?t=!0:ka||(Me&536870912)!==0?t=!1:(wr=t=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Yy(i,t)):gc(i)}function gc(t){var i=t;do{if((i.flags&32768)!==0){Yy(i,wr);return}t=i.return;var a=JS(i.alternate,i,Ki);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);ht===0&&(ht=5)}function Yy(t,i){do{var a=ZS(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);ht=6,ke=null}function Ky(t,i,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do yc();while(kt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Jh,qh(t,a,d,v,T,I),t===tt&&(ke=tt=null,Me=0),Ma=i,Nr=t,Qi=a,ad=d,ld=h,jy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,cA(sr,function(){return Zy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=te.p,te.p=2,v=Fe,Fe|=4;try{WS(t,i,a)}finally{Fe=v,te.p=h,q.T=l}}kt=1,Qy(),Xy(),$y()}}function Qy(){if(kt===1){kt=0;var t=Nr,i=Ma,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=te.p;te.p=2;var h=Fe;Fe|=4;try{Ny(i,t);var d=Sd,v=Mp(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Op(T.ownerDocument.documentElement,T)){if(I!==null&&Yh(T)){var U=I.start,K=I.end;if(K===void 0&&(K=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(K,T.value.length);else{var J=T.ownerDocument||document,z=J&&J.defaultView||window;if(z.getSelection){var F=z.getSelection(),fe=T.textContent.length,_e=Math.min(I.start,fe),et=I.end===void 0?_e:Math.min(I.end,fe);!F.extend&&_e>et&&(v=et,et=_e,_e=v);var j=kp(T,_e),M=kp(T,et);if(j&&M&&(F.rangeCount!==1||F.anchorNode!==j.node||F.anchorOffset!==j.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var P=J.createRange();P.setStart(j.node,j.offset),F.removeAllRanges(),_e>et?(F.addRange(P),F.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),F.addRange(P))}}}}for(J=[],F=T;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var $=J[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Ic=!!Td,Sd=Td=null}finally{Fe=h,te.p=l,q.T=a}}t.current=i,kt=2}}function Xy(){if(kt===2){kt=0;var t=Nr,i=Ma,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=te.p;te.p=2;var h=Fe;Fe|=4;try{Ay(t,i.alternate,i)}finally{Fe=h,te.p=l,q.T=a}}kt=3}}function $y(){if(kt===4||kt===3){kt=0,lu();var t=Nr,i=Ma,a=Qi,l=jy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kt=5:(kt=0,Ma=Nr=null,Jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Cr=null),Di(a),i=i.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(jn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=q.T,h=te.p,te.p=2,q.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{q.T=i,te.p=h}}(Qi&3)!==0&&yc(),Si(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===od?lo++:(lo=0,od=t):lo=0,oo(0)}}function Jy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ql(i)))}function yc(){return Qy(),Xy(),$y(),Zy()}function Zy(){if(kt!==5)return!1;var t=Nr,i=ad;ad=0;var a=Di(Qi),l=q.T,h=te.p;try{te.p=32>a?32:a,q.T=null,a=ld,ld=null;var d=Nr,v=Qi;if(kt=0,Ma=Nr=null,Qi=0,(Fe&6)!==0)throw Error(s(331));var T=Fe;if(Fe|=4,Oy(d.current),xy(d,d.current,v,a),Fe=T,oo(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(jn,d)}catch{}return!0}finally{te.p=h,q.T=l,Jy(t,i)}}function Wy(t,i,a){i=Rn(a,i),i=zf(t.stateNode,i,2),t=Tr(t,i,2),t!==null&&(ls(t,2),Si(t))}function $e(t,i,a){if(t.tag===3)Wy(t,t,a);else for(;i!==null;){if(i.tag===3){Wy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Cr===null||!Cr.has(l))){t=Rn(a,t),a=ey(2),l=Tr(i,a,2),l!==null&&(ty(a,l,i,t),ls(l,2),Si(l));break}}i=i.return}}function hd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new nA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(id=!0,h.add(a),t=lA.bind(null,t,i,a),i.then(t,t))}function lA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Me&a)===a&&(ht===4||ht===3&&(Me&62914560)===Me&&300>Wt()-hc?(Fe&2)===0&&Va(t,0):rd|=a,Oa===Me&&(Oa=0)),Si(t)}function e_(t,i){i===0&&(i=du()),t=Ts(t,i),t!==null&&(ls(t,i),Si(t))}function oA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),e_(t,a)}function uA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),e_(t,a)}function cA(t,i){return Dt(t,i)}var _c=null,La=null,fd=!1,vc=!1,dd=!1,xr=0;function Si(t){t!==La&&t.next===null&&(La===null?_c=La=t:La=La.next=t),vc=!0,fd||(fd=!0,fA())}function oo(t,i){if(!dd&&vc){dd=!0;do for(var a=!1,l=_c;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,r_(l,d))}else d=Me,d=ri(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ln(l,d)||(a=!0,r_(l,d));l=l.next}while(a);dd=!1}}function hA(){t_()}function t_(){vc=fd=!1;var t=0;xr!==0&&SA()&&(t=xr);for(var i=Wt(),a=null,l=_c;l!==null;){var h=l.next,d=n_(l,i);d===0?(l.next=null,a===null?_c=h:a.next=h,h===null&&(La=a)):(a=l,(t!==0||(d&3)!==0)&&(vc=!0)),l=h}kt!==0&&kt!==5||oo(t),xr!==0&&(xr=0)}function n_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-ft(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Bh(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=tt,a=Me,a=ri(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&rr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ln(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&rr(l),Di(a)){case 2:case 8:a=_l;break;case 32:a=sr;break;case 268435456:a=ou;break;default:a=sr}return l=i_.bind(null,t),a=Dt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&rr(l),t.callbackPriority=2,t.callbackNode=null,2}function i_(t,i){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(yc()&&t.callbackNode!==a)return null;var l=Me;return l=ri(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Py(t,l,i),n_(t,Wt()),t.callbackNode!=null&&t.callbackNode===a?i_.bind(null,t):null)}function r_(t,i){if(yc())return null;Py(t,i,!0)}function fA(){bA(function(){(Fe&6)!==0?Dt(yl,hA):t_()})}function md(){if(xr===0){var t=Sa;t===0&&(t=ni,ni<<=1,(ni&261888)===0&&(ni=256)),xr=t}return xr}function s_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:la(""+t)}function a_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function dA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=s_((h[Mt]||null).action),v=l.submitter;v&&(i=(i=v[Mt]||null)?s_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new pi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xr!==0){var I=v?a_(h,v):new FormData(h);Mf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?a_(h,v):new FormData(h),Mf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var pd=0;pd<$h.length;pd++){var gd=$h[pd],mA=gd.toLowerCase(),pA=gd[0].toUpperCase()+gd.slice(1);Fn(mA,"on"+pA)}Fn(Lp,"onAnimationEnd"),Fn(Pp,"onAnimationIteration"),Fn(Up,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(DS,"onTransitionRun"),Fn(kS,"onTransitionStart"),Fn(OS,"onTransitionCancel"),Fn(zp,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uo));function l_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,U=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(K){Mu(K)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,U=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(K){Mu(K)}h.currentTarget=null,d=I}}}}function Oe(t,i){var a=i[na];a===void 0&&(a=i[na]=new Set);var l=t+"__bubble";a.has(l)||(o_(i,t,2,!1),a.add(l))}function yd(t,i,a){var l=0;i&&(l|=4),o_(a,t,l,i)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[Ec]){t[Ec]=!0,Tl.forEach(function(a){a!=="selectionchange"&&(gA.has(a)||yd(a,!1,t),yd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ec]||(i[Ec]=!0,yd("selectionchange",!1,i))}}function o_(t,i,a,l){switch(L_(i)){case 2:var h=GA;break;case 8:h=FA;break;default:h=Od}a=h.bind(null,i,a,t),h=void 0,!ds||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function vd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=oi(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}hr(function(){var U=d,K=Sn(a),J=[];e:{var z=Bp.get(t);if(z!==void 0){var F=pi,fe=t;switch(t){case"keypress":if(ps(a)===0)break e;case"keydown":case"keyup":F=Du;break;case"focusin":fe="focus",F=ys;break;case"focusout":fe="blur",F=ys;break;case"beforeblur":case"afterblur":F=ys;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Lp:case Pp:case Up:F=bu;break;case zp:F=A;break;case"scroll":case"scrollend":F=Ol;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Mi;break;case"toggle":case"beforetoggle":F=Ne}var _e=(i&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),j=_e?z!==null?z+"Capture":null:z;_e=[];for(var M=U,P;M!==null;){var $=M;if(P=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||P===null||j===null||($=Bn(M,j),$!=null&&_e.push(co(M,$,P))),et)break;M=M.return}0<_e.length&&(z=new F(z,fe,null,a,K),J.push({event:z,listeners:_e}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",z&&a!==xl&&(fe=a.relatedTarget||a.fromElement)&&(oi(fe)||fe[ai]))break e;if((F||z)&&(z=K.window===K?K:(z=K.ownerDocument)?z.defaultView||z.parentWindow:window,F?(fe=a.relatedTarget||a.toElement,F=U,fe=fe?oi(fe):null,fe!==null&&(et=u(fe),_e=fe.tag,fe!==et||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(F=null,fe=U),F!==fe)){if(_e=Ml,$="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Mi,$="onPointerLeave",j="onPointerEnter",M="pointer"),et=F==null?z:hn(F),P=fe==null?z:hn(fe),z=new _e($,M+"leave",F,a,K),z.target=et,z.relatedTarget=P,$=null,oi(K)===U&&(_e=new _e(j,M+"enter",fe,a,K),_e.target=P,_e.relatedTarget=et,$=_e),et=$,F&&fe)t:{for(_e=yA,j=F,M=fe,P=0,$=j;$;$=_e($))P++;$=0;for(var ge=M;ge;ge=_e(ge))$++;for(;0<P-$;)j=_e(j),P--;for(;0<$-P;)M=_e(M),$--;for(;P--;){if(j===M||M!==null&&j===M.alternate){_e=j;break t}j=_e(j),M=_e(M)}_e=null}else _e=null;F!==null&&u_(J,z,F,_e,!1),fe!==null&&et!==null&&u_(J,et,fe,_e,!0)}}e:{if(z=U?hn(U):window,F=z.nodeName&&z.nodeName.toLowerCase(),F==="select"||F==="input"&&z.type==="file")var qe=Rp;else if(bp(z))if(Cp)qe=NS;else{qe=RS;var me=wS}else F=z.nodeName,!F||F.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&aa(U.elementType)&&(qe=Rp):qe=CS;if(qe&&(qe=qe(t,U))){wp(J,qe,a,K);break e}me&&me(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Cl(z,"number",z.value)}switch(me=U?hn(U):window,t){case"focusin":(bp(me)||me.contentEditable==="true")&&(ma=me,Kh=U,Ul=null);break;case"focusout":Ul=Kh=ma=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Vp(J,a,K);break;case"selectionchange":if(xS)break;case"keydown":case"keyup":Vp(J,a,K)}var De;if(Ge)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else da?_s(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(_i&&a.locale!=="ko"&&(da||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&da&&(De=kl()):(mi=K,Dl="value"in mi?mi.value:mi.textContent,da=!0)),me=Tc(U,Ve),0<me.length&&(Ve=new yi(Ve,t,null,a,K),J.push({event:Ve,listeners:me}),De?Ve.data=De:(De=fa(a),De!==null&&(Ve.data=De)))),(De=bn?TS(t,a):SS(t,a))&&(Ve=Tc(U,"onBeforeInput"),0<Ve.length&&(me=new yi("onBeforeInput","beforeinput",null,a,K),J.push({event:me,listeners:Ve}),me.data=De)),dA(J,t,U,a,K)}l_(J,i)})}function co(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Tc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Bn(t,a),h!=null&&l.unshift(co(t,h,d)),h=Bn(t,i),h!=null&&l.push(co(t,h,d))),t.tag===3)return l;t=t.return}return[]}function yA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function u_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,U=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||U===null||(I=U,h?(U=Bn(a,d),U!=null&&v.unshift(co(a,U,I))):h||(U=Bn(a,d),U!=null&&v.push(co(a,U,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var _A=/\r\n?/g,vA=/\u0000|\uFFFD/g;function c_(t){return(typeof t=="string"?t:""+t).replace(_A,`
`).replace(vA,"")}function h_(t,i){return i=c_(i),c_(t)===i}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||rn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&rn(t,""+l);break;case"className":fn(t,"class",l);break;case"tabIndex":fn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(t,a,l);break;case"style":Il(t,l,d);break;case"data":if(i!=="object"){fn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=la(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=la(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=zn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=la(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ra(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ra(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tu.get(a)||a,ra(t,a,l))}}function Ed(t,i,a,l,h,d){switch(a){case"style":Il(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?rn(t,l):(typeof l=="number"||typeof l=="bigint")&&rn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ra(t,a,l)}}}function Ht(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,v,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var T=d=v=h=null,I=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":I=K;break;case"defaultChecked":U=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:We(t,i,l,K,a,null)}}_u(t,d,T,I,U,v,h,!1);return;case"select":Oe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:We(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?lr(t,!!l,i,!1):a!=null&&lr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(t,i,v,T,a,null)}or(t,l,h,d);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":We(t,i,I,l,a,null));return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<uo.length;l++)Oe(uo[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,U,l,a,null)}return;default:if(aa(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Ed(t,i,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(t,i,T,l,a,null))}function EA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,U=null,K=null;for(F in a){var J=a[F];if(a.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(F)||We(t,i,F,null,l,J)}}for(var z in l){var F=l[z];if(J=a[z],l.hasOwnProperty(z)&&(F!=null||J!=null))switch(z){case"type":d=F;break;case"name":h=F;break;case"checked":U=F;break;case"defaultChecked":K=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==J&&We(t,i,z,F,l,J)}}sa(t,v,T,I,U,K,d,h);return;case"select":F=v=T=z=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(d)||We(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&We(t,i,h,d,l,I)}i=T,a=v,l=F,z!=null?lr(t,!!a,z,!1):!!l!=!!a&&(i!=null?lr(t,!!a,i,!0):lr(t,!!a,a?[]:"",!1));return;case"textarea":F=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,v,h,l,d)}vu(t,z,F);return;case"option":for(var fe in a)z=a[fe],a.hasOwnProperty(fe)&&z!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:We(t,i,fe,null,l,z));for(I in l)z=l[I],F=a[I],l.hasOwnProperty(I)&&z!==F&&(z!=null||F!=null)&&(I==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":We(t,i,I,z,l,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)z=a[_e],a.hasOwnProperty(_e)&&z!=null&&!l.hasOwnProperty(_e)&&We(t,i,_e,null,l,z);for(U in l)if(z=l[U],F=a[U],l.hasOwnProperty(U)&&z!==F&&(z!=null||F!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:We(t,i,U,z,l,F)}return;default:if(aa(i)){for(var et in a)z=a[et],a.hasOwnProperty(et)&&z!==void 0&&!l.hasOwnProperty(et)&&Ed(t,i,et,void 0,l,z);for(K in l)z=l[K],F=a[K],!l.hasOwnProperty(K)||z===F||z===void 0&&F===void 0||Ed(t,i,K,z,l,F);return}}for(var j in a)z=a[j],a.hasOwnProperty(j)&&z!=null&&!l.hasOwnProperty(j)&&We(t,i,j,null,l,z);for(J in l)z=l[J],F=a[J],!l.hasOwnProperty(J)||z===F||z==null&&F==null||We(t,i,J,z,l,F)}function f_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,T=h.duration;if(d&&T&&f_(v)){for(v=0,T=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],U=I.startTime;if(U>T)break;var K=I.transferSize,J=I.initiatorType;K&&f_(J)&&(I=I.responseEnd,v+=K*(I<T?1:(T-U)/(I-U)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Td=null,Sd=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function d_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ad(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bd=null;function SA(){var t=window.event;return t&&t.type==="popstate"?t===bd?!1:(bd=t,!0):(bd=null,!1)}var p_=typeof setTimeout=="function"?setTimeout:void 0,AA=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,bA=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(t){return g_.resolve(null).then(t).catch(wA)}:p_;function wA(t){setTimeout(function(){throw t})}function Dr(t){return t==="head"}function y_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ba(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ho(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,ho(a);for(var d=a.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[li]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&ho(t.ownerDocument.body);a=h}while(a);Ba(i)}function __(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function wd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),ia(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function RA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[li])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function CA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Dn(t.nextSibling),t===null))return null;return t}function v_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Dn(t.nextSibling),t===null))return null;return t}function Rd(t){return t.data==="$?"||t.data==="$~"}function Cd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function NA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Nd=null;function E_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Dn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function T_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function S_(t,i,a){switch(i=Sc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ho(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ia(t)}var kn=new Map,A_=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xi=te.d;te.d={f:IA,r:xA,D:DA,C:kA,L:OA,m:MA,X:jA,S:VA,M:LA};function IA(){var t=Xi.f(),i=mc();return t||i}function xA(t){var i=Tn(t);i!==null&&i.tag===5&&i.type==="form"?zg(i):Xi.r(t)}var Pa=typeof document>"u"?null:document;function b_(t,i,a){var l=Pa;if(l&&typeof i=="string"&&i){var h=nn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),A_.has(h)||(A_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ht(i,"link",t),Tt(i),l.head.appendChild(i)))}}function DA(t){Xi.D(t),b_("dns-prefetch",t,null)}function kA(t,i){Xi.C(t,i),b_("preconnect",t,i)}function OA(t,i,a){Xi.L(t,i,a);var l=Pa;if(l&&t&&i){var h='link[rel="preload"][as="'+nn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+nn(a.imageSizes)+'"]')):h+='[href="'+nn(t)+'"]';var d=h;switch(i){case"style":d=Ua(t);break;case"script":d=za(t)}kn.has(d)||(t=R({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),kn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(fo(d))||i==="script"&&l.querySelector(mo(d))||(i=l.createElement("link"),Ht(i,"link",t),Tt(i),l.head.appendChild(i)))}}function MA(t,i){Xi.m(t,i);var a=Pa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=za(t)}if(!kn.has(d)&&(t=R({rel:"modulepreload",href:t},i),kn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(mo(d)))return}l=a.createElement("link"),Ht(l,"link",t),Tt(l),a.head.appendChild(l)}}}function VA(t,i,a){Xi.S(t,i,a);var l=Pa;if(l&&t){var h=ui(l).hoistableStyles,d=Ua(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(fo(d)))T.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":i},a),(a=kn.get(d))&&Id(t,a);var I=v=l.createElement("link");Tt(I),Ht(I,"link",t),I._p=new Promise(function(U,K){I.onload=U,I.onerror=K}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,bc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function jA(t,i){Xi.X(t,i);var a=Pa;if(a&&t){var l=ui(a).hoistableScripts,h=za(t),d=l.get(h);d||(d=a.querySelector(mo(h)),d||(t=R({src:t,async:!0},i),(i=kn.get(h))&&xd(t,i),d=a.createElement("script"),Tt(d),Ht(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function LA(t,i){Xi.M(t,i);var a=Pa;if(a&&t){var l=ui(a).hoistableScripts,h=za(t),d=l.get(h);d||(d=a.querySelector(mo(h)),d||(t=R({src:t,async:!0,type:"module"},i),(i=kn.get(h))&&xd(t,i),d=a.createElement("script"),Tt(d),Ht(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function w_(t,i,a,l){var h=(h=xe.current)?Ac(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ua(a.href),a=ui(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ua(a.href);var d=ui(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(fo(t)))&&!d._p&&(v.instance=d,v.state.loading=5),kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(t,a),d||PA(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=za(a),a=ui(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ua(t){return'href="'+nn(t)+'"'}function fo(t){return'link[rel="stylesheet"]['+t+"]"}function R_(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function PA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ht(i,"link",a),Tt(i),t.head.appendChild(i))}function za(t){return'[src="'+nn(t)+'"]'}function mo(t){return"script[async]"+t}function C_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+nn(a.href)+'"]');if(l)return i.instance=l,Tt(l),l;var h=R({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Ht(l,"style",h),bc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ua(a.href);var d=t.querySelector(fo(h));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=R_(a),(h=kn.get(h))&&Id(l,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Ht(d,"link",l),i.state.loading|=4,bc(d,a.precedence,t),i.instance=d;case"script":return d=za(a.src),(h=t.querySelector(mo(d)))?(i.instance=h,Tt(h),h):(l=a,(h=kn.get(d))&&(l=R({},a),xd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Ht(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,bc(l,a.precedence,t));return i.instance}function bc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Id(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var wc=null;function N_(t,i,a){if(wc===null){var l=new Map,h=wc=new Map;h.set(a,l)}else h=wc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[li]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function I_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function UA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function x_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function zA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ua(l.href),d=i.querySelector(fo(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Rc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=i.ownerDocument||i,l=R_(l),(h=kn.get(h))&&Id(l,h),d=d.createElement("link"),Tt(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Ht(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Rc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Dd=0;function BA(t,i){return t.stylesheets&&t.count===0&&Nc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Nc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Dd===0&&(Dd=62500*TA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Nc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Dd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cc=null;function Nc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cc=new Map,i.forEach(qA,t),Cc=null,Rc.call(t))}function qA(t,i){if(!(i.state.loading&4)){var a=Cc.get(t);if(a)var l=a.get(null);else{a=new Map,Cc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var po={$$typeof:G,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function HA(t,i,a,l,h,d,v,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function D_(t,i,a,l,h,d,v,T,I,U,K,J){return t=new HA(t,i,a,v,I,U,K,J,T),i=1,d===!0&&(i|=24),d=mn(3,null,null,i),t.current=d,d.stateNode=t,i=cf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},mf(d),t}function k_(t){return t?(t=ya,t):ya}function O_(t,i,a,l,h,d){h=k_(h),l.context===null?l.context=h:l.pendingContext=h,l=Er(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Tr(t,l,i),a!==null&&(un(a,t,i),Yl(a,t,i))}function M_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function kd(t,i){M_(t,i),(t=t.alternate)&&M_(t,i)}function V_(t){if(t.tag===13||t.tag===31){var i=Ts(t,67108864);i!==null&&un(i,t,67108864),kd(t,67108864)}}function j_(t){if(t.tag===13||t.tag===31){var i=vn();i=us(i);var a=Ts(t,i);a!==null&&un(a,t,i),kd(t,i)}}var Ic=!0;function GA(t,i,a,l){var h=q.T;q.T=null;var d=te.p;try{te.p=2,Od(t,i,a,l)}finally{te.p=d,q.T=h}}function FA(t,i,a,l){var h=q.T;q.T=null;var d=te.p;try{te.p=8,Od(t,i,a,l)}finally{te.p=d,q.T=h}}function Od(t,i,a,l){if(Ic){var h=Md(l);if(h===null)vd(t,i,l,xc,a),P_(t,l);else if(KA(h,t,i,a,l))l.stopPropagation();else if(P_(t,l),i&4&&-1<YA.indexOf(t)){for(;h!==null;){var d=Tn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ii(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-ft(v);T.entanglements[1]|=I,v&=~I}Si(d),(Fe&6)===0&&(fc=Wt()+500,oo(0))}}break;case 31:case 13:T=Ts(d,2),T!==null&&un(T,d,2),mc(),kd(d,2)}if(d=Md(l),d===null&&vd(t,i,l,xc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else vd(t,i,l,null,a)}}function Md(t){return t=Sn(t),Vd(t)}var xc=null;function Vd(t){if(xc=null,t=oi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=y(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return xc=t,null}function L_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ss()){case yl:return 2;case _l:return 8;case sr:case zh:return 32;case ou:return 268435456;default:return 32}default:return 32}}var jd=!1,kr=null,Or=null,Mr=null,go=new Map,yo=new Map,Vr=[],YA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P_(t,i){switch(t){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":go.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(i.pointerId)}}function _o(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Tn(i),i!==null&&V_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function KA(t,i,a,l,h){switch(i){case"focusin":return kr=_o(kr,t,i,a,l,h),!0;case"dragenter":return Or=_o(Or,t,i,a,l,h),!0;case"mouseover":return Mr=_o(Mr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return go.set(d,_o(go.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,yo.set(d,_o(yo.get(d)||null,t,i,a,l,h)),!0}return!1}function U_(t){var i=oi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Pn(t.priority,function(){j_(a)});return}}else if(i===31){if(i=y(a),i!==null){t.blockedOn=i,Pn(t.priority,function(){j_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Md(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);xl=l,a.target.dispatchEvent(l),xl=null}else return i=Tn(a),i!==null&&V_(i),t.blockedOn=a,!1;i.shift()}return!0}function z_(t,i,a){Dc(t)&&a.delete(i)}function QA(){jd=!1,kr!==null&&Dc(kr)&&(kr=null),Or!==null&&Dc(Or)&&(Or=null),Mr!==null&&Dc(Mr)&&(Mr=null),go.forEach(z_),yo.forEach(z_)}function kc(t,i){t.blockedOn===i&&(t.blockedOn=null,jd||(jd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,QA)))}var Oc=null;function B_(t){Oc!==t&&(Oc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Vd(l||a)===null)continue;break}var d=Tn(a);d!==null&&(t.splice(i,3),i-=3,Mf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ba(t){function i(I){return kc(I,t)}kr!==null&&kc(kr,t),Or!==null&&kc(Or,t),Mr!==null&&kc(Mr,t),go.forEach(i),yo.forEach(i);for(var a=0;a<Vr.length;a++){var l=Vr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Vr.length&&(a=Vr[0],a.blockedOn===null);)U_(a),a.blockedOn===null&&Vr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Mt]||null;if(typeof d=="function")v||B_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Mt]||null)T=v.formAction;else if(Vd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),B_(a)}}}function q_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Ld(t){this._internalRoot=t}Mc.prototype.render=Ld.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=vn();O_(a,l,t,i,null,null)},Mc.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;O_(t.current,2,null,t,null,null),mc(),i[ai]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var i=mu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Vr.length&&i!==0&&i<Vr[a].priority;a++);Vr.splice(a,0,t),a===0&&U_(t)}};var H_=e.version;if(H_!=="19.2.4")throw Error(s(527,H_,"19.2.4"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(i),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var XA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{jn=Vc.inject(XA),Pt=Vc}catch{}}return Eo.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=$g,d=Jg,v=Zg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=D_(t,1,!1,null,null,a,l,null,h,d,v,q_),t[ai]=i.current,_d(t),new Ld(i)},Eo.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=$g,v=Jg,T=Zg,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=D_(t,1,!0,i,a??null,l,h,I,d,v,T,q_),i.context=k_(null),a=i.current,l=vn(),l=us(l),h=Er(l),h.callback=null,Tr(a,h,l),a=l,i.current.lanes=a,ls(i,a),Si(i),t[ai]=i.current,_d(t),new Mc(i)},Eo.version="19.2.4",Eo}var W_;function sb(){if(W_)return zd.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zd.exports=rb(),zd.exports}var ab=sb();const lb=()=>{};var ev={};const LE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ob=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],y=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},PE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,y=f?r[o+1]:0,g=o+2<r.length,_=g?r[o+2]:0,S=u>>2,R=(u&3)<<4|y>>4;let D=(y&15)<<2|_>>6,B=_&63;g||(B=64,f||(D=64)),s.push(n[S],n[R],n[D],n[B])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(LE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ob(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],y=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const R=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||y==null||_==null||R==null)throw new ub;const D=u<<2|y>>4;if(s.push(D),_!==64){const B=y<<4&240|_>>2;if(s.push(B),R!==64){const Y=_<<6&192|R;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ub extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cb=function(r){const e=LE(r);return PE.encodeByteArray(e,!0)},Zc=function(r){return cb(r).replace(/\./g,"")},UE=function(r){try{return PE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fb=()=>hb().__FIREBASE_DEFAULTS__,db=()=>{if(typeof process>"u"||typeof ev>"u")return;const r=ev.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&UE(r[1]);return e&&JSON.parse(e)},yh=()=>{try{return lb()||fb()||db()||mb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},zE=r=>yh()?.emulatorHosts?.[r],pb=r=>{const e=zE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},BE=()=>yh()?.config,qE=r=>yh()?.[`_${r}`];class gb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function sl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function HE(r){return(await fetch(r,{credentials:"include"})).ok}function yb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Zc(JSON.stringify(n)),Zc(JSON.stringify(f)),""].join(".")}const xo={};function _b(){const r={prod:[],emulator:[]};for(const e of Object.keys(xo))xo[e]?r.emulator.push(e):r.prod.push(e);return r}function vb(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let tv=!1;function GE(r,e){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||xo[r]===e||xo[r]||tv)return;xo[r]=e;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",u=_b().prod.length>0;function f(){const D=document.getElementById(s);D&&D.remove()}function y(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function g(D,B){D.setAttribute("width","24"),D.setAttribute("id",B),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{tv=!0,f()},D}function S(D,B){D.setAttribute("id",B),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function R(){const D=vb(s),B=n("text"),Y=document.getElementById(B)||document.createElement("span"),X=n("learnmore"),W=document.getElementById(X)||document.createElement("a"),ie=n("preprendIcon"),ue=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const G=D.element;y(G),S(W,X);const le=_();g(ue,ie),G.append(ue,Y,W,le),document.body.appendChild(G)}u?(Y.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Eb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function Tb(){const r=yh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Sb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ab(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function bb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wb(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Rb(){return!Tb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cb(){try{return typeof indexedDB=="object"}catch{return!1}}function Nb(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Ib="FirebaseError";class ir extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Ib,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qo.prototype.create)}}class Qo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?xb(u,s):"Error",y=`${this.serviceName}: ${f} (${o}).`;return new ir(o,y,s)}}function xb(r,e){return r.replace(Db,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Db=/\{\$([^}]+)}/g;function kb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ps(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(nv(u)&&nv(f)){if(!Ps(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function nv(r){return r!==null&&typeof r=="object"}function Xo(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function bo(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function wo(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Ob(r,e){const n=new Mb(r,e);return n.subscribe.bind(n)}class Mb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Vb(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Gd),o.error===void 0&&(o.error=Gd),o.complete===void 0&&(o.complete=Gd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vb(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Gd(){}function Zt(r){return r&&r._delegate?r._delegate:r}class Us{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ms="[DEFAULT]";class jb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new gb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Pb(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(u);s===y&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Lb(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lb(r){return r===Ms?void 0:r}function Pb(r){return r.instantiationMode==="EAGER"}class Ub{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const zb={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},Bb=je.INFO,qb={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},Hb=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=qb[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=Bb,this._logHandler=Hb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const Gb=(r,e)=>e.some(n=>r instanceof n);let iv,rv;function Fb(){return iv||(iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yb(){return rv||(rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FE=new WeakMap,nm=new WeakMap,YE=new WeakMap,Fd=new WeakMap,km=new WeakMap;function Kb(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Hr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&FE.set(n,r)}).catch(()=>{}),km.set(e,r),e}function Qb(r){if(nm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});nm.set(r,e)}let im={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return nm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||YE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Xb(r){im=r(im)}function $b(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Yd(this),e,...n);return YE.set(s,e.sort?e.sort():[e]),Hr(s)}:Yb().includes(r)?function(...e){return r.apply(Yd(this),e),Hr(FE.get(this))}:function(...e){return Hr(r.apply(Yd(this),e))}}function Jb(r){return typeof r=="function"?$b(r):(r instanceof IDBTransaction&&Qb(r),Gb(r,Fb())?new Proxy(r,im):r)}function Hr(r){if(r instanceof IDBRequest)return Kb(r);if(Fd.has(r))return Fd.get(r);const e=Jb(r);return e!==r&&(Fd.set(r,e),km.set(e,r)),e}const Yd=r=>km.get(r);function Zb(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),y=Hr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Hr(f.result),g.oldVersion,g.newVersion,Hr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),y.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const Wb=["get","getKey","getAll","getAllKeys","count"],e1=["put","add","delete","clear"],Kd=new Map;function sv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=e1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Wb.includes(n)))return;const u=async function(f,...y){const g=this.transaction(f,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[n](...y),o&&g.done]))[0]};return Kd.set(e,u),u}Xb(r=>({...r,get:(e,n,s)=>sv(e,n)||r.get(e,n,s),has:(e,n)=>!!sv(e,n)||r.has(e,n)}));class t1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(n1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function n1(r){return r.getComponent()?.type==="VERSION"}const rm="@firebase/app",av="0.14.8";const Wi=new Dm("@firebase/app"),i1="@firebase/app-compat",r1="@firebase/analytics-compat",s1="@firebase/analytics",a1="@firebase/app-check-compat",l1="@firebase/app-check",o1="@firebase/auth",u1="@firebase/auth-compat",c1="@firebase/database",h1="@firebase/data-connect",f1="@firebase/database-compat",d1="@firebase/functions",m1="@firebase/functions-compat",p1="@firebase/installations",g1="@firebase/installations-compat",y1="@firebase/messaging",_1="@firebase/messaging-compat",v1="@firebase/performance",E1="@firebase/performance-compat",T1="@firebase/remote-config",S1="@firebase/remote-config-compat",A1="@firebase/storage",b1="@firebase/storage-compat",w1="@firebase/firestore",R1="@firebase/ai",C1="@firebase/firestore-compat",N1="firebase",I1="12.9.0";const sm="[DEFAULT]",x1={[rm]:"fire-core",[i1]:"fire-core-compat",[s1]:"fire-analytics",[r1]:"fire-analytics-compat",[l1]:"fire-app-check",[a1]:"fire-app-check-compat",[o1]:"fire-auth",[u1]:"fire-auth-compat",[c1]:"fire-rtdb",[h1]:"fire-data-connect",[f1]:"fire-rtdb-compat",[d1]:"fire-fn",[m1]:"fire-fn-compat",[p1]:"fire-iid",[g1]:"fire-iid-compat",[y1]:"fire-fcm",[_1]:"fire-fcm-compat",[v1]:"fire-perf",[E1]:"fire-perf-compat",[T1]:"fire-rc",[S1]:"fire-rc-compat",[A1]:"fire-gcs",[b1]:"fire-gcs-compat",[w1]:"fire-fst",[C1]:"fire-fst-compat",[R1]:"fire-vertex","fire-js":"fire-js",[N1]:"fire-js-all"};const Wc=new Map,D1=new Map,am=new Map;function lv(r,e){try{r.container.addComponent(e)}catch(n){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Wa(r){const e=r.name;if(am.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,r);for(const n of Wc.values())lv(n,r);for(const n of D1.values())lv(n,r);return!0}function Om(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function On(r){return r==null?!1:r.settings!==void 0}const k1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new Qo("app","Firebase",k1);class O1{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}const al=I1;function KE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:sm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Gr.create("bad-app-name",{appName:String(o)});if(n||(n=BE()),!n)throw Gr.create("no-options");const u=Wc.get(o);if(u){if(Ps(n,u.options)&&Ps(s,u.config))return u;throw Gr.create("duplicate-app",{appName:o})}const f=new Ub(o);for(const g of am.values())f.addComponent(g);const y=new O1(n,s,f);return Wc.set(o,y),y}function QE(r=sm){const e=Wc.get(r);if(!e&&r===sm&&BE())return KE();if(!e)throw Gr.create("no-app",{appName:r});return e}function Fr(r,e,n){let s=x1[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(f.join(" "));return}Wa(new Us(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const M1="firebase-heartbeat-database",V1=1,Lo="firebase-heartbeat-store";let Qd=null;function XE(){return Qd||(Qd=Zb(M1,V1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Lo)}catch(n){console.warn(n)}}}}).catch(r=>{throw Gr.create("idb-open",{originalErrorMessage:r.message})})),Qd}async function j1(r){try{const n=(await XE()).transaction(Lo),s=await n.objectStore(Lo).get($E(r));return await n.done,s}catch(e){if(e instanceof ir)Wi.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e?.message});Wi.warn(n.message)}}}async function ov(r,e){try{const s=(await XE()).transaction(Lo,"readwrite");await s.objectStore(Lo).put(e,$E(r)),await s.done}catch(n){if(n instanceof ir)Wi.warn(n.message);else{const s=Gr.create("idb-set",{originalErrorMessage:n?.message});Wi.warn(s.message)}}}function $E(r){return`${r.name}!${r.options.appId}`}const L1=1024,P1=30;class U1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=uv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>P1){const o=q1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=uv(),{heartbeatsToSend:n,unsentEntries:s}=z1(this._heartbeatsCache.heartbeats),o=Zc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Wi.warn(e),""}}}function uv(){return new Date().toISOString().substring(0,10)}function z1(r,e=L1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),cv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),cv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class B1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cb()?Nb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await j1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ov(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ov(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function cv(r){return Zc(JSON.stringify({version:2,heartbeats:r})).length}function q1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function H1(r){Wa(new Us("platform-logger",e=>new t1(e),"PRIVATE")),Wa(new Us("heartbeat",e=>new U1(e),"PRIVATE")),Fr(rm,av,r),Fr(rm,av,"esm2020"),Fr("fire-js","")}H1("");var G1="firebase",F1="12.9.0";Fr(G1,F1,"app");function JE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y1=JE,ZE=new Qo("auth","Firebase",JE());const eh=new Dm("@firebase/auth");function K1(r,...e){eh.logLevel<=je.WARN&&eh.warn(`Auth (${al}): ${r}`,...e)}function qc(r,...e){eh.logLevel<=je.ERROR&&eh.error(`Auth (${al}): ${r}`,...e)}function Wn(r,...e){throw Mm(r,...e)}function bi(r,...e){return Mm(r,...e)}function WE(r,e,n){const s={...Y1(),[e]:n};return new Qo("auth","Firebase",s).create(e,{appName:r.name})}function Zi(r){return WE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return ZE.create(r,...e)}function ve(r,e,...n){if(!r)throw Mm(e,...n)}function $i(r){const e="INTERNAL ASSERTION FAILED: "+r;throw qc(e),new Error(e)}function er(r,e){r||$i(e)}function lm(){return typeof self<"u"&&self.location?.href||""}function Q1(){return hv()==="http:"||hv()==="https:"}function hv(){return typeof self<"u"&&self.location?.protocol||null}function X1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q1()||Ab()||"connection"in navigator)?navigator.onLine:!0}function $1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class $o{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=Eb()||bb()}get(){return X1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vm(r,e){er(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class eT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const J1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Z1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W1=new $o(3e4,6e4);function ts(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ns(r,e,n,s,o={}){return tT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const y=Xo({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:g,...u};return Sb()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&sl(r.emulatorConfig.host)&&(_.credentials="include"),eT.fetch()(await nT(r,r.config.apiHost,n,y),_)})}async function tT(r,e,n){r._canInitEmulator=!1;const s={...J1,...e};try{const o=new tw(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw jc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const y=u.ok?f.errorMessage:f.error.message,[g,_]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw jc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw jc(r,"user-disabled",f);const S=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw WE(r,S,_);Wn(r,S)}}catch(o){if(o instanceof ir)throw o;Wn(r,"network-request-failed",{message:String(o)})}}async function Jo(r,e,n,s,o={}){const u=await ns(r,e,n,s,o);return"mfaPendingCredential"in u&&Wn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function nT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Vm(r.config,o):`${r.config.apiScheme}://${o}`;return Z1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function ew(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(bi(this.auth,"network-request-failed")),W1.get())})}}function jc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=bi(r,e,s);return o.customData._tokenResponse=n,o}function fv(r){return r!==void 0&&r.enterprise!==void 0}class nw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ew(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iw(r,e){return ns(r,"GET","/v2/recaptchaConfig",ts(r,e))}async function rw(r,e){return ns(r,"POST","/v1/accounts:delete",e)}async function th(r,e){return ns(r,"POST","/v1/accounts:lookup",e)}function Do(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sw(r,e=!1){const n=Zt(r),s=await n.getIdToken(e),o=jm(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Do(Xd(o.auth_time)),issuedAtTime:Do(Xd(o.iat)),expirationTime:Do(Xd(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Xd(r){return Number(r)*1e3}function jm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=UE(n);return o?JSON.parse(o):(qc("Failed to decode base64 JWT payload"),null)}catch(o){return qc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function dv(r){const e=jm(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Po(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ir&&aw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function aw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class lw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Do(this.lastLoginAt),this.creationTime=Do(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(r){const e=r.auth,n=await r.getIdToken(),s=await Po(r,th(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?iT(o.providerUserInfo):[],f=uw(r.providerData,u),y=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,_=y?g:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,S)}async function ow(r){const e=Zt(r);await nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uw(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function iT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function cw(r,e){const n=await tT(r,{},async()=>{const s=Xo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await nT(r,o,"/v1/token",`key=${u}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:s};return r.emulatorConfig&&sl(r.emulatorConfig.host)&&(g.credentials="include"),eT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hw(r,e){return ns(r,"POST","/v2/accounts:revokeToken",ts(r,e))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=dv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await cw(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ka;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return $i("not implemented")}}function Lr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Qn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new lw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new om(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Po(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sw(this,e)}reload(){return ow(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await Po(this,rw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,y=n.tenantId??void 0,g=n._redirectEventId??void 0,_=n.createdAt??void 0,S=n.lastLoginAt??void 0,{uid:R,emailVerified:D,isAnonymous:B,providerData:Y,stsTokenManager:X}=n;ve(R&&X,e,"internal-error");const W=Ka.fromJSON(this.name,X);ve(typeof R=="string",e,"internal-error"),Lr(s,e.name),Lr(o,e.name),ve(typeof D=="boolean",e,"internal-error"),ve(typeof B=="boolean",e,"internal-error"),Lr(u,e.name),Lr(f,e.name),Lr(y,e.name),Lr(g,e.name),Lr(_,e.name),Lr(S,e.name);const ie=new Qn({uid:R,auth:e,email:o,emailVerified:D,displayName:s,isAnonymous:B,photoURL:f,phoneNumber:u,tenantId:y,stsTokenManager:W,createdAt:_,lastLoginAt:S});return Y&&Array.isArray(Y)&&(ie.providerData=Y.map(ue=>({...ue}))),g&&(ie._redirectEventId=g),ie}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ka;o.updateFromServerResponse(n);const u=new Qn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await nh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?iT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,y=new Ka;y.updateFromIdToken(s);const g=new Qn({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,_),g}}const mv=new Map;function Ji(r){er(r instanceof Function,"Expected a class definition");let e=mv.get(r);return e?(er(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,mv.set(r,e),e)}class rT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rT.type="NONE";const pv=rT;function Hc(r,e,n){return`firebase:${r}:${e}:${n}`}class Qa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Hc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Hc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await th(this.auth,{idToken:e}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Qa(Ji(pv),e,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||Ji(pv);const f=Hc(s,e.config.apiKey,e.name);let y=null;for(const _ of n)try{const S=await _._get(f);if(S){let R;if(typeof S=="string"){const D=await th(e,{idToken:S}).catch(()=>{});if(!D)break;R=await Qn._fromGetAccountInfoResponse(e,D,S)}else R=Qn._fromJSON(e,S);_!==u&&(y=R),u=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Qa(u,e,s):(u=g[0],y&&await u._set(f,y.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new Qa(u,e,s))}}function gv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cT(e))return"Blackberry";if(hT(e))return"Webos";if(aT(e))return"Safari";if((e.includes("chrome/")||lT(e))&&!e.includes("edge/"))return"Chrome";if(uT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function sT(r=Jt()){return/firefox\//i.test(r)}function aT(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lT(r=Jt()){return/crios\//i.test(r)}function oT(r=Jt()){return/iemobile/i.test(r)}function uT(r=Jt()){return/android/i.test(r)}function cT(r=Jt()){return/blackberry/i.test(r)}function hT(r=Jt()){return/webos/i.test(r)}function Lm(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function fw(r=Jt()){return Lm(r)&&!!window.navigator?.standalone}function dw(){return wb()&&document.documentMode===10}function fT(r=Jt()){return Lm(r)||uT(r)||hT(r)||cT(r)||/windows phone/i.test(r)||oT(r)}function dT(r,e=[]){let n;switch(r){case"Browser":n=gv(Jt());break;case"Worker":n=`${gv(Jt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${al}/${s}`}class mw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,y)=>{try{const g=e(u);f(g)}catch(g){y(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function pw(r,e={}){return ns(r,"GET","/v2/passwordPolicy",ts(r,e))}const gw=6;class yw{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class _w{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yv(this),this.idTokenSubscription=new yv(this),this.beforeStateQueue=new mw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ji(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await th(this,{idToken:e}),s=await Qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(On(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,y=await this.tryRedirectSignIn(e);(!u||u===f)&&y?.user&&(s=y.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(Zi(this));const n=e?Zt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pw(this),n=new yw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await hw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ji(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[Ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(y,this,"internal-error"),y.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&K1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ys(r){return Zt(r)}class yv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ob(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vw(r){_h=r}function mT(r){return _h.loadJS(r)}function Ew(){return _h.recaptchaEnterpriseScript}function Tw(){return _h.gapiScript}function Sw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Aw{constructor(){this.enterprise=new bw}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bw{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ww="recaptcha-enterprise",pT="NO_RECAPTCHA";class Rw{constructor(e){this.type=ww,this.auth=Ys(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,y)=>{iw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)y(new Error("recaptcha Enterprise site key undefined"));else{const _=new nw(g);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(g=>{y(g)})})}function o(u,f,y){const g=window.grecaptcha;fv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(_=>{f(_)}).catch(()=>{f(pT)})}):y(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Aw().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(y=>{if(!n&&fv(window.grecaptcha))o(y,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Ew();g.length!==0&&(g+=y),mT(g).then(()=>{o(y,u,f)}).catch(_=>{f(_)})}}).catch(y=>{f(y)})})}}async function _v(r,e,n,s=!1,o=!1){const u=new Rw(r);let f;if(o)f=pT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const y={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in y){const g=y.phoneEnrollmentInfo.phoneNumber,_=y.phoneEnrollmentInfo.recaptchaToken;Object.assign(y,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in y){const g=y.phoneSignInInfo.recaptchaToken;Object.assign(y,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return y}return s?Object.assign(y,{captchaResp:f}):Object.assign(y,{captchaResponse:f}),Object.assign(y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),y}async function um(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await _v(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await _v(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function Cw(r,e){const n=Om(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ps(u,e??{}))return o;Wn(o,"already-initialized")}return n.initialize({options:e})}function Nw(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ji);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function Iw(r,e,n){const s=Ys(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=gT(e),{host:f,port:y}=xw(e),g=y===null?"":`:${y}`,_={url:`${u}//${f}${g}/`},S=Object.freeze({host:f,port:y,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Ps(_,s.config.emulator)&&Ps(S,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=S,s.settings.appVerificationDisabledForTesting=!0,sl(f)?(HE(`${u}//${f}${g}`),GE("Auth",!0)):Dw()}function gT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function xw(r){const e=gT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:vv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:vv(f)}}}function vv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Dw(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Pm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,n){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}async function kw(r,e){return ns(r,"POST","/v1/accounts:signUp",e)}async function Ow(r,e){return Jo(r,"POST","/v1/accounts:signInWithPassword",ts(r,e))}async function Mw(r,e){return Jo(r,"POST","/v1/accounts:signInWithEmailLink",ts(r,e))}async function Vw(r,e){return Jo(r,"POST","/v1/accounts:signInWithEmailLink",ts(r,e))}class Uo extends Pm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Uo(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Uo(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return um(e,n,"signInWithPassword",Ow);case"emailLink":return Mw(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return um(e,s,"signUpPassword",kw);case"emailLink":return Vw(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Xa(r,e){return Jo(r,"POST","/v1/accounts:signInWithIdp",ts(r,e))}const jw="http://localhost";class zs extends Pm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Xa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Xa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xa(e,n)}buildRequest(){const e={requestUri:jw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xo(n)}return e}}function Lw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Pw(r){const e=bo(wo(r)).link,n=e?bo(wo(e)).deep_link_id:null,s=bo(wo(r)).deep_link_id;return(s?bo(wo(s)).link:null)||s||n||e||r}class Um{constructor(e){const n=bo(wo(e)),s=n.apiKey??null,o=n.oobCode??null,u=Lw(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Pw(e);try{return new Um(n)}catch{return null}}}class ll{constructor(){this.providerId=ll.PROVIDER_ID}static credential(e,n){return Uo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Um.parseLink(n);return ve(s,"argument-error"),Uo._fromEmailAndCode(e,s.code,s.tenantId)}}ll.PROVIDER_ID="password";ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class yT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zo extends yT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Pr extends Zo{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";class Ur extends Zo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";class zr extends Zo{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";class Br extends Zo{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Br.credential(n,s)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";async function Uw(r,e){return Jo(r,"POST","/v1/accounts:signUp",ts(r,e))}class Bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Qn._fromIdTokenResponse(e,s,o),f=Ev(s);return new Bs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Ev(s);return new Bs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Ev(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ih extends ir{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ih(e,n,s,o)}}function _T(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(r,u,e,s):u})}async function zw(r,e,n=!1){const s=await Po(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Bs._forOperation(r,"link",s)}async function Bw(r,e,n=!1){const{auth:s}=r;if(On(s.app))return Promise.reject(Zi(s));const o="reauthenticate";try{const u=await Po(r,_T(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=jm(u.idToken);ve(f,s,"internal-error");const{sub:y}=f;return ve(r.uid===y,s,"user-mismatch"),Bs._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Wn(s,"user-mismatch"),u}}async function vT(r,e,n=!1){if(On(r.app))return Promise.reject(Zi(r));const s="signIn",o=await _T(r,s,e),u=await Bs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function qw(r,e){return vT(Ys(r),e)}async function ET(r){const e=Ys(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Hw(r,e,n){if(On(r.app))return Promise.reject(Zi(r));const s=Ys(r),f=await um(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Uw).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&ET(r),g}),y=await Bs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(y.user),y}function Gw(r,e,n){return On(r.app)?Promise.reject(Zi(r)):qw(Zt(r),ll.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ET(r),s})}function Fw(r,e,n,s){return Zt(r).onIdTokenChanged(e,n,s)}function Yw(r,e,n){return Zt(r).beforeAuthStateChanged(e,n)}function Kw(r,e,n,s){return Zt(r).onAuthStateChanged(e,n,s)}function Qw(r){return Zt(r).signOut()}const rh="__sak";class TT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xw=1e3,$w=10;class ST extends TT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,y,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);dw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$w):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Xw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ST.type="LOCAL";const Jw=ST;class AT extends TT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AT.type="SESSION";const bT=AT;function Zw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new vh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const y=Array.from(f).map(async _=>_(n.origin,u)),g=await Zw(y);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];function zm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class Ww{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((y,g)=>{const _=zm("",20);o.port1.start();const S=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(R){const D=R;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(S),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),y(D.data.response);break;default:clearTimeout(S),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function wi(){return window}function eR(r){wi().location.href=r}function wT(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function tR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nR(){return navigator?.serviceWorker?.controller||null}function iR(){return wT()?self:null}const RT="firebaseLocalStorageDb",rR=1,sh="firebaseLocalStorage",CT="fbase_key";class Wo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Eh(r,e){return r.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function sR(){const r=indexedDB.deleteDatabase(RT);return new Wo(r).toPromise()}function cm(){const r=indexedDB.open(RT,rR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(sh,{keyPath:CT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(sh)?e(s):(s.close(),await sR(),e(await cm()))})})}async function Tv(r,e,n){const s=Eh(r,!0).put({[CT]:e,value:n});return new Wo(s).toPromise()}async function aR(r,e){const n=Eh(r,!1).get(e),s=await new Wo(n).toPromise();return s===void 0?null:s.value}function Sv(r,e){const n=Eh(r,!0).delete(e);return new Wo(n).toPromise()}const lR=800,oR=3;class NT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>oR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(iR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tR(),!this.activeServiceWorker)return;this.sender=new Ww(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cm();return await Tv(e,rh,"1"),await Sv(e,rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Tv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>aR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Eh(o,!1).getAll();return new Wo(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NT.type="LOCAL";const uR=NT;new $o(3e4,6e4);function cR(r,e){return e?Ji(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Bm extends Pm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hR(r){return vT(r.auth,new Bm(r),r.bypassAuthState)}function fR(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),Bw(n,new Bm(r),r.bypassAuthState)}async function dR(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),zw(n,new Bm(r),r.bypassAuthState)}class IT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:y}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hR;case"linkViaPopup":case"linkViaRedirect":return dR;case"reauthViaPopup":case"reauthViaRedirect":return fR;default:Wn(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mR=new $o(2e3,1e4);class Ya extends IT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mR.get())};e()}}Ya.currentPopupAction=null;const pR="pendingRedirect",Gc=new Map;class gR extends IT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const s=await yR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yR(r,e){const n=ER(e),s=vR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function _R(r,e){Gc.set(r._key(),e)}function vR(r){return Ji(r._redirectPersistence)}function ER(r){return Hc(pR,r.config.apiKey,r.name)}async function TR(r,e,n=!1){if(On(r.app))return Promise.reject(Zi(r));const s=Ys(r),o=cR(s,e),f=await new gR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const SR=600*1e3;class AR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!xT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(bi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Av(e))}saveEventToCache(e){this.cachedEventUids.add(Av(e)),this.lastProcessedEventTime=Date.now()}}function Av(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function xT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function bR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xT(r);default:return!1}}async function wR(r,e={}){return ns(r,"GET","/v1/projects",e)}const RR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CR=/^https?/;async function NR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await wR(r);for(const n of e)try{if(IR(n))return}catch{}Wn(r,"unauthorized-domain")}function IR(r){const e=lm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!CR.test(n))return!1;if(RR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const xR=new $o(3e4,6e4);function bv(){const r=wi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function DR(r){return new Promise((e,n)=>{function s(){bv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bv(),n(bi(r,"network-request-failed"))},timeout:xR.get()})}if(wi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(wi().gapi?.load)s();else{const o=Sw("iframefcb");return wi()[o]=()=>{gapi.load?s():n(bi(r,"network-request-failed"))},mT(`${Tw()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function kR(r){return Fc=Fc||DR(r),Fc}const OR=new $o(5e3,15e3),MR="__/auth/iframe",VR="emulator/auth/iframe",jR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PR(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Vm(e,VR):`https://${r.config.authDomain}/${MR}`,s={apiKey:e.apiKey,appName:r.name,v:al},o=LR.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Xo(s).slice(1)}`}async function UR(r){const e=await kR(r),n=wi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:PR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jR,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=bi(r,"network-request-failed"),y=wi().setTimeout(()=>{u(f)},OR.get());function g(){wi().clearTimeout(y),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const zR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BR=500,qR=600,HR="_blank",GR="http://localhost";class wv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FR(r,e,n,s=BR,o=qR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let y="";const g={...zR,width:s.toString(),height:o.toString(),top:u,left:f},_=Jt().toLowerCase();n&&(y=lT(_)?HR:n),sT(_)&&(e=e||GR,g.scrollbars="yes");const S=Object.entries(g).reduce((D,[B,Y])=>`${D}${B}=${Y},`,"");if(fw(_)&&y!=="_self")return YR(e||"",y),new wv(null);const R=window.open(e||"",y,S);ve(R,r,"popup-blocked");try{R.focus()}catch{}return new wv(R)}function YR(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const KR="__/auth/handler",QR="emulator/auth/handler",XR=encodeURIComponent("fac");async function Rv(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:al,eventId:o};if(e instanceof yT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",kb(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,R]of Object.entries({}))f[S]=R}if(e instanceof Zo){const S=e.getScopes().filter(R=>R!=="");S.length>0&&(f.scopes=S.join(","))}r.tenantId&&(f.tid=r.tenantId);const y=f;for(const S of Object.keys(y))y[S]===void 0&&delete y[S];const g=await r._getAppCheckToken(),_=g?`#${XR}=${encodeURIComponent(g)}`:"";return`${$R(r)}?${Xo(y).slice(1)}${_}`}function $R({config:r}){return r.emulator?Vm(r,QR):`https://${r.authDomain}/${KR}`}const $d="webStorageSupport";class JR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bT,this._completeRedirectFn=TR,this._overrideRedirectResult=_R}async _openPopup(e,n,s,o){er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Rv(e,n,s,lm(),o);return FR(e,u,zm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Rv(e,n,s,lm(),o);return eR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await UR(e),s=new AR(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($d,{type:$d},o=>{const u=o?.[0]?.[$d];u!==void 0&&n(!!u),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fT()||aT()||Lm()}}const ZR=JR;var Cv="@firebase/auth",Nv="1.12.0";class WR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function eC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tC(r){Wa(new Us("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:y}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dT(r)},_=new _w(s,o,u,g);return Nw(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Wa(new Us("auth-internal",e=>{const n=Ys(e.getProvider("auth").getImmediate());return(s=>new WR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(Cv,Nv,eC(r)),Fr(Cv,Nv,"esm2020")}const nC=300,iC=qE("authIdTokenMaxAge")||nC;let Iv=null;const rC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>iC)return;const o=n?.token;Iv!==o&&(Iv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sC(r=QE()){const e=Om(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Cw(r,{popupRedirectResolver:ZR,persistence:[uR,Jw,bT]}),s=qE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=rC(u.toString());Yw(n,f,()=>f(n.currentUser)),Fw(n,y=>f(y))}}const o=zE("auth");return o&&Iw(n,`http://${o}`),n}function aC(){return document.getElementsByTagName("head")?.[0]??document}vw({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=bi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",aC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tC("Browser");var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Yr,DT;(function(){var r;function e(w,b){function C(){}C.prototype=b.prototype,w.F=b.prototype,w.prototype=new C,w.prototype.constructor=w,w.D=function(k,x,V){for(var N=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)N[Ye-2]=arguments[Ye];return b.prototype[x].apply(k,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,b,C){C||(C=0);const k=Array(16);if(typeof b=="string")for(var x=0;x<16;++x)k[x]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(x=0;x<16;++x)k[x]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=w.g[0],C=w.g[1],x=w.g[2];let V=w.g[3],N;N=b+(V^C&(x^V))+k[0]+3614090360&4294967295,b=C+(N<<7&4294967295|N>>>25),N=V+(x^b&(C^x))+k[1]+3905402710&4294967295,V=b+(N<<12&4294967295|N>>>20),N=x+(C^V&(b^C))+k[2]+606105819&4294967295,x=V+(N<<17&4294967295|N>>>15),N=C+(b^x&(V^b))+k[3]+3250441966&4294967295,C=x+(N<<22&4294967295|N>>>10),N=b+(V^C&(x^V))+k[4]+4118548399&4294967295,b=C+(N<<7&4294967295|N>>>25),N=V+(x^b&(C^x))+k[5]+1200080426&4294967295,V=b+(N<<12&4294967295|N>>>20),N=x+(C^V&(b^C))+k[6]+2821735955&4294967295,x=V+(N<<17&4294967295|N>>>15),N=C+(b^x&(V^b))+k[7]+4249261313&4294967295,C=x+(N<<22&4294967295|N>>>10),N=b+(V^C&(x^V))+k[8]+1770035416&4294967295,b=C+(N<<7&4294967295|N>>>25),N=V+(x^b&(C^x))+k[9]+2336552879&4294967295,V=b+(N<<12&4294967295|N>>>20),N=x+(C^V&(b^C))+k[10]+4294925233&4294967295,x=V+(N<<17&4294967295|N>>>15),N=C+(b^x&(V^b))+k[11]+2304563134&4294967295,C=x+(N<<22&4294967295|N>>>10),N=b+(V^C&(x^V))+k[12]+1804603682&4294967295,b=C+(N<<7&4294967295|N>>>25),N=V+(x^b&(C^x))+k[13]+4254626195&4294967295,V=b+(N<<12&4294967295|N>>>20),N=x+(C^V&(b^C))+k[14]+2792965006&4294967295,x=V+(N<<17&4294967295|N>>>15),N=C+(b^x&(V^b))+k[15]+1236535329&4294967295,C=x+(N<<22&4294967295|N>>>10),N=b+(x^V&(C^x))+k[1]+4129170786&4294967295,b=C+(N<<5&4294967295|N>>>27),N=V+(C^x&(b^C))+k[6]+3225465664&4294967295,V=b+(N<<9&4294967295|N>>>23),N=x+(b^C&(V^b))+k[11]+643717713&4294967295,x=V+(N<<14&4294967295|N>>>18),N=C+(V^b&(x^V))+k[0]+3921069994&4294967295,C=x+(N<<20&4294967295|N>>>12),N=b+(x^V&(C^x))+k[5]+3593408605&4294967295,b=C+(N<<5&4294967295|N>>>27),N=V+(C^x&(b^C))+k[10]+38016083&4294967295,V=b+(N<<9&4294967295|N>>>23),N=x+(b^C&(V^b))+k[15]+3634488961&4294967295,x=V+(N<<14&4294967295|N>>>18),N=C+(V^b&(x^V))+k[4]+3889429448&4294967295,C=x+(N<<20&4294967295|N>>>12),N=b+(x^V&(C^x))+k[9]+568446438&4294967295,b=C+(N<<5&4294967295|N>>>27),N=V+(C^x&(b^C))+k[14]+3275163606&4294967295,V=b+(N<<9&4294967295|N>>>23),N=x+(b^C&(V^b))+k[3]+4107603335&4294967295,x=V+(N<<14&4294967295|N>>>18),N=C+(V^b&(x^V))+k[8]+1163531501&4294967295,C=x+(N<<20&4294967295|N>>>12),N=b+(x^V&(C^x))+k[13]+2850285829&4294967295,b=C+(N<<5&4294967295|N>>>27),N=V+(C^x&(b^C))+k[2]+4243563512&4294967295,V=b+(N<<9&4294967295|N>>>23),N=x+(b^C&(V^b))+k[7]+1735328473&4294967295,x=V+(N<<14&4294967295|N>>>18),N=C+(V^b&(x^V))+k[12]+2368359562&4294967295,C=x+(N<<20&4294967295|N>>>12),N=b+(C^x^V)+k[5]+4294588738&4294967295,b=C+(N<<4&4294967295|N>>>28),N=V+(b^C^x)+k[8]+2272392833&4294967295,V=b+(N<<11&4294967295|N>>>21),N=x+(V^b^C)+k[11]+1839030562&4294967295,x=V+(N<<16&4294967295|N>>>16),N=C+(x^V^b)+k[14]+4259657740&4294967295,C=x+(N<<23&4294967295|N>>>9),N=b+(C^x^V)+k[1]+2763975236&4294967295,b=C+(N<<4&4294967295|N>>>28),N=V+(b^C^x)+k[4]+1272893353&4294967295,V=b+(N<<11&4294967295|N>>>21),N=x+(V^b^C)+k[7]+4139469664&4294967295,x=V+(N<<16&4294967295|N>>>16),N=C+(x^V^b)+k[10]+3200236656&4294967295,C=x+(N<<23&4294967295|N>>>9),N=b+(C^x^V)+k[13]+681279174&4294967295,b=C+(N<<4&4294967295|N>>>28),N=V+(b^C^x)+k[0]+3936430074&4294967295,V=b+(N<<11&4294967295|N>>>21),N=x+(V^b^C)+k[3]+3572445317&4294967295,x=V+(N<<16&4294967295|N>>>16),N=C+(x^V^b)+k[6]+76029189&4294967295,C=x+(N<<23&4294967295|N>>>9),N=b+(C^x^V)+k[9]+3654602809&4294967295,b=C+(N<<4&4294967295|N>>>28),N=V+(b^C^x)+k[12]+3873151461&4294967295,V=b+(N<<11&4294967295|N>>>21),N=x+(V^b^C)+k[15]+530742520&4294967295,x=V+(N<<16&4294967295|N>>>16),N=C+(x^V^b)+k[2]+3299628645&4294967295,C=x+(N<<23&4294967295|N>>>9),N=b+(x^(C|~V))+k[0]+4096336452&4294967295,b=C+(N<<6&4294967295|N>>>26),N=V+(C^(b|~x))+k[7]+1126891415&4294967295,V=b+(N<<10&4294967295|N>>>22),N=x+(b^(V|~C))+k[14]+2878612391&4294967295,x=V+(N<<15&4294967295|N>>>17),N=C+(V^(x|~b))+k[5]+4237533241&4294967295,C=x+(N<<21&4294967295|N>>>11),N=b+(x^(C|~V))+k[12]+1700485571&4294967295,b=C+(N<<6&4294967295|N>>>26),N=V+(C^(b|~x))+k[3]+2399980690&4294967295,V=b+(N<<10&4294967295|N>>>22),N=x+(b^(V|~C))+k[10]+4293915773&4294967295,x=V+(N<<15&4294967295|N>>>17),N=C+(V^(x|~b))+k[1]+2240044497&4294967295,C=x+(N<<21&4294967295|N>>>11),N=b+(x^(C|~V))+k[8]+1873313359&4294967295,b=C+(N<<6&4294967295|N>>>26),N=V+(C^(b|~x))+k[15]+4264355552&4294967295,V=b+(N<<10&4294967295|N>>>22),N=x+(b^(V|~C))+k[6]+2734768916&4294967295,x=V+(N<<15&4294967295|N>>>17),N=C+(V^(x|~b))+k[13]+1309151649&4294967295,C=x+(N<<21&4294967295|N>>>11),N=b+(x^(C|~V))+k[4]+4149444226&4294967295,b=C+(N<<6&4294967295|N>>>26),N=V+(C^(b|~x))+k[11]+3174756917&4294967295,V=b+(N<<10&4294967295|N>>>22),N=x+(b^(V|~C))+k[2]+718787259&4294967295,x=V+(N<<15&4294967295|N>>>17),N=C+(V^(x|~b))+k[9]+3951481745&4294967295,w.g[0]=w.g[0]+b&4294967295,w.g[1]=w.g[1]+(x+(N<<21&4294967295|N>>>11))&4294967295,w.g[2]=w.g[2]+x&4294967295,w.g[3]=w.g[3]+V&4294967295}s.prototype.v=function(w,b){b===void 0&&(b=w.length);const C=b-this.blockSize,k=this.C;let x=this.h,V=0;for(;V<b;){if(x==0)for(;V<=C;)o(this,w,V),V+=this.blockSize;if(typeof w=="string"){for(;V<b;)if(k[x++]=w.charCodeAt(V++),x==this.blockSize){o(this,k),x=0;break}}else for(;V<b;)if(k[x++]=w[V++],x==this.blockSize){o(this,k),x=0;break}}this.h=x,this.o+=b},s.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var b=1;b<w.length-8;++b)w[b]=0;b=this.o*8;for(var C=w.length-8;C<w.length;++C)w[C]=b&255,b/=256;for(this.v(w),w=Array(16),b=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)w[b++]=this.g[C]>>>k&255;return w};function u(w,b){var C=y;return Object.prototype.hasOwnProperty.call(C,w)?C[w]:C[w]=b(w)}function f(w,b){this.h=b;const C=[];let k=!0;for(let x=w.length-1;x>=0;x--){const V=w[x]|0;k&&V==b||(C[x]=V,k=!1)}this.g=C}var y={};function g(w){return-128<=w&&w<128?u(w,function(b){return new f([b|0],b<0?-1:0)}):new f([w|0],w<0?-1:0)}function _(w){if(isNaN(w)||!isFinite(w))return R;if(w<0)return W(_(-w));const b=[];let C=1;for(let k=0;w>=C;k++)b[k]=w/C|0,C*=4294967296;return new f(b,0)}function S(w,b){if(w.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(w.charAt(0)=="-")return W(S(w.substring(1),b));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(b,8));let k=R;for(let V=0;V<w.length;V+=8){var x=Math.min(8,w.length-V);const N=parseInt(w.substring(V,V+x),b);x<8?(x=_(Math.pow(b,x)),k=k.j(x).add(_(N))):(k=k.j(C),k=k.add(_(N)))}return k}var R=g(0),D=g(1),B=g(16777216);r=f.prototype,r.m=function(){if(X(this))return-W(this).m();let w=0,b=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);w+=(k>=0?k:4294967296+k)*b,b*=4294967296}return w},r.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(Y(this))return"0";if(X(this))return"-"+W(this).toString(w);const b=_(Math.pow(w,6));var C=this;let k="";for(;;){const x=le(C,b).g;C=ie(C,x.j(b));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(w);if(C=x,Y(C))return V+k;for(;V.length<6;)V="0"+V;k=V+k}},r.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function Y(w){if(w.h!=0)return!1;for(let b=0;b<w.g.length;b++)if(w.g[b]!=0)return!1;return!0}function X(w){return w.h==-1}r.l=function(w){return w=ie(this,w),X(w)?-1:Y(w)?0:1};function W(w){const b=w.g.length,C=[];for(let k=0;k<b;k++)C[k]=~w.g[k];return new f(C,~w.h).add(D)}r.abs=function(){return X(this)?W(this):this},r.add=function(w){const b=Math.max(this.g.length,w.g.length),C=[];let k=0;for(let x=0;x<=b;x++){let V=k+(this.i(x)&65535)+(w.i(x)&65535),N=(V>>>16)+(this.i(x)>>>16)+(w.i(x)>>>16);k=N>>>16,V&=65535,N&=65535,C[x]=N<<16|V}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ie(w,b){return w.add(W(b))}r.j=function(w){if(Y(this)||Y(w))return R;if(X(this))return X(w)?W(this).j(W(w)):W(W(this).j(w));if(X(w))return W(this.j(W(w)));if(this.l(B)<0&&w.l(B)<0)return _(this.m()*w.m());const b=this.g.length+w.g.length,C=[];for(var k=0;k<2*b;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let x=0;x<w.g.length;x++){const V=this.i(k)>>>16,N=this.i(k)&65535,Ye=w.i(x)>>>16,pe=w.i(x)&65535;C[2*k+2*x]+=N*pe,ue(C,2*k+2*x),C[2*k+2*x+1]+=V*pe,ue(C,2*k+2*x+1),C[2*k+2*x+1]+=N*Ye,ue(C,2*k+2*x+1),C[2*k+2*x+2]+=V*Ye,ue(C,2*k+2*x+2)}for(w=0;w<b;w++)C[w]=C[2*w+1]<<16|C[2*w];for(w=b;w<2*b;w++)C[w]=0;return new f(C,0)};function ue(w,b){for(;(w[b]&65535)!=w[b];)w[b+1]+=w[b]>>>16,w[b]&=65535,b++}function G(w,b){this.g=w,this.h=b}function le(w,b){if(Y(b))throw Error("division by zero");if(Y(w))return new G(R,R);if(X(w))return b=le(W(w),b),new G(W(b.g),W(b.h));if(X(b))return b=le(w,W(b)),new G(W(b.g),b.h);if(w.g.length>30){if(X(w)||X(b))throw Error("slowDivide_ only works with positive integers.");for(var C=D,k=b;k.l(w)<=0;)C=Te(C),k=Te(k);var x=ae(C,1),V=ae(k,1);for(k=ae(k,2),C=ae(C,2);!Y(k);){var N=V.add(k);N.l(w)<=0&&(x=x.add(C),V=N),k=ae(k,1),C=ae(C,1)}return b=ie(w,x.j(b)),new G(x,b)}for(x=R;w.l(b)>=0;){for(C=Math.max(1,Math.floor(w.m()/b.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),V=_(C),N=V.j(b);X(N)||N.l(w)>0;)C-=k,V=_(C),N=V.j(b);Y(V)&&(V=D),x=x.add(V),w=ie(w,N)}return new G(x,w)}r.B=function(w){return le(this,w).h},r.and=function(w){const b=Math.max(this.g.length,w.g.length),C=[];for(let k=0;k<b;k++)C[k]=this.i(k)&w.i(k);return new f(C,this.h&w.h)},r.or=function(w){const b=Math.max(this.g.length,w.g.length),C=[];for(let k=0;k<b;k++)C[k]=this.i(k)|w.i(k);return new f(C,this.h|w.h)},r.xor=function(w){const b=Math.max(this.g.length,w.g.length),C=[];for(let k=0;k<b;k++)C[k]=this.i(k)^w.i(k);return new f(C,this.h^w.h)};function Te(w){const b=w.g.length+1,C=[];for(let k=0;k<b;k++)C[k]=w.i(k)<<1|w.i(k-1)>>>31;return new f(C,w.h)}function ae(w,b){const C=b>>5;b%=32;const k=w.g.length-C,x=[];for(let V=0;V<k;V++)x[V]=b>0?w.i(V+C)>>>b|w.i(V+C+1)<<32-b:w.i(V+C);return new f(x,w.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,DT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=S,Yr=f}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kT,Ro,OT,Yc,hm,MT,VT,jT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<c.length;++m){var E=c[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,m){if(m)e:{var E=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in E))break e;E=E[L]}c=c[c.length-1],A=E[c],m=m(A),m!=A&&m!=null&&e(E,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var E=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&E.push([A,m[A]]);return E}});var u=u||{},f=this||self;function y(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,E){return c.call.apply(c.bind,arguments)}function _(c,m,E){return _=g,_.apply(null,arguments)}function S(c,m){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function R(c,m){function E(){}E.prototype=m.prototype,c.Z=m.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,L,H){for(var re=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)re[Ne-2]=arguments[Ne];return m.prototype[L].apply(A,re)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const m=c.length;if(m>0){const E=Array(m);for(let A=0;A<m;A++)E[A]=c[A];return E}return[]}function Y(c,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var E=typeof L;if(E=E!="object"?E:L?Array.isArray(L)?"array":E:"null",E=="array"||E=="object"&&typeof L.length=="number"){E=c.length||0;const H=L.length||0;c.length=E+H;for(let re=0;re<H;re++)c[E+re]=L[re]}else c.push(L)}}class X{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(c){f.setTimeout(()=>{throw c},0)}function ie(){var c=w;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ue{constructor(){this.h=this.g=null}add(m,E){const A=G.get();A.set(m,E),this.h?this.h.next=A:this.g=A,this.h=A}}var G=new X(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ae=!1,w=new ue,b=()=>{const c=Promise.resolve(void 0);Te=()=>{c.then(C)}};function C(){for(var c;c=ie();){try{c.h.call(c.g)}catch(E){W(E)}var m=G;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}ae=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,m),f.removeEventListener("test",E,m)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Ye(c,m){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}R(Ye,x),Ye.prototype.init=function(c,m){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(E=="mouseover"?m=c.fromElement:E=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ye.Z.h.call(this)},Ye.prototype.h=function(){Ye.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),q=0;function te(c,m,E,A,L){this.listener=c,this.proxy=null,this.src=m,this.type=E,this.capture=!!A,this.ha=L,this.key=++q,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function be(c,m,E){for(const A in c)m.call(E,c[A],A,c)}function Se(c,m){for(const E in c)m.call(void 0,c[E],E,c)}function O(c){const m={};for(const E in c)m[E]=c[E];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,m){let E,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(E in A)c[E]=A[E];for(let H=0;H<Q.length;H++)E=Q[H],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,m,E,A,L){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const re=xe(c,m,A,L);return re>-1?(m=c[re],E||(m.fa=!1)):(m=new te(m,this.src,H,!!A,L),m.fa=E,c.push(m)),m};function Ae(c,m){const E=m.type;if(E in c.g){var A=c.g[E],L=Array.prototype.indexOf.call(A,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(A,L,1),H&&(de(m),c.g[E].length==0&&(delete c.g[E],c.h--))}}function xe(c,m,E,A){for(let L=0;L<c.length;++L){const H=c[L];if(!H.da&&H.listener==m&&H.capture==!!E&&H.ha==A)return L}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),xt={};function at(c,m,E,A,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)at(c,m[H],E,A,L);return null}return E=gl(E),c&&c[pe]?c.J(m,E,y(A)?!!A.capture:!1,L):is(c,m,E,!1,A,L)}function is(c,m,E,A,L,H){if(!m)throw Error("Invalid event type");const re=y(L)?!!L.capture:!!L;let Ne=rs(c);if(Ne||(c[ze]=Ne=new ce(c)),E=Ne.add(m,E,A,re,H),E.proxy)return E;if(A=Zs(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)V||(L=re),L===void 0&&(L=!1),c.addEventListener(m.toString(),A,L);else if(c.attachEvent)c.attachEvent(ti(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Zs(){function c(E){return m.call(c.src,c.listener,E)}const m=ml;return c}function Ws(c,m,E,A,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Ws(c,m[H],E,A,L);else A=y(A)?!!A.capture:!!A,E=gl(E),c&&c[pe]?(c=c.i,H=String(m).toString(),H in c.g&&(m=c.g[H],E=xe(m,E,A,L),E>-1&&(de(m[E]),Array.prototype.splice.call(m,E,1),m.length==0&&(delete c.g[H],c.h--)))):c&&(c=rs(c))&&(m=c.g[m.toString()],c=-1,m&&(c=xe(m,E,A,L)),(E=c>-1?m[c]:null)&&ea(E))}function ea(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[pe])Ae(m.i,c);else{var E=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(E,A,c.capture):m.detachEvent?m.detachEvent(ti(E),A):m.addListener&&m.removeListener&&m.removeListener(A),(E=rs(m))?(Ae(E,c),E.h==0&&(E.src=null,m[ze]=null)):de(c)}}}function ti(c){return c in xt?xt[c]:xt[c]="on"+c}function ml(c,m){if(c.da)c=!0;else{m=new Ye(m,this);const E=c.listener,A=c.ha||c.src;c.fa&&ea(c),c=E.call(A,m)}return c}function rs(c){return c=c[ze],c instanceof ce?c:null}var pl="__closure_events_fn_"+(Math.random()*1e9>>>0);function gl(c){return typeof c=="function"?c:(c[pl]||(c[pl]=function(m){return c.handleEvent(m)}),c[pl])}function _t(){k.call(this),this.i=new ce(this),this.M=this,this.G=null}R(_t,k),_t.prototype[pe]=!0,_t.prototype.removeEventListener=function(c,m,E,A){Ws(this,c,m,E,A)};function Dt(c,m){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new x(m,c);else if(m instanceof x)m.target=m.target||c;else{var L=m;m=new x(A,c),se(m,L)}L=!0;let H,re;if(E)for(re=E.length-1;re>=0;re--)H=m.g=E[re],L=rr(H,A,!0,m)&&L;if(H=m.g=c,L=rr(H,A,!0,m)&&L,L=rr(H,A,!1,m)&&L,E)for(re=0;re<E.length;re++)H=m.g=E[re],L=rr(H,A,!1,m)&&L}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const E=c.g[m];for(let A=0;A<E.length;A++)de(E[A]);delete c.g[m],c.h--}}this.G=null},_t.prototype.J=function(c,m,E,A){return this.i.add(String(c),m,!1,E,A)},_t.prototype.K=function(c,m,E,A){return this.i.add(String(c),m,!0,E,A)};function rr(c,m,E,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const re=m[H];if(re&&!re.da&&re.capture==E){const Ne=re.listener,dt=re.ha||re.src;re.fa&&Ae(c.i,re),L=Ne.call(dt,A)!==!1&&L}}return L&&!A.defaultPrevented}function Uh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function lu(c){c.g=Uh(()=>{c.g=null,c.i&&(c.i=!1,lu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Wt extends k{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(c){k.call(this),this.h=c,this.g={}}R(ss,k);var yl=[];function _l(c){be(c.g,function(m,E){this.g.hasOwnProperty(E)&&ea(m)},c),c.g={}}ss.prototype.N=function(){ss.Z.N.call(this),_l(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=f.JSON.stringify,zh=f.JSON.parse,ou=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function uu(){}function cu(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){x.call(this,"d")}R(Pt,x);function En(){x.call(this,"c")}R(En,x);var ft={},hu=null;function ta(){return hu=hu||new _t}ft.Ia="serverreachability";function fu(c){x.call(this,ft.Ia,c)}R(fu,x);function ni(c){const m=ta();Dt(m,new fu(m))}ft.STAT_EVENT="statevent";function as(c,m){x.call(this,ft.STAT_EVENT,c),this.stat=m}R(as,x);function vt(c){const m=ta();Dt(m,new as(m,c))}ft.Ja="timingevent";function ii(c,m){x.call(this,ft.Ja,c),this.size=m}R(ii,x);function ri(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Bh(c,m,E,A,L,H){c.info(function(){if(c.g)if(H){var re="",Ne=H.split("&");for(let Ge=0;Ge<Ne.length;Ge++){var dt=Ne[Ge].split("=");if(dt.length>1){const lt=dt[0];dt=dt[1];const bn=lt.split("_");re=bn.length>=2&&bn[1]=="type"?re+(lt+"="+dt+"&"):re+(lt+"=redacted&")}}}else re=null;else re=H;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+E+`
`+re})}function du(c,m,E,A,L,H,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+E+`
`+H+" "+re})}function si(c,m,E,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+qh(c,E)+(A?" "+A:"")})}function ls(c,m){c.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function qh(c,m){if(!c.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var E=H[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return sr(H)}catch{return m}}var os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},El;function us(){}R(us,uu),us.prototype.g=function(){return new XMLHttpRequest},El=new us;function Di(c){return encodeURIComponent(String(c))}function mu(c){var m=1;c=c.split(":");const E=[];for(;m>0&&c.length;)E.push(c.shift()),m--;return c.length&&E.push(c.join(":")),E}function Pn(c,m,E,A){this.j=c,this.i=m,this.l=E,this.S=A||1,this.V=new ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var Et={},Mt={};function ai(c,m,E){c.M=1,c.A=cs(St(m)),c.u=E,c.R=!0,na(c,null)}function na(c,m){c.F=Date.now(),li(c),c.B=St(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),aa(E.i,"t",A),c.C=0,E=c.j.L,c.h=new Un,c.g=Iu(c.j,E?m:null,!c.u),c.P>0&&(c.O=new Wt(_(c.Y,c,c.g),c.P)),m=c.V,E=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(yl[0]=L.toString()),L=yl);for(let H=0;H<L.length;H++){const re=at(E,L[H],A||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ni(),Bh(c.i,c.v,c.B,c.l,c.S,c.u)}Pn.prototype.ba=function(c){c=c.target;const m=this.O;m&&qn(c)==3?m.j():this.Y(c)},Pn.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=qn(this.g),dt=this.g.ya(),Ge=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Ut(this.g)))){this.K||Ne!=4||dt==7||(dt==8||Ge<=0?ni(3):ni(2)),oi(this);var m=this.g.ca();this.X=m;var E=Hh(this);if(this.o=m==200,du(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var H=A;break t}}H=null}if(c=H)si(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,c);else{this.o=!1,this.m=3,vt(12),hn(this),Tn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<E.length;)if(lt=gu(this,E),lt==Mt){Ne==4&&(this.m=4,vt(14),c=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Et){this.m=4,vt(15),si(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else si(this.i,this.l,lt,null),ui(this,lt);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||E.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)si(this.i,this.l,E,"[Invalid Chunked Response]"),hn(this),Tn(this);else if(E.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Vl(re),re.P=!0,vt(11))}}else si(this.i,this.l,E,null),ui(this,E);Ne==4&&hn(this),this.o&&!this.K&&(Ne==4?wu(this.j,this):(this.o=!1,li(this)))}else Oi(this.g),m==400&&E.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),hn(this),Tn(this)}}}catch{}};function Hh(c){if(!pu(c))return c.g.la();const m=Ut(c.g);if(m==="")return"";let E="";const A=m.length,L=qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return hn(c),Tn(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<A;H++)c.h.h=!0,E+=c.h.i.decode(m[H],{stream:!(L&&H==A-1)});return m.length=0,c.h.g+=E,c.C=0,c.h.g}function pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function gu(c,m){var E=c.C,A=m.indexOf(`
`,E);return A==-1?Mt:(E=Number(m.substring(E,A)),isNaN(E)?Et:(A+=1,A+E>m.length?Mt:(m=m.slice(A,A+E),c.C=A+E,m)))}Pn.prototype.cancel=function(){this.K=!0,hn(this)};function li(c){c.T=Date.now()+c.H,ia(c,c.H)}function ia(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ri(_(c.aa,c),m)}function oi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Pn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ls(this.i,this.B),this.M!=2&&(ni(),vt(17)),hn(this),this.m=2,Tn(this)):ia(this,this.T-c)};function Tn(c){c.j.I==0||c.K||wu(c.j,c)}function hn(c){oi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,_l(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ui(c,m){try{var E=c.j;if(E.I!=0&&(E.g==c||hi(E.h,c))){if(!c.L&&hi(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)ha(E),dr(E);else break e;ys(E),vt(18)}}else E.xa=L[1],0<E.xa-E.K&&L[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ri(_(E.Va,E),6e3));ci(E.h)<=1&&E.ta&&(E.ta=void 0)}else yi(E,11)}else if((c.L||E.g==c)&&ha(E),!N(m))for(L=E.Ba.g.parse(m),m=0;m<L.length;m++){let Ge=L[m];const lt=Ge[0];if(!(lt<=E.K))if(E.K=lt,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const bn=Ge[3];bn!=null&&(E.ka=bn,E.j.info("VER="+E.ka));const _i=Ge[4];_i!=null&&(E.za=_i,E.j.info("SVER="+E.za));const Hn=Ge[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(A=1.5*Hn,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Gn=c.g;if(Gn){const _s=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_s){var H=A.h;H.g||_s.indexOf("spdy")==-1&&_s.indexOf("quic")==-1&&_s.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Al(H,H.h),H.h=null))}if(A.G){const fa=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(A.wa=fa,Qe(A.J,A.G,fa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var re=c;if(A.na=Nu(A,A.L?A.ba:null,A.W),re.L){bl(A.h,re);var Ne=re,dt=A.O;dt&&(Ne.H=dt),Ne.D&&(oi(Ne),li(Ne)),A.g=re}else Au(A);E.i.length>0&&gi(E)}else Ge[0]!="stop"&&Ge[0]!="close"||yi(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?yi(E,7):Ol(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}ni(4)}catch{}}var Tt=class{constructor(c,m){this.g=c,this.map=m}};function Tl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ci(c){return c.h?1:c.g?c.g.size:0}function hi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Al(c,m){c.g?c.g.add(m):c.h=m}function bl(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Tl.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const E of c.g.values())m=m.concat(E.G);return m}return B(c.i)}var yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(c,m){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let L,H=null;A>=0?(L=c[E].substring(0,A),H=c[E].substring(A+1)):L=c[E],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function fn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof fn?(this.l=c.l,Vt(this,c.j),this.o=c.o,this.g=c.g,ar(this,c.u),this.h=c.h,Rl(this,Tu(c.i)),this.m=c.m):c&&(m=String(c).match(yu))?(this.l=!1,Vt(this,m[1]||"",!0),this.o=fi(m[2]||""),this.g=fi(m[3]||"",!0),ar(this,m[4]),this.h=fi(m[5]||"",!0),Rl(this,m[6]||"",!0),this.m=fi(m[7]||"")):(this.l=!1,this.i=new or(null,this.l))}fn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(hs(m,sa,!0),":");var E=this.g;return(E||m=="file")&&(c.push("//"),(m=this.o)&&c.push(hs(m,sa,!0),"@"),c.push(Di(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(hs(E,E.charAt(0)=="/"?Cl:_u,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",hs(E,vu)),c.join("")},fn.prototype.resolve=function(c){const m=St(this);let E=!!c.j;E?Vt(m,c.j):E=!!c.o,E?m.o=c.o:E=!!c.g,E?m.g=c.g:E=c.u!=null;var A=c.h;if(E)ar(m,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let re=0;re<L.length;){const Ne=L[re++];Ne=="."?A&&re==L.length&&H.push(""):Ne==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&re==L.length&&H.push("")):(H.push(Ne),A=!0)}A=H.join("/")}else A=L}return E?m.h=A:E=c.i.toString()!=="",E?Rl(m,Tu(c.i)):E=!!c.m,E&&(m.m=c.m),m};function St(c){return new fn(c)}function Vt(c,m,E){c.j=E?fi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ar(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Rl(c,m,E){m instanceof or?(c.i=m,la(c.i,c.l)):(E||(m=hs(m,lr)),c.i=new or(m,c.l))}function Qe(c,m,E){c.i.set(m,E)}function cs(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function fi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hs(c,m,E){return typeof c=="string"?(c=encodeURI(c).replace(m,nn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sa=/[#\/\?@]/g,_u=/[#\?:]/g,Cl=/[#\?]/g,lr=/[#\?@]/g,vu=/#/g;function or(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&ra(c.i,function(m,E){c.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}r=or.prototype,r.add=function(c,m){rn(this),this.i=null,c=ur(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(m),this.h+=1,this};function Eu(c,m){rn(c),m=ur(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Nl(c,m){return rn(c),m=ur(c,m),c.g.has(m)}r.forEach=function(c,m){rn(this),this.g.forEach(function(E,A){E.forEach(function(L){c.call(m,L,A,this)},this)},this)};function Il(c,m){rn(c);let E=[];if(typeof m=="string")Nl(c,m)&&(E=E.concat(c.g.get(ur(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)E=E.concat(c[m]);return E}r.set=function(c,m){return rn(this),this.i=null,c=ur(this,c),Nl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Il(this,c),c.length>0?String(c[0]):m):m};function aa(c,m,E){Eu(c,m),E.length>0&&(c.i=null,c.g.set(ur(c,m),B(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var E=m[A];const L=Di(E);E=Il(this,E);for(let H=0;H<E.length;H++){let re=L;E[H]!==""&&(re+="="+Di(E[H])),c.push(re)}}return this.i=c.join("&")};function Tu(c){const m=new or;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function ur(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function la(c,m){m&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(E,A){const L=A.toLowerCase();A!=L&&(Eu(this,A),aa(this,L,E))},c)),c.j=m}function zn(c,m){const E=new Ln;if(f.Image){const A=new Image;A.onload=S(Sn,E,"TestLoadImage: loaded",!0,m,A),A.onerror=S(Sn,E,"TestLoadImage: error",!1,m,A),A.onabort=S(Sn,E,"TestLoadImage: abort",!1,m,A),A.ontimeout=S(Sn,E,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function xl(c,m){const E=new Ln,A=new AbortController,L=setTimeout(()=>{A.abort(),Sn(E,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(L),H.ok?Sn(E,"TestPingServer: ok",!0,m):Sn(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Sn(E,"TestPingServer: error",!1,m)})}function Sn(c,m,E,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(E)}catch{}}function cr(){this.g=new ou}function di(c){this.i=c.Sb||null,this.h=c.ab||!1}R(di,uu),di.prototype.g=function(){return new fs(this.i,this.h)};function fs(c,m){_t.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(fs,_t),r=fs.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Bn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?hr(this):Bn(this),this.readyState==3&&oa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,hr(this))},r.Na=function(c){this.g&&(this.response=c,hr(this))},r.ga=function(){this.g&&hr(this)};function hr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Bn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=m.next();return c.join(`\r
`)};function Bn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function An(c){let m="";return be(c,function(E,A){m+=A,m+=":",m+=E,m+=`\r
`}),m}function ds(c,m,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=An(E),typeof c=="string"?E!=null&&Di(E):Qe(c,m,E))}function Je(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(Je,_t);var mi=/^https?$/i,Dl=["POST","PUT"];r=Je.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():El.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){ms(this,H);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)E.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())E.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(H=>H.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Dl,m,void 0)>=0)||A||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of E)this.g.setRequestHeader(H,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){ms(this,H)}};function ms(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,kl(c),ki(c)}function kl(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Dt(this,"complete"),Dt(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ps(this):this.Xa())},r.Xa=function(){ps(this)};function ps(c){if(c.h&&typeof u<"u"){if(c.v&&qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Dt(c,"readystatechange"),qn(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var A;if(A=H===0){let re=String(c.D).match(yu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),A=!mi.test(re?re.toLowerCase():"")}E=A}if(E)Dt(c,"complete"),Dt(c,"success");else{c.o=6;try{var L=qn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",kl(c)}}finally{ki(c)}}}}function ki(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,m||Dt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),zh(m)}};function Ut(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(c){const m={};c=(c.g&&qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var E=mu(c[A]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const H=m[L]||[];m[L]=H,H.push(E)}Se(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(c,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||m}function fr(c){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,c),this.Za=pi("retryDelaySeedMs",1e4,c),this.Ta=pi("forwardChannelMaxRetries",2,c),this.va=pi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Tl(c&&c.concurrentRequestLimit),this.Ba=new cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=fr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,E,A){vt(0),this.W=c,this.H=m||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Nu(this,null,this.W),gi(this)};function Ol(c){if(ua(c),c.I==3){var m=c.V++,E=St(c.J);if(Qe(E,"SID",c.M),Qe(E,"RID",m),Qe(E,"TYPE","terminate"),gs(c,E),m=new Pn(c,c.j,m),m.M=2,m.A=cs(St(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=m.A,E=!0),E||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}Cu(c)}function dr(c){c.g&&(Vl(c),c.g.cancel(),c.g=null)}function ua(c){dr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ha(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function gi(c){if(!Sl(c.h)&&!c.m){c.m=!0;var m=c.Ea;Te||b(),ae||(Te(),ae=!0),w.add(m,c),c.D=0}}function ca(c,m){return ci(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ri(_(c.Ea,c,m),Ru(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Pn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=O(H),se(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=Su(this,L,m),E=St(this.J),Qe(E,"RID",c),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),gs(this,E),H&&(this.R?m="headers="+Di(An(H))+"&"+m:this.u&&ds(E,this.u,H)),Al(this.h,L),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",m),Qe(E,"SID","null"),L.U=!0,ai(L,E,null)):ai(L,E,m),this.I=2}}else this.I==3&&(c?Ml(this,c):this.i.length==0||Sl(this.h)||Ml(this))};function Ml(c,m){var E;m?E=m.l:E=c.V++;const A=St(c.J);Qe(A,"SID",c.M),Qe(A,"RID",E),Qe(A,"AID",c.K),gs(c,A),c.u&&c.o&&ds(A,c.u,c.o),E=new Pn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Su(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Al(c.h,E),ai(E,A,m)}function gs(c,m){c.H&&be(c.H,function(E,A){Qe(m,A,E)}),c.l&&be({},function(E,A){Qe(m,A,E)})}function Su(c,m,E){E=Math.min(c.i.length,E);const A=c.l?_(c.l.Ka,c.l,c):null;e:{var L=c.i;let Ne=-1;for(;;){const dt=["count="+E];Ne==-1?E>0?(Ne=L[0].g,dt.push("ofs="+Ne)):Ne=0:dt.push("ofs="+Ne);let Ge=!0;for(let lt=0;lt<E;lt++){var H=L[lt].g;const bn=L[lt].map;if(H-=Ne,H<0)Ne=Math.max(0,L[lt].g-100),Ge=!1;else try{H="req"+H+"_"||"";try{var re=bn instanceof Map?bn:Object.entries(bn);for(const[_i,Hn]of re){let Gn=Hn;y(Hn)&&(Gn=sr(Hn)),dt.push(H+_i+"="+encodeURIComponent(Gn))}}catch(_i){throw dt.push(H+"type="+encodeURIComponent("_badmap")),_i}}catch{A&&A(bn)}}if(Ge){re=dt.join("&");break e}}re=void 0}return c=c.i.splice(0,E),m.G=c,re}function Au(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Te||b(),ae||(Te(),ae=!0),w.add(m,c),c.A=0}}function ys(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ri(_(c.Da,c),Ru(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ri(_(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),dr(this),bu(this))};function Vl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function bu(c){c.g=new Pn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=St(c.na);Qe(m,"RID","rpc"),Qe(m,"SID",c.M),Qe(m,"AID",c.K),Qe(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(m,"TO",c.ia),Qe(m,"TYPE","xmlhttp"),gs(c,m),c.u&&c.o&&ds(m,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=cs(St(m)),E.u=null,E.R=!0,na(E,c)}r.Va=function(){this.C!=null&&(this.C=null,dr(this),ys(this),vt(19))};function ha(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function wu(c,m){var E=null;if(c.g==m){ha(c),Vl(c),c.g=null;var A=2}else if(hi(c.h,m))E=m.G,bl(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){E=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;A=ta(),Dt(A,new ii(A,E)),gi(c)}else Au(c);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&ca(c,m)||A==2&&ys(c)))switch(E&&E.length>0&&(m=c.h,m.i=m.i.concat(E)),L){case 1:yi(c,5);break;case 4:yi(c,10);break;case 3:yi(c,6);break;default:yi(c,2)}}}function Ru(c,m){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*m}function yi(c,m){if(c.j.info("Error code "+m),m==2){var E=_(c.bb,c),A=c.Ua;const L=!A;A=new fn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Vt(A,"https"),cs(A),L?zn(A.toString(),E):xl(A.toString(),E)}else vt(2);c.I=0,c.l&&c.l.pa(m),Cu(c),ua(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Cu(c){if(c.I=0,c.ja=[],c.l){const m=wl(c.h);(m.length!=0||c.i.length!=0)&&(Y(c.ja,m),Y(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function Nu(c,m,E){var A=E instanceof fn?St(E):new fn(E);if(A.g!="")m&&(A.g=m+"."+A.g),ar(A,A.u);else{var L=f.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new fn(null);A&&Vt(H,A),m&&(H.g=m),L&&ar(H,L),E&&(H.h=E),A=H}return E=c.G,m=c.wa,E&&m&&Qe(A,E,m),Qe(A,"VER",c.ka),gs(c,A),A}function Iu(c,m,E){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Je(new di({ab:E})):new Je(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}r=xu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function mr(){}mr.prototype.g=function(c,m){return new en(c,m)};function en(c,m){_t.call(this),this.g=new fr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!N(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Mi(this)}R(en,_t),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Ol(this.g)},en.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=sr(c),c=E);m.i.push(new Tt(m.Ya++,c)),m.I==3&&gi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Ol(this.g),delete this.g,en.Z.N.call(this)};function Du(c){Pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const E in m){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}R(Du,Pt);function ku(){En.call(this),this.status=1}R(ku,En);function Mi(c){this.g=c}R(Mi,xu),Mi.prototype.ra=function(){Dt(this.g,"a")},Mi.prototype.qa=function(c){Dt(this.g,new Du(c))},Mi.prototype.pa=function(c){Dt(this.g,new ku)},Mi.prototype.oa=function(){Dt(this.g,"b")},mr.prototype.createWebChannel=mr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,jT=function(){return new mr},VT=function(){return ta()},MT=ft,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},os.NO_ERROR=0,os.TIMEOUT=8,os.HTTP_ERROR=6,Yc=os,vl.COMPLETE="complete",OT=vl,cu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Ro=cu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,kT=Je}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");let ol="12.9.0";function lC(r){ol=r}const qs=new Dm("@firebase/firestore");function qa(){return qs.logLevel}function he(r,...e){if(qs.logLevel<=je.DEBUG){const n=e.map(qm);qs.debug(`Firestore (${ol}): ${r}`,...n)}}function tr(r,...e){if(qs.logLevel<=je.ERROR){const n=e.map(qm);qs.error(`Firestore (${ol}): ${r}`,...n)}}function Hs(r,...e){if(qs.logLevel<=je.WARN){const n=e.map(qm);qs.warn(`Firestore (${ol}): ${r}`,...n)}}function qm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,LT(r,s,n)}function LT(r,e,n){let s=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw tr(s),new Error(s)}function Ke(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||LT(e,o,s)}function Ce(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class PT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Xt.UNAUTHENTICATED)))}shutdown(){}}class uC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cC{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Kr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},y=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Kr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new PT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class hC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class fC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new hC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Xt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Dv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Dv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Dv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function mC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Hm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=mC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function fm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Jd(o)===Jd(u)?Le(o,u):Jd(o)?1:-1}return Le(r.length,e.length)}const pC=55296,gC=57343;function Jd(r){const e=r.charCodeAt(0);return e>=pC&&e<=gC}function el(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const kv="__name__";class Ai{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ai.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=Ai.isNumericId(e),o=Ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ai.extractNumericId(e).compare(Ai.extractNumericId(n)):fm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yr.fromString(e.substring(4,e.length-2))}}class nt extends Ai{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const yC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Ai{construct(e,n,s){return new Ft(e,n,s)}static isValidIdentifier(e){return yC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kv}static keyField(){return new Ft([kv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new oe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else y==="`"?(f=!f,o++):y!=="."||f?(s+=y,o++):(u(),o++)}if(u(),f)throw new oe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}function UT(r,e,n){if(!n)throw new oe(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _C(r,e,n,s){if(e===!0&&s===!0)throw new oe(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Ov(r){if(!ye.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Mv(r){if(ye.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function zT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Th(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Ri(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Th(r);throw new oe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function It(r,e){const n={typeString:r};return e&&(n.value=e),n}function eu(r,e){if(!zT(r))throw new oe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(Z.INVALID_ARGUMENT,n);return!0}const Vv=-62135596800,jv=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*jv);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Vv)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jv}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:It("string",st._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new st(0,0))}static max(){return new we(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zo=-1;function vC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new Xr(o,ye.empty(),e)}function EC(r){return new Xr(r.readTime,r.key,zo)}class Xr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xr(we.min(),ye.empty(),zo)}static max(){return new Xr(we.max(),ye.empty(),zo)}}function TC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}const SC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ul(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==SC)throw r;he("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,f=!1;e.forEach((y=>{++o,y.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,f=new Array(u);let y=0;for(let g=0;g<u;g++){const _=g;n(e[_]).next((S=>{f[_]=S,++y,y===u&&s(f)}),(S=>o(S)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function bC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cl(r){return r.name==="IndexedDbTransactionError"}class Sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sh.ce=-1;const Gm=-1;function Ah(r){return r==null}function ah(r){return r===0&&1/r==-1/0}function wC(r){return typeof r=="number"&&Number.isInteger(r)&&!ah(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const BT="";function RC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Lv(e)),e=CC(r.get(n),e);return Lv(e)}function CC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case BT:n+="";break;default:n+=u}}return n}function Lv(r){return r+BT+""}function Pv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ks(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function qT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ot{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uv(this.data.getIterator())}getIteratorFrom(e){return new Uv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class Uv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Xn([])}unionWith(e){let n=new Ot(Ft.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class HT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new HT("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const NC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const n=NC.exec(r);if(Ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Jr(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const GT="server_timestamp",FT="__type__",YT="__previous_value__",KT="__local_write_time__";function Fm(r){return(r?.mapValue?.fields||{})[FT]?.stringValue===GT}function bh(r){const e=r.mapValue.fields[YT];return Fm(e)?bh(e):e}function Bo(r){const e=$r(r.mapValue.fields[KT].timestampValue);return new st(e.seconds,e.nanos)}class IC{constructor(e,n,s,o,u,f,y,g,_,S,R){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=R}}const lh="(default)";class qo{constructor(e,n){this.projectId=e,this.database=n||lh}static empty(){return new qo("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof qo&&e.projectId===this.projectId&&e.database===this.database}}function xC(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new oe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qo(r.options.projectId,e)}const QT="__type__",DC="__max__",Uc={mapValue:{}},XT="__vector__",oh="value";function Zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fm(r)?4:OC(r)?9007199254740991:kC(r)?10:11:Ee(28295,{value:r})}function xi(r,e){if(r===e)return!0;const n=Zr(r);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Bo(r).isEqual(Bo(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=$r(o.timestampValue),y=$r(u.timestampValue);return f.seconds===y.seconds&&f.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Jr(o.bytesValue).isEqual(Jr(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),y=gt(u.doubleValue);return f===y?ah(f)===ah(y):isNaN(f)&&isNaN(y)}return!1})(r,e);case 9:return el(r.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},y=u.mapValue.fields||{};if(Pv(f)!==Pv(y))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(y[g]===void 0||!xi(f[g],y[g])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function Ho(r,e){return(r.values||[]).find((n=>xi(n,e)))!==void 0}function tl(r,e){if(r===e)return 0;const n=Zr(r),s=Zr(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const y=gt(u.integerValue||u.doubleValue),g=gt(f.integerValue||f.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(r,e);case 3:return zv(r.timestampValue,e.timestampValue);case 4:return zv(Bo(r),Bo(e));case 5:return fm(r.stringValue,e.stringValue);case 6:return(function(u,f){const y=Jr(u),g=Jr(f);return y.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const y=u.split("/"),g=f.split("/");for(let _=0;_<y.length&&_<g.length;_++){const S=Le(y[_],g[_]);if(S!==0)return S}return Le(y.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const y=Le(gt(u.latitude),gt(f.latitude));return y!==0?y:Le(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Bv(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const y=u.fields||{},g=f.fields||{},_=y[oh]?.arrayValue,S=g[oh]?.arrayValue,R=Le(_?.values?.length||0,S?.values?.length||0);return R!==0?R:Bv(_,S)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Uc.mapValue&&f===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(f===Uc.mapValue)return-1;const y=u.fields||{},g=Object.keys(y),_=f.fields||{},S=Object.keys(_);g.sort(),S.sort();for(let R=0;R<g.length&&R<S.length;++R){const D=fm(g[R],S[R]);if(D!==0)return D;const B=tl(y[g[R]],_[S[R]]);if(B!==0)return B}return Le(g.length,S.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function zv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=$r(r),s=$r(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function Bv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=tl(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function nl(r){return dm(r)}function dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=$r(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Jr(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=dm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${dm(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function Kc(r){switch(Zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(r);return e?16+Kc(e):16;case 5:return 2*r.stringValue.length;case 6:return Jr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Kc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ks(s.fields,((u,f)=>{o+=u.length+Kc(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function qv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function mm(r){return!!r&&"integerValue"in r}function Ym(r){return!!r&&"arrayValue"in r}function Hv(r){return!!r&&"nullValue"in r}function Gv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qc(r){return!!r&&"mapValue"in r}function kC(r){return(r?.mapValue?.fields||{})[QT]?.stringValue===XT}function ko(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ks(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ko(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ko(r.arrayValue.values[n]);return e}return{...r}}function OC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===DC}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ko(n)}setAll(e){let n=Ft.emptyPath(),s={},o=[];e.forEach(((f,y)=>{if(!n.isImmediateParentOf(y)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=y.popLast()}f?s[y.lastSegment()]=ko(f):o.push(y.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ks(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Mn(ko(this.value))}}function $T(r){const e=[];return Ks(r.fields,((n,s)=>{const o=new Ft([n]);if(Qc(s)){const u=$T(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Xn(e)}class $t{constructor(e,n,s,o,u,f,y){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=y}static newInvalidDocument(e){return new $t(e,0,we.min(),we.min(),we.min(),Mn.empty(),0)}static newFoundDocument(e,n,s,o){return new $t(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new $t(e,2,n,we.min(),we.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,we.min(),we.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uh{constructor(e,n){this.position=e,this.inclusive=n}}function Fv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=tl(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Yv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!xi(r.position[n],e.position[n]))return!1;return!0}class Go{constructor(e,n="asc"){this.field=e,this.dir=n}}function MC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class JT{}class Nt extends JT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new jC(e,n,s):n==="array-contains"?new UC(e,s):n==="in"?new zC(e,s):n==="not-in"?new BC(e,s):n==="array-contains-any"?new qC(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new LC(e,s):new PC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tl(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends JT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ei(e,n)}matches(e){return ZT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZT(r){return r.op==="and"}function WT(r){return VC(r)&&ZT(r)}function VC(r){for(const e of r.filters)if(e instanceof ei)return!1;return!0}function pm(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+nl(r.value);if(WT(r))return r.filters.map((e=>pm(e))).join(",");{const e=r.filters.map((n=>pm(n))).join(",");return`${r.op}(${e})`}}function e0(r,e){return r instanceof Nt?(function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&xi(s.value,o.value)})(r,e):r instanceof ei?(function(s,o){return o instanceof ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,y)=>u&&e0(f,o.filters[y])),!0):!1})(r,e):void Ee(19439)}function t0(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${nl(n.value)}`})(r):r instanceof ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(t0).join(" ,")+"}"})(r):"Filter"}class jC extends Nt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class LC extends Nt{constructor(e,n){super(e,"in",n),this.keys=n0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class PC extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=n0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function n0(r,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class UC extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ym(n)&&Ho(n.arrayValue,this.value)}}class zC extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ho(this.value.arrayValue,n)}}class BC extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ho(this.value.arrayValue,n)}}class qC extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ho(this.value.arrayValue,s)))}}class HC{constructor(e,n=null,s=[],o=[],u=null,f=null,y=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=y,this.Te=null}}function Kv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new HC(r,e,n,s,o,u,f)}function Km(r){const e=Ce(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>pm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>nl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>nl(s))).join(",")),e.Te=n}return e.Te}function Qm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!MC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!e0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Yv(r.startAt,e.startAt)&&Yv(r.endAt,e.endAt)}function gm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class hl{constructor(e,n=null,s=[],o=[],u=null,f="F",y=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function GC(r,e,n,s,o,u,f,y){return new hl(r,e,n,s,o,u,f,y)}function wh(r){return new hl(r)}function Qv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function FC(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function i0(r){return r.collectionGroup!==null}function Oo(r){const e=Ce(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let y=new Ot(Ft.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Go(u,s))})),n.has(Ft.keyField().canonicalString())||e.Ie.push(new Go(Ft.keyField(),s))}return e.Ie}function Ci(r){const e=Ce(r);return e.Ee||(e.Ee=YC(e,Oo(r))),e.Ee}function YC(r,e){if(r.limitType==="F")return Kv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Go(o.field,u)}));const n=r.endAt?new uh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new uh(r.startAt.position,r.startAt.inclusive):null;return Kv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function ym(r,e){const n=r.filters.concat([e]);return new hl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function KC(r,e){const n=r.explicitOrderBy.concat([e]);return new hl(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function _m(r,e,n){return new hl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Rh(r,e){return Qm(Ci(r),Ci(e))&&r.limitType===e.limitType}function r0(r){return`${Km(Ci(r))}|lt:${r.limitType}`}function Ha(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>t0(o))).join(", ")}]`),Ah(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>nl(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>nl(o))).join(",")),`Target(${s})`})(Ci(r))}; limitType=${r.limitType})`}function Ch(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Oo(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,y,g){const _=Fv(f,y,g);return f.inclusive?_<=0:_<0})(s.startAt,Oo(s),o)||s.endAt&&!(function(f,y,g){const _=Fv(f,y,g);return f.inclusive?_>=0:_>0})(s.endAt,Oo(s),o))})(r,e)}function QC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function s0(r){return(e,n)=>{let s=!1;for(const o of Oo(r)){const u=XC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function XC(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,y){const g=f.data.field(u),_=y.data.field(u);return g!==null&&_!==null?tl(g,_):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class Qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return qT(this.inner)}size(){return this.innerSize}}const $C=new ut(ye.comparator);function nr(){return $C}const a0=new ut(ye.comparator);function Co(...r){let e=a0;for(const n of r)e=e.insert(n.key,n);return e}function l0(r){let e=a0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function js(){return Mo()}function o0(){return Mo()}function Mo(){return new Qs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const JC=new ut(ye.comparator),ZC=new Ot(ye.comparator);function Pe(...r){let e=ZC;for(const n of r)e=e.add(n);return e}const WC=new Ot(Le);function eN(){return WC}function Xm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function u0(r){return{integerValue:""+r}}function tN(r,e){return wC(e)?u0(e):Xm(r,e)}class Nh{constructor(){this._=void 0}}function nN(r,e,n){return r instanceof Fo?(function(o,u){const f={fields:{[FT]:{stringValue:GT},[KT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fm(u)&&(u=bh(u)),u&&(f.fields[YT]=u),{mapValue:f}})(n,e):r instanceof Yo?h0(r,e):r instanceof Ko?f0(r,e):(function(o,u){const f=c0(o,u),y=Xv(f)+Xv(o.Ae);return mm(f)&&mm(o.Ae)?u0(y):Xm(o.serializer,y)})(r,e)}function iN(r,e,n){return r instanceof Yo?h0(r,e):r instanceof Ko?f0(r,e):n}function c0(r,e){return r instanceof ch?(function(s){return mm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Fo extends Nh{}class Yo extends Nh{constructor(e){super(),this.elements=e}}function h0(r,e){const n=d0(e);for(const s of r.elements)n.some((o=>xi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Ko extends Nh{constructor(e){super(),this.elements=e}}function f0(r,e){let n=d0(e);for(const s of r.elements)n=n.filter((o=>!xi(o,s)));return{arrayValue:{values:n}}}class ch extends Nh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Xv(r){return gt(r.integerValue||r.doubleValue)}function d0(r){return Ym(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class rN{constructor(e,n){this.field=e,this.transform=n}}function sN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Yo&&o instanceof Yo||s instanceof Ko&&o instanceof Ko?el(s.elements,o.elements,xi):s instanceof ch&&o instanceof ch?xi(s.Ae,o.Ae):s instanceof Fo&&o instanceof Fo})(r.transform,e.transform)}class aN{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ih{}function m0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new $m(r.key,$n.none()):new tu(r.key,r.data,$n.none());{const n=r.data,s=Mn.empty();let o=new Ot(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Xs(r.key,s,new Xn(o.toArray()),$n.none())}}function lN(r,e,n){r instanceof tu?(function(o,u,f){const y=o.value.clone(),g=Jv(o.fieldTransforms,u,f.transformResults);y.setAll(g),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(r,e,n):r instanceof Xs?(function(o,u,f){if(!Xc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const y=Jv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(p0(o)),g.setAll(y),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Vo(r,e,n,s){return r instanceof tu?(function(u,f,y,g){if(!Xc(u.precondition,f))return y;const _=u.value.clone(),S=Zv(u.fieldTransforms,g,f);return _.setAll(S),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(r,e,n,s):r instanceof Xs?(function(u,f,y,g){if(!Xc(u.precondition,f))return y;const _=Zv(u.fieldTransforms,g,f),S=f.data;return S.setAll(p0(u)),S.setAll(_),f.convertToFoundDocument(f.version,S).setHasLocalMutations(),y===null?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((R=>R.field)))})(r,e,n,s):(function(u,f,y){return Xc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):y})(r,e,n)}function oN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=c0(s.transform,o||null);u!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,u))}return n||null}function $v(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&el(s,o,((u,f)=>sN(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class tu extends Ih{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xs extends Ih{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function p0(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function Jv(r,e,n){const s=new Map;Ke(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,y=e.data.field(u.field);s.set(u.field,iN(f,y,n[o]))}return s}function Zv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,nN(u,f,e))}return s}class $m extends Ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uN extends Ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&lN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Vo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Vo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=o0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let y=this.applyToLocalView(f,u.mutatedFields);y=n.has(o.key)?null:y;const g=m0(f,y);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,((n,s)=>$v(n,s)))&&el(this.baseMutations,e.baseMutations,((n,s)=>$v(n,s)))}}class Jm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return JC})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Jm(e,n,s,o)}}class hN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class fN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,Be;function dN(r){switch(r){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function g0(r){if(r===void 0)return tr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ct.OK:return Z.OK;case Ct.CANCELLED:return Z.CANCELLED;case Ct.UNKNOWN:return Z.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return Z.INTERNAL;case Ct.UNAVAILABLE:return Z.UNAVAILABLE;case Ct.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ct.NOT_FOUND:return Z.NOT_FOUND;case Ct.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ct.ABORTED:return Z.ABORTED;case Ct.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ct.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:r})}}(Be=Ct||(Ct={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function mN(){return new TextEncoder}const pN=new Yr([4294967295,4294967295],0);function Wv(r){const e=mN().encode(r),n=new DT;return n.update(e),new Uint8Array(n.digest())}function eE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Yr([n,s],0),new Yr([o,u],0)]}class Zm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new No(`Invalid padding: ${n}`);if(s<0)throw new No(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new No(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new No(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Yr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Yr.fromNumber(s)));return o.compare(pN)===1&&(o=new Yr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Wv(e),[s,o]=eE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Zm(u,o,n);return s.forEach((y=>f.insert(y))),f}insert(e){if(this.ge===0)return;const n=Wv(e),[s,o]=eE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class No extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new xh(we.min(),o,new ut(Le),nr(),Pe())}}class nu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new nu(s,n,Pe(),Pe(),Pe())}}class $c{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class y0{constructor(e,n){this.targetId=e,this.Ce=n}}class _0{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class tE{constructor(){this.ve=0,this.Fe=nE(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new nu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=nE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class gN{constructor(e){this.Ge=e,this.ze=new Map,this.je=nr(),this.He=zc(),this.Je=zc(),this.Ze=new ut(Le)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(gm(u))if(s===0){const f=new ye(u.path);this.et(n,f,$t.newNoDocument(f,we.min()))}else Ke(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const y=this.ut(e),g=y?this.ct(y,e,f):1;if(g!==0){this.it(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,y;try{f=Jr(s).toUint8Array()}catch(g){if(g instanceof HT)return Hs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new Zm(f,o,u)}catch(g){return Hs(g instanceof No?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),y=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(y)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const y=this.ot(f);if(y){if(u.current&&gm(y.target)){const g=new ye(y.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,$t.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=Pe();this.Je.forEach(((u,f)=>{let y=!0;f.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new xh(e,n,this.Ze,this.je,s);return this.je=nr(),this.He=zc(),this.Je=zc(),this.Ze=new ut(Le),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new tE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ot(Le),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ot(Le),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zc(){return new ut(ye.comparator)}function nE(){return new ut(ye.comparator)}const yN={asc:"ASCENDING",desc:"DESCENDING"},_N={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vN={and:"AND",or:"OR"};class EN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vm(r,e){return r.useProto3Json||Ah(e)?e:{value:e}}function hh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function v0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function TN(r,e){return hh(r,e.toTimestamp())}function Ni(r){return Ke(!!r,49232),we.fromTimestamp((function(n){const s=$r(n);return new st(s.seconds,s.nanos)})(r))}function Wm(r,e){return Em(r,e).canonicalString()}function Em(r,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function E0(r){const e=nt.fromString(r);return Ke(w0(e),10190,{key:e.toString()}),e}function Tm(r,e){return Wm(r.databaseId,e.path)}function Zd(r,e){const n=E0(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(S0(n))}function T0(r,e){return Wm(r.databaseId,e)}function SN(r){const e=E0(r);return e.length===4?nt.emptyPath():S0(e)}function Sm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function S0(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function iE(r,e,n){return{name:Tm(r,e),fields:n.value.mapValue.fields}}function AN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(_,S){return _.useProto3Json?(Ke(S===void 0||typeof S=="string",58123),Yt.fromBase64String(S||"")):(Ke(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Yt.fromUint8Array(S||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,y=f&&(function(_){const S=_.code===void 0?Z.UNKNOWN:g0(_.code);return new oe(S,_.message||"")})(f);n=new _0(s,o,u,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zd(r,s.document.name),u=Ni(s.document.updateTime),f=s.document.createTime?Ni(s.document.createTime):we.min(),y=new Mn({mapValue:{fields:s.document.fields}}),g=$t.newFoundDocument(o,u,f,y),_=s.targetIds||[],S=s.removedTargetIds||[];n=new $c(_,S,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Zd(r,s.document),u=s.readTime?Ni(s.readTime):we.min(),f=$t.newNoDocument(o,u),y=s.removedTargetIds||[];n=new $c([],y,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Zd(r,s.document),u=s.removedTargetIds||[];n=new $c([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new fN(o,u),y=s.targetId;n=new y0(y,f)}}return n}function bN(r,e){let n;if(e instanceof tu)n={update:iE(r,e.key,e.value)};else if(e instanceof $m)n={delete:Tm(r,e.key)};else if(e instanceof Xs)n={update:iE(r,e.key,e.data),updateMask:ON(e.fieldMask)};else{if(!(e instanceof uN))return Ee(16599,{dt:e.type});n={verify:Tm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const y=f.transform;if(y instanceof Fo)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Yo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ko)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ch)return{fieldPath:f.field.canonicalString(),increment:y.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:TN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function wN(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ni(o.updateTime):Ni(u);return f.isEqual(we.min())&&(f=Ni(u)),new aN(f,o.transformResults||[])})(n,e)))):[]}function RN(r,e){return{documents:[T0(r,e.path)]}}function CN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=T0(r,o);const u=(function(_){if(_.length!==0)return b0(ei.create(_,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(_){if(_.length!==0)return _.map((S=>(function(D){return{field:Ga(D.field),direction:xN(D.dir)}})(S)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const y=vm(r,e.limit);return y!==null&&(n.structuredQuery.limit=y),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:o}}function NN(r){let e=SN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const S=n.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let u=[];n.where&&(u=(function(R){const D=A0(R);return D instanceof ei&&WT(D)?D.getFilters():[D]})(n.where));let f=[];n.orderBy&&(f=(function(R){return R.map((D=>(function(Y){return new Go(Fa(Y.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(D)))})(n.orderBy));let y=null;n.limit&&(y=(function(R){let D;return D=typeof R=="object"?R.value:R,Ah(D)?null:D})(n.limit));let g=null;n.startAt&&(g=(function(R){const D=!!R.before,B=R.values||[];return new uh(B,D)})(n.startAt));let _=null;return n.endAt&&(_=(function(R){const D=!R.before,B=R.values||[];return new uh(B,D)})(n.endAt)),GC(e,o,f,u,y,"F",g,_)}function IN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function A0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fa(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Fa(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fa(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fa(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(Fa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ei.create(n.compositeFilter.filters.map((s=>A0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function xN(r){return yN[r]}function DN(r){return _N[r]}function kN(r){return vN[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Fa(r){return Ft.fromServerFormat(r.fieldPath)}function b0(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(Gv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(Hv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(Hv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:DN(n.op),value:n.value}}})(r):r instanceof ei?(function(n){const s=n.getFilters().map((o=>b0(o)));return s.length===1?s[0]:{compositeFilter:{op:kN(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function ON(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function w0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function R0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class qr{constructor(e,n,s,o,u=we.min(),f=we.min(),y=Yt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class MN{constructor(e){this.yt=e}}function VN(r){const e=NN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_m(e,e.limit,"L"):e}class jN{constructor(){this.Sn=new LN}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Xr.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class LN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(nt.comparator)).toArray()}}const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},C0=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(C0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class il{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new il(0)}static ar(){return new il(-1)}}const sE="LruGarbageCollector",PN=1048576;function aE([r,e],[n,s]){const o=Le(r,n);return o===0?Le(e,s):o}class UN{constructor(e){this.Pr=e,this.buffer=new Ot(aE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();aE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(sE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cl(n)?he(sE,"Ignoring IndexedDB error during garbage collection: ",n):await ul(n)}await this.Ar(3e5)}))}}class BN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Sh.ce);const s=new UN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(rE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,y,g,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,f=Date.now(),this.nthSequenceNumber(e,o)))).next((R=>(s=R,y=Date.now(),this.removeTargets(e,s,n)))).next((R=>(u=R,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((R=>(_=Date.now(),qa()<=je.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-S}ms
	Determined least recently used ${o} in `+(y-f)+`ms
	Removed ${u} targets in `+(g-y)+`ms
	Removed ${R} documents in `+(_-g)+`ms
Total Duration: ${_-S}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:R}))))}}function qN(r,e){return new BN(r,e)}class HN{constructor(){this.changes=new Qs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class GN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class FN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Vo(s.mutation,o,Xn.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=js();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Co();return u.forEach(((y,g)=>{f=f.insert(y,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=js();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,y)=>{n.set(f,y)}))}))}computeViews(e,n,s,o){let u=nr();const f=Mo(),y=(function(){return Mo()})();return n.forEach(((g,_)=>{const S=s.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof Xs)?u=u.insert(_.key,_):S!==void 0?(f.set(_.key,S.mutation.getFieldMask()),Vo(S.mutation,_,S.mutation.getFieldMask(),st.now())):f.set(_.key,Xn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((_,S)=>f.set(_,S))),n.forEach(((_,S)=>y.set(_,new GN(S,f.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,n){const s=Mo();let o=new ut(((f,y)=>f-y)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const y of f)y.keys().forEach((g=>{const _=n.get(g);if(_===null)return;let S=s.get(g)||Xn.empty();S=y.applyToLocalView(_,S),s.set(g,S);const R=(o.get(y.batchId)||Pe()).add(g);o=o.insert(y.batchId,R)}))})).next((()=>{const f=[],y=o.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),_=g.key,S=g.value,R=o0();S.forEach((D=>{if(!u.has(D)){const B=m0(n.get(D),s.get(D));B!==null&&R.set(D,B),u=u.add(D)}})),f.push(this.documentOverlayCache.saveOverlays(e,_,R))}return ee.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return FC(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):i0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(js());let y=zo,g=u;return f.next((_=>ee.forEach(_,((S,R)=>(y<R.largestBatchId&&(y=R.largestBatchId),u.get(S)?ee.resolve():this.remoteDocumentCache.getEntry(e,S).next((D=>{g=g.insert(S,D)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,g,_,Pe()))).next((S=>({batchId:y,changes:l0(S)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=Co();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Co();return this.indexManager.getCollectionParents(e,u).next((y=>ee.forEach(y,(g=>{const _=(function(R,D){return new hl(D,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((S=>{S.forEach(((R,D)=>{f=f.insert(R,D)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,_)=>{const S=_.getKey();f.get(S)===null&&(f=f.insert(S,$t.newInvalidDocument(S)))}));let y=Co();return f.forEach(((g,_)=>{const S=u.get(g);S!==void 0&&Vo(S.mutation,_,Xn.empty(),st.now()),Ch(n,_)&&(y=y.insert(g,_))})),y}))}}class YN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:VN(o.bundledQuery),readTime:Ni(o.readTime)}})(n)),ee.resolve()}}class KN{constructor(){this.overlays=new ut(ye.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=js();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=js(),u=n.length+1,f=new ye(n.child("")),y=this.overlays.getIteratorFrom(f);for(;y.hasNext();){const g=y.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((_,S)=>_-S));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let S=u.get(_.largestBatchId);S===null&&(S=js(),u=u.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=js(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=o)););return ee.resolve(y)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new hN(n,s));let u=this.Lr.get(n);u===void 0&&(u=Pe(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class QN{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class ep{constructor(){this.kr=new Ot(Lt.Kr),this.qr=new Ot(Lt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Lt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Lt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ye(new nt([])),s=new Lt(n,e),o=new Lt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new nt([])),s=new Lt(n,e),o=new Lt(n,e+1);let u=Pe();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Lt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||Le(e.Hr,n.Hr)}static Ur(e,n){return Le(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}class XN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ot(Lt.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new cN(u,n,s,o);this.mutationQueue.push(f);for(const y of o)this.Jr=this.Jr.add(new Lt(y.key,u)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Gm:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const y=this.Zr(f.Hr);u.push(y)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(Le);return n.forEach((o=>{const u=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(y=>{s=s.add(y.Hr)}))})),ee.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new ye(u),0);let y=new Ot(Le);return this.Jr.forEachWhile((g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(y=y.add(g.Hr)),!0)}),f),ee.resolve(this.Yr(y))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ee.forEach(n.mutations,(o=>{const u=new Lt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Lt(n,0),o=this.Jr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class $N{constructor(e){this.ti=e,this.docs=(function(){return new ut(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let s=nr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():$t.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=nr();const f=n.path,y=new ye(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:_,value:{document:S}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||TC(EC(S),s)<=0||(o.has(S.key)||Ch(n,S))&&(u=u.insert(S.key,S.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ni(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new JN(this)}getSize(e){return ee.resolve(this.size)}}class JN extends HN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class ZN{constructor(e){this.persistence=e,this.ri=new Qs((n=>Km(n)),Qm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new ep,this.targetCount=0,this.oi=il._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new il(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,y)=>{y.sequenceNumber<=n&&s.get(y.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}class N0{constructor(e,n){this._i={},this.overlays={},this.ai=new Sh(0),this.ui=!1,this.ui=!0,this.ci=new QN,this.referenceDelegate=e(this),this.li=new ZN(this),this.indexManager=new jN,this.remoteDocumentCache=(function(o){return new $N(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new MN(n),this.Pi=new YN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new XN(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new WN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ee.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class WN extends AC{constructor(e){super(),this.currentSequenceNumber=e}}class tp{constructor(e){this.persistence=e,this.Ri=new ep,this.Ai=null}static Vi(e){return new tp(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(s=>{const o=ye.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class fh{constructor(e,n){this.persistence=e,this.fi=new Qs((s=>RC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=qN(this,n)}static Vi(e,n){return new fh(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((y=>{y||(s++,u.removeEntry(f,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kc(e.data.value)),n}wr(e,n,s){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class np{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new np(e,n.fromCache,s,o)}}class eI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class tI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Rb()?8:bC(Jt())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new eI;return this.ys(e,n,f).next((y=>{if(u.result=y,this.As)return this.ws(e,n,f,y.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(qa()<=je.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(qa()<=je.DEBUG&&he("QueryEngine","Query:",Ha(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(qa()<=je.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):ee.resolve())}gs(e,n){if(Qv(n))return ee.resolve(null);let s=Ci(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=_m(n,null,"F"),s=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Pe(...u);return this.fs.getDocuments(e,f).next((y=>this.indexManager.getMinOffset(e,s).next((g=>{const _=this.bs(n,y);return this.Ss(n,_,f,g.readTime)?this.gs(e,_m(n,null,"F")):this.Ds(e,_,n,g)}))))})))))}ps(e,n,s,o){return Qv(n)||o.isEqual(we.min())?ee.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?ee.resolve(null):(qa()<=je.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ha(n)),this.Ds(e,f,n,vC(o,zo)).next((y=>y)))}))}bs(e,n){let s=new Ot(s0(e));return n.forEach(((o,u)=>{Ch(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return qa()<=je.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ha(n)),this.fs.getDocumentsMatchingQuery(e,n,Xr.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const ip="LocalStore",nI=3e8;class iI{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ut(Le),this.Fs=new Qs((u=>Km(u)),Qm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function rI(r,e,n,s){return new iI(r,e,n,s)}async function I0(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],y=[];let g=Pe();for(const _ of o){f.push(_.batchId);for(const S of _.mutations)g=g.add(S.key)}for(const _ of u){y.push(_.batchId);for(const S of _.mutations)g=g.add(S.key)}return n.localDocuments.getDocuments(s,g).next((_=>({Ns:_,removedBatchIds:f,addedBatchIds:y})))}))}))}function sI(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(y,g,_,S){const R=_.batch,D=R.keys();let B=ee.resolve();return D.forEach((Y=>{B=B.next((()=>S.getEntry(g,Y))).next((X=>{const W=_.docVersions.get(Y);Ke(W!==null,48541),X.version.compareTo(W)<0&&(R.applyToRemoteDocument(X,_),X.isValidDocument()&&(X.setReadTime(_.commitVersion),S.addEntry(X)))}))})),B.next((()=>y.mutationQueue.removeMutationBatch(g,R)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let g=Pe();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(g=g.add(y.batch.mutations[_].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function x0(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function aI(r,e){const n=Ce(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const y=[];e.targetChanges.forEach(((S,R)=>{const D=o.get(R);if(!D)return;y.push(n.li.removeMatchingKeys(u,S.removedDocuments,R).next((()=>n.li.addMatchingKeys(u,S.addedDocuments,R))));let B=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?B=B.withResumeToken(Yt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):S.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(S.resumeToken,s)),o=o.insert(R,B),(function(X,W,ie){return X.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=nI?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(D,B,S)&&y.push(n.li.updateTargetData(u,B))}));let g=nr(),_=Pe();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(n.persistence.referenceDelegate.updateLimboDocument(u,S))})),y.push(lI(u,f,e.documentUpdates).next((S=>{g=S.Bs,_=S.Ls}))),!s.isEqual(we.min())){const S=n.li.getLastRemoteSnapshotVersion(u).next((R=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));y.push(S)}return ee.waitFor(y).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,_))).next((()=>g))})).then((u=>(n.vs=o,u)))}function lI(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=nr();return n.forEach(((y,g)=>{const _=u.get(y);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(y,g.readTime),f=f.insert(y,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),f=f.insert(y,g)):he(ip,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function oI(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Gm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function uI(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new qr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Am(r,e,n){const s=Ce(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!cl(f))throw f;he(ip,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function lE(r,e,n){const s=Ce(r);let o=we.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,_,S){const R=Ce(g),D=R.Fs.get(S);return D!==void 0?ee.resolve(R.vs.get(D)):R.li.getTargetData(_,S)})(s,f,Ci(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,y.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Pe()))).next((y=>(cI(s,QC(e),y),{documents:y,ks:u})))))}function cI(r,e,n){let s=r.Ms.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class oE{constructor(){this.activeTargetIds=eN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hI{constructor(){this.vo=new oE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new oE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fI{Mo(e){}shutdown(){}}const uE="ConnectivityMonitor";class cE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(uE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(uE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bc=null;function bm(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}const Wd="RestConnection",dI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class mI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=bm(),y=this.Qo(e,n.toUriEncodedString());he(Wd,`Sending RPC '${e}' ${f}:`,y,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:_}=new URL(y),S=sl(_);return this.zo(e,y,g,s,S).then((R=>(he(Wd,`Received RPC '${e}' ${f}: `,R),R)),(R=>{throw Hs(Wd,`RPC '${e}' ${f} failed with error: `,R,"url: ",y,"request:",s),R}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=dI[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class pI{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Qt="WebChannelConnection",To=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class $a extends mI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!$a.c_){const e=VT();To(e,MT.STAT_EVENT,(n=>{n.stat===hm.PROXY?he(Qt,"STAT_EVENT: detected buffering proxy"):n.stat===hm.NOPROXY&&he(Qt,"STAT_EVENT: detected no buffering proxy")})),$a.c_=!0}}zo(e,n,s,o,u){const f=bm();return new Promise(((y,g)=>{const _=new kT;_.setWithCredentials(!0),_.listenOnce(OT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Yc.NO_ERROR:const R=_.getResponseJson();he(Qt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(R)),y(R);break;case Yc.TIMEOUT:he(Qt,`RPC '${e}' ${f} timed out`),g(new oe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const D=_.getStatus();if(he(Qt,`RPC '${e}' ${f} failed with status:`,D,"response text:",_.getResponseText()),D>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const Y=B?.error;if(Y&&Y.status&&Y.message){const X=(function(ie){const ue=ie.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ue)>=0?ue:Z.UNKNOWN})(Y.status);g(new oe(X,Y.message))}else g(new oe(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new oe(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{he(Qt,`RPC '${e}' ${f} completed.`)}}));const S=JSON.stringify(o);he(Qt,`RPC '${e}' ${f} sending request:`,o),_.send(n,"POST",S,s,15)}))}T_(e,n,s){const o=bm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const _=u.join("");he(Qt,`Creating RPC '${e}' stream ${o}: ${_}`,y);const S=f.createWebChannel(_,y);this.I_(S);let R=!1,D=!1;const B=new pI({Ho:Y=>{D?he(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(R||(he(Qt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),he(Qt,`RPC '${e}' stream ${o} sending:`,Y),S.send(Y))},Jo:()=>S.close()});return To(S,Ro.EventType.OPEN,(()=>{D||(he(Qt,`RPC '${e}' stream ${o} transport opened.`),B.i_())})),To(S,Ro.EventType.CLOSE,(()=>{D||(D=!0,he(Qt,`RPC '${e}' stream ${o} transport closed`),B.o_(),this.E_(S))})),To(S,Ro.EventType.ERROR,(Y=>{D||(D=!0,Hs(Qt,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),B.o_(new oe(Z.UNAVAILABLE,"The operation could not be completed")))})),To(S,Ro.EventType.MESSAGE,(Y=>{if(!D){const X=Y.data[0];Ke(!!X,16349);const W=X,ie=W?.error||W[0]?.error;if(ie){he(Qt,`RPC '${e}' stream ${o} received error:`,ie);const ue=ie.status;let G=(function(ae){const w=Ct[ae];if(w!==void 0)return g0(w)})(ue),le=ie.message;ue==="NOT_FOUND"&&le.includes("database")&&le.includes("does not exist")&&le.includes(this.databaseId.database)&&Hs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),G===void 0&&(G=Z.INTERNAL,le="Unknown error status: "+ue+" with message "+ie.message),D=!0,B.o_(new oe(G,le)),S.close()}else he(Qt,`RPC '${e}' stream ${o} received:`,X),B.__(X)}})),$a.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return jT()}}function gI(r){return new $a(r)}function em(){return typeof document<"u"?document:null}function Dh(r){return new EN(r,!0)}$a.c_=!1;class D0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const hE="PersistentStream";class k0{constructor(e,n,s,o,u,f,y,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new D0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(hE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(he(hE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yI extends k0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=AN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?Ni(f.readTime):we.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Sm(this.serializer),n.addTarget=(function(u,f){let y;const g=f.target;if(y=gm(g)?{documents:RN(u,g)}:{query:CN(u,g).ft},y.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){y.resumeToken=v0(u,f.resumeToken);const _=vm(u,f.expectedCount);_!==null&&(y.expectedCount=_)}else if(f.snapshotVersion.compareTo(we.min())>0){y.readTime=hh(u,f.snapshotVersion.toTimestamp());const _=vm(u,f.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=IN(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Sm(this.serializer),n.removeTarget=e,this.K_(n)}}class _I extends k0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wN(e.writeResults,e.commitTime),s=Ni(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Sm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>bN(this.serializer,s)))};this.K_(n)}}class vI{}class EI extends vI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Em(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(Z.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,y])=>this.connection.jo(e,Em(n,s),o,f,y,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function TI(r,e,n,s){return new EI(r,e,n,s)}class SI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Gs="RemoteStore";class AI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{$s(this)&&(he(Gs,"Restarting streams for network reachability change."),await(async function(g){const _=Ce(g);_.Ea.add(4),await iu(_),_.Va.set("Unknown"),_.Ea.delete(4),await kh(_)})(this))}))})),this.Va=new SI(s,o)}}async function kh(r){if($s(r))for(const e of r.Ra)await e(!0)}async function iu(r){for(const e of r.Ra)await e(!1)}function O0(r,e){const n=Ce(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),lp(n)?ap(n):fl(n).O_()&&sp(n,e))}function rp(r,e){const n=Ce(r),s=fl(n);n.Ia.delete(e),s.O_()&&M0(n,e),n.Ia.size===0&&(s.O_()?s.L_():$s(n)&&n.Va.set("Unknown"))}function sp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(r).Z_(e)}function M0(r,e){r.da.$e(e),fl(r).X_(e)}function ap(r){r.da=new gN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),fl(r).start(),r.Va.ua()}function lp(r){return $s(r)&&!fl(r).x_()&&r.Ia.size>0}function $s(r){return Ce(r).Ea.size===0}function V0(r){r.da=void 0}async function bI(r){r.Va.set("Online")}async function wI(r){r.Ia.forEach(((e,n)=>{sp(r,e)}))}async function RI(r,e){V0(r),lp(r)?(r.Va.ha(e),ap(r)):r.Va.set("Unknown")}async function CI(r,e,n){if(r.Va.set("Online"),e instanceof _0&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const y of u.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,f),o.Ia.delete(y),o.da.removeTarget(y))})(r,e)}catch(s){he(Gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await dh(r,s)}else if(e instanceof $c?r.da.Xe(e):e instanceof y0?r.da.st(e):r.da.tt(e),!n.isEqual(we.min()))try{const s=await x0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const y=u.da.Tt(f);return y.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const S=u.Ia.get(_);S&&u.Ia.set(_,S.withResumeToken(g.resumeToken,f))}})),y.targetMismatches.forEach(((g,_)=>{const S=u.Ia.get(g);if(!S)return;u.Ia.set(g,S.withResumeToken(Yt.EMPTY_BYTE_STRING,S.snapshotVersion)),M0(u,g);const R=new qr(S.target,g,_,S.sequenceNumber);sp(u,R)})),u.remoteSyncer.applyRemoteEvent(y)})(r,n)}catch(s){he(Gs,"Failed to raise snapshot:",s),await dh(r,s)}}async function dh(r,e,n){if(!cl(e))throw e;r.Ea.add(1),await iu(r),r.Va.set("Offline"),n||(n=()=>x0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(Gs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await kh(r)}))}function j0(r,e){return e().catch((n=>dh(r,n,e)))}async function Oh(r){const e=Ce(r),n=Wr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gm;for(;NI(e);)try{const o=await oI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,II(e,o)}catch(o){await dh(e,o)}L0(e)&&P0(e)}function NI(r){return $s(r)&&r.Ta.length<10}function II(r,e){r.Ta.push(e);const n=Wr(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function L0(r){return $s(r)&&!Wr(r).x_()&&r.Ta.length>0}function P0(r){Wr(r).start()}async function xI(r){Wr(r).ra()}async function DI(r){const e=Wr(r);for(const n of r.Ta)e.ea(n.mutations)}async function kI(r,e,n){const s=r.Ta.shift(),o=Jm.from(s,e,n);await j0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Oh(r)}async function OI(r,e){e&&Wr(r).Y_&&await(async function(s,o){if((function(f){return dN(f)&&f!==Z.ABORTED})(o.code)){const u=s.Ta.shift();Wr(s).B_(),await j0(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Oh(s)}})(r,e),L0(r)&&P0(r)}async function fE(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),he(Gs,"RemoteStore received new credentials");const s=$s(n);n.Ea.add(3),await iu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kh(n)}async function MI(r,e){const n=Ce(r);e?(n.Ea.delete(2),await kh(n)):e||(n.Ea.add(2),await iu(n),n.Va.set("Unknown"))}function fl(r){return r.ma||(r.ma=(function(n,s,o){const u=Ce(n);return u.sa(),new yI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:bI.bind(null,r),Yo:wI.bind(null,r),t_:RI.bind(null,r),J_:CI.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),lp(r)?ap(r):r.Va.set("Unknown")):(await r.ma.stop(),V0(r))}))),r.ma}function Wr(r){return r.fa||(r.fa=(function(n,s,o){const u=Ce(n);return u.sa(),new _I(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:xI.bind(null,r),t_:OI.bind(null,r),ta:DI.bind(null,r),na:kI.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Oh(r)):(await r.fa.stop(),r.Ta.length>0&&(he(Gs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class op{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,y=new op(e,n,f,o,u);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(r,e){if(tr("AsyncQueue",`${e}: ${r}`),cl(r))return new oe(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class Ja{static emptySet(e){return new Ja(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Co(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ja;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class dE{constructor(){this.ga=new ut(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class rl{constructor(e,n,s,o,u,f,y,g,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((y=>{f.push({type:0,doc:y})})),new rl(e,n,Ja.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class VI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class jI{constructor(){this.queries=mE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=mE(),u.forEach(((f,y)=>{for(const g of y.ba)g.onError(s)}))})(this,new oe(Z.ABORTED,"Firestore shutting down"))}}function mE(){return new Qs((r=>r0(r)),Rh)}async function U0(r,e){const n=Ce(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new VI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const y=up(f,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(y)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&cp(n)}async function z0(r,e){const n=Ce(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function LI(r,e){const n=Ce(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const y of f.ba)y.Fa(o)&&(s=!0);f.wa=o}}s&&cp(n)}function PI(r,e,n){const s=Ce(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function cp(r){r.Ca.forEach((e=>{e.next()}))}var wm,pE;(pE=wm||(wm={})).Ma="default",pE.Cache="cache";class B0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new rl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wm.Cache}}class q0{constructor(e){this.key=e}}class H0{constructor(e){this.key=e}}class UI{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.eu=s0(e),this.tu=new Ja(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new dE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,y=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,R)=>{const D=o.get(S),B=Ch(this.query,R)?R:null,Y=!!D&&this.mutatedKeys.has(D.key),X=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let W=!1;D&&B?D.data.isEqual(B.data)?Y!==X&&(s.track({type:3,doc:B}),W=!0):this.su(D,B)||(s.track({type:2,doc:B}),W=!0,(g&&this.eu(B,g)>0||_&&this.eu(B,_)<0)&&(y=!0)):!D&&B?(s.track({type:0,doc:B}),W=!0):D&&!B&&(s.track({type:1,doc:D}),W=!0,(g||_)&&(y=!0)),W&&(B?(f=f.add(B),u=X?u.add(S):u.delete(S)):(f=f.delete(S),u=u.delete(S)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const S=this.query.limitType==="F"?f.last():f.first();f=f.delete(S.key),u=u.delete(S.key),s.track({type:1,doc:S})}return{tu:f,iu:s,Ss:y,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((S,R)=>(function(B,Y){const X=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:W})}};return X(B)-X(Y)})(S.type,R.type)||this.eu(S.doc,R.doc))),this.ou(s),o=o??!1;const y=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,_=g!==this.Xa;return this.Xa=g,f.length!==0||_?{snapshot:new rl(this.query,e.tu,u,f,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new H0(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new q0(s))})),n}cu(e){this.Za=e.ks,this.Ya=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const hp="SyncEngine";class zI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class BI{constructor(e){this.key=e,this.hu=!1}}class qI{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Qs((y=>r0(y)),Rh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(ye.comparator),this.Au=new Map,this.Vu=new ep,this.du={},this.mu=new Map,this.fu=il.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HI(r,e,n=!0){const s=X0(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await G0(s,e,n,!0),o}async function GI(r,e){const n=X0(r);await G0(n,e,!0,!1)}async function G0(r,e,n,s){const o=await uI(r.localStore,Ci(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let y;return s&&(y=await FI(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&O0(r.remoteStore,o),y}async function FI(r,e,n,s,o){r.pu=(R,D,B)=>(async function(X,W,ie,ue){let G=W.view.ru(ie);G.Ss&&(G=await lE(X.localStore,W.query,!1).then((({documents:w})=>W.view.ru(w,G))));const le=ue&&ue.targetChanges.get(W.targetId),Te=ue&&ue.targetMismatches.get(W.targetId)!=null,ae=W.view.applyChanges(G,X.isPrimaryClient,le,Te);return yE(X,W.targetId,ae.au),ae.snapshot})(r,R,D,B);const u=await lE(r.localStore,e,!0),f=new UI(e,u.ks),y=f.ru(u.documents),g=nu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(y,r.isPrimaryClient,g);yE(r,n,_.au);const S=new zI(e,n,f);return r.Tu.set(e,S),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),_.snapshot}async function YI(r,e,n){const s=Ce(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Rh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Am(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&rp(s.remoteStore,o.targetId),Rm(s,o.targetId)})).catch(ul)):(Rm(s,o.targetId),await Am(s.localStore,o.targetId,!0))}async function KI(r,e){const n=Ce(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),rp(n.remoteStore,s.targetId))}async function QI(r,e,n){const s=t2(r);try{const o=await(function(f,y){const g=Ce(f),_=st.now(),S=y.reduce(((B,Y)=>B.add(Y.key)),Pe());let R,D;return g.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let Y=nr(),X=Pe();return g.xs.getEntries(B,S).next((W=>{Y=W,Y.forEach(((ie,ue)=>{ue.isValidDocument()||(X=X.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(B,Y))).next((W=>{R=W;const ie=[];for(const ue of y){const G=oN(ue,R.get(ue.key).overlayedDocument);G!=null&&ie.push(new Xs(ue.key,G,$T(G.value.mapValue),$n.exists(!0)))}return g.mutationQueue.addMutationBatch(B,_,ie,y)})).next((W=>{D=W;const ie=W.applyToLocalDocumentSet(R,X);return g.documentOverlayCache.saveOverlays(B,W.batchId,ie)}))})).then((()=>({batchId:D.batchId,changes:l0(R)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,y,g){let _=f.du[f.currentUser.toKey()];_||(_=new ut(Le)),_=_.insert(y,g),f.du[f.currentUser.toKey()]=_})(s,o.batchId,n),await ru(s,o.changes),await Oh(s.remoteStore)}catch(o){const u=up(o,"Failed to persist write");n.reject(u)}}async function F0(r,e){const n=Ce(r);try{const s=await aI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ke(f.hu,14607):o.removedDocuments.size>0&&(Ke(f.hu,42227),f.hu=!1))})),await ru(n,s,e)}catch(s){await ul(s)}}function gE(r,e,n){const s=Ce(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const y=f.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(f,y){const g=Ce(f);g.onlineState=y;let _=!1;g.queries.forEach(((S,R)=>{for(const D of R.ba)D.va(y)&&(_=!0)})),_&&cp(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function XI(r,e,n){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(ye.comparator);f=f.insert(u,$t.newNoDocument(u,we.min()));const y=Pe().add(u),g=new xh(we.min(),new Map,new ut(Le),f,y);await F0(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),fp(s)}else await Am(s.localStore,e,!1).then((()=>Rm(s,e,n))).catch(ul)}async function $I(r,e){const n=Ce(r),s=e.batch.batchId;try{const o=await sI(n.localStore,e);K0(n,s,null),Y0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ru(n,o)}catch(o){await ul(o)}}async function JI(r,e,n){const s=Ce(r);try{const o=await(function(f,y){const g=Ce(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return g.mutationQueue.lookupMutationBatch(_,y).next((R=>(Ke(R!==null,37113),S=R.keys(),g.mutationQueue.removeMutationBatch(_,R)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>g.localDocuments.getDocuments(_,S)))}))})(s.localStore,e);K0(s,e,n),Y0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ru(s,o)}catch(o){await ul(o)}}function Y0(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function K0(r,e,n){const s=Ce(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Rm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||Q0(r,s)}))}function Q0(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(rp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),fp(r))}function yE(r,e,n){for(const s of n)s instanceof q0?(r.Vu.addReference(s.key,e),ZI(r,s)):s instanceof H0?(he(hp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||Q0(r,s.key)):Ee(19791,{wu:s})}function ZI(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(he(hp,"New document in limbo: "+n),r.Eu.add(s),fp(r))}function fp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new BI(n)),r.Ru=r.Ru.insert(n,s),O0(r.remoteStore,new qr(Ci(wh(n.path)),s,"TargetPurposeLimboResolution",Sh.ce))}}async function ru(r,e,n){const s=Ce(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,g)=>{f.push(s.pu(g,e,n).then((_=>{if((_||n)&&s.isPrimaryClient){const S=_?!_.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(_){o.push(_);const S=np.Es(g.targetId,_);u.push(S)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(g,_){const S=Ce(g);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>ee.forEach(_,(D=>ee.forEach(D.Ts,(B=>S.persistence.referenceDelegate.addReference(R,D.targetId,B))).next((()=>ee.forEach(D.Is,(B=>S.persistence.referenceDelegate.removeReference(R,D.targetId,B)))))))))}catch(R){if(!cl(R))throw R;he(ip,"Failed to update sequence numbers: "+R)}for(const R of _){const D=R.targetId;if(!R.fromCache){const B=S.vs.get(D),Y=B.snapshotVersion,X=B.withLastLimboFreeSnapshotVersion(Y);S.vs=S.vs.insert(D,X)}}})(s.localStore,u))}async function WI(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){he(hp,"User change. New user:",e.toKey());const s=await I0(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((y=>{y.forEach((g=>{g.reject(new oe(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ru(n,s.Ns)}}function e2(r,e){const n=Ce(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const y=n.Tu.get(f);o=o.unionWith(y.view.nu)}return o}}function X0(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=F0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XI.bind(null,e),e.Pu.J_=LI.bind(null,e.eventManager),e.Pu.yu=PI.bind(null,e.eventManager),e}function t2(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$I.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JI.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return rI(this.persistence,new tI,e.initialUser,this.serializer)}Cu(e){return new N0(tp.Vi,this.serializer)}Du(e){return new hI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class n2 extends mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new zN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new N0((s=>fh.Vi(s,n)),this.serializer)}}class Cm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WI.bind(null,this.syncEngine),await MI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jI})()}createDatastore(e){const n=Dh(e.databaseInfo.databaseId),s=gI(e.databaseInfo);return TI(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,y){return new AI(s,o,u,f,y)})(this.localStore,this.datastore,e.asyncQueue,(n=>gE(this.syncEngine,n,0)),(function(){return cE.v()?new cE:new fI})())}createSyncEngine(e,n){return(function(o,u,f,y,g,_,S){const R=new qI(o,u,f,y,g,_);return S&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);he(Gs,"RemoteStore shutting down."),s.Ea.add(5),await iu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class $0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const es="FirestoreClient";class i2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=Hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{he(es,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(he(es,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=up(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function tm(r,e){r.asyncQueue.verifyOperationInProgress(),he(es,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await I0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function _E(r,e){r.asyncQueue.verifyOperationInProgress();const n=await r2(r);he(es,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>fE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>fE(e.remoteStore,o))),r._onlineComponents=e}async function r2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(es,"Using user provided OfflineComponentProvider");try{await tm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Hs("Error using user provided cache. Falling back to memory cache: "+n),await tm(r,new mh)}}else he(es,"Using default OfflineComponentProvider"),await tm(r,new n2(void 0));return r._offlineComponents}async function J0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(es,"Using user provided OnlineComponentProvider"),await _E(r,r._uninitializedComponentsProvider._online)):(he(es,"Using default OnlineComponentProvider"),await _E(r,new Cm))),r._onlineComponents}function s2(r){return J0(r).then((e=>e.syncEngine))}async function Nm(r){const e=await J0(r),n=e.eventManager;return n.onListen=HI.bind(null,e.syncEngine),n.onUnlisten=YI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KI.bind(null,e.syncEngine),n}function a2(r,e,n,s){const o=new $0(s),u=new B0(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>U0(await Nm(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>z0(await Nm(r),u)))}}function l2(r,e,n={}){const s=new Kr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,y,g,_){const S=new $0({next:D=>{S.Nu(),f.enqueueAndForget((()=>z0(u,R)));const B=D.docs.has(y);!B&&D.fromCache?_.reject(new oe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&D.fromCache&&g&&g.source==="server"?_.reject(new oe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),R=new B0(wh(y.path),S,{includeMetadataChanges:!0,Ka:!0});return U0(u,R)})(await Nm(r),r.asyncQueue,e,n,s))),s.promise}function o2(r,e){const n=new Kr;return r.asyncQueue.enqueueAndForget((async()=>QI(await s2(r),e,n))),n.promise}function Z0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const u2="ComponentProvider",vE=new Map;function c2(r,e,n,s,o){return new IC(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Z0(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const W0="firestore.googleapis.com",EE=!0;class TE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=W0,this.ssl=EE}else this.host=e.host,this.ssl=e.ssl??EE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=C0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PN)throw new oe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_C("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new oC;switch(s.type){case"firstParty":return new fC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=vE.get(n);s&&(he(u2,"Removing Datastore"),vE.delete(n),s.terminate())})(this),Promise.resolve()}}function h2(r,e,n,s={}){r=Ri(r,Mh);const o=sl(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${n}`;o&&(HE(`https://${y}`),GE("Firestore",!0)),u.host!==W0&&u.host!==y&&Hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:y,ssl:o,emulatorOptions:s};if(!Ps(g,f)&&(r._setSettings(g),s.mockUserToken)){let _,S;if(typeof s.mockUserToken=="string")_=s.mockUserToken,S=Xt.MOCK_USER;else{_=yb(s.mockUserToken,r._app?.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new oe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Xt(R)}r._authCredentials=new uC(new PT(_,S))}}class Js{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Js(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(eu(n,yt._jsonSchema))return new yt(e,s||null,new ye(nt.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:It("string",yt._jsonSchemaVersion),referencePath:It("string")};class Qr extends Js{constructor(e,n,s){super(e,n,wh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ye(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function eS(r,e,...n){if(r=Zt(r),UT("collection","path",e),r instanceof Mh){const s=nt.fromString(e,...n);return Mv(s),new Qr(r,null,s)}{if(!(r instanceof yt||r instanceof Qr))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return Mv(s),new Qr(r.firestore,null,s)}}function su(r,e,...n){if(r=Zt(r),arguments.length===1&&(e=Hm.newId()),UT("doc","path",e),r instanceof Mh){const s=nt.fromString(e,...n);return Ov(s),new yt(r,null,new ye(s))}{if(!(r instanceof yt||r instanceof Qr))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return Ov(s),new yt(r.firestore,r instanceof Qr?r.converter:null,new ye(s))}}const SE="AsyncQueue";class AE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new D0(this,"async_queue_retry"),this._c=()=>{const s=em();s&&he(SE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!cl(e))throw e;he(SE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,tr("INTERNAL UNHANDLED ERROR: ",bE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=op.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:bE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Fs extends Mh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new AE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AE(e),this._firestoreClient=void 0,await e}}}function f2(r,e){const n=typeof r=="object"?r:QE(),s=typeof r=="string"?r:lh,o=Om(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=pb("firestore");u&&h2(o,...u)}return o}function dp(r){if(r._terminated)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||d2(r),r._firestoreClient}function d2(r){const e=r._freezeSettings(),n=c2(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new i2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Yt.fromBase64String(e))}catch(n){throw new oe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:It("string",Vn._jsonSchemaVersion),bytes:It("string")};class tS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mp{constructor(e){this._methodName=e}}class Ii{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(e){if(eu(e,Ii._jsonSchema))return new Ii(e.latitude,e.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:It("string",Ii._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};class Jn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,Jn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Jn(e.vectorValues);throw new oe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jn._jsonSchemaVersion="firestore/vectorValue/1.0",Jn._jsonSchema={type:It("string",Jn._jsonSchemaVersion),vectorValues:It("object")};const m2=/^__.*__$/;class p2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new tu(e,this.data,n,this.fieldTransforms)}}function nS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:r})}}class pp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new pp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ph(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(nS(this.dataSource)&&m2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class g2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Dh(e)}createContext(e,n,s,o=!1){return new pp({dataSource:e,methodName:n,targetDoc:s,path:Ft.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gp(r){const e=r._freezeSettings(),n=Dh(r._databaseId);return new g2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function iS(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);aS("Data must be an object, but it was:",f,s);const y=rS(s,f);let g,_;if(u.merge)g=new Xn(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const S=[];for(const R of u.mergeFields){const D=Vh(e,R,n);if(!f.contains(D))throw new oe(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);E2(S,D)||S.push(D)}g=new Xn(S),_=f.fieldTransforms.filter((R=>g.covers(R.field)))}else g=null,_=f.fieldTransforms;return new p2(new Mn(y),g,_)}class yp extends mp{_toFieldTransform(e){return new rN(e.path,new Fo)}isEqual(e){return e instanceof yp}}function y2(r,e,n,s=!1){return _p(n,r.createContext(s?4:3,e))}function _p(r,e){if(sS(r=Zt(r)))return aS("Unsupported field value:",e,r),rS(r,e);if(r instanceof mp)return(function(s,o){if(!nS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const y of s){let g=_p(y,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return tN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:hh(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hh(o.serializer,u)}}if(s instanceof Ii)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:v0(o.serializer,s._byteString)};if(s instanceof yt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Wm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Jn)return(function(f,y){const g=f instanceof Jn?f.toArray():f;return{mapValue:{fields:{[QT]:{stringValue:XT},[oh]:{arrayValue:{values:g.map((S=>{if(typeof S!="number")throw y.createError("VectorValues must only contain numeric values.");return Xm(y.serializer,S)}))}}}}}})(s,o);if(R0(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Th(s)}`)})(r,e)}function rS(r,e){const n={};return qT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(r,((s,o)=>{const u=_p(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function sS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof st||r instanceof Ii||r instanceof Vn||r instanceof yt||r instanceof mp||r instanceof Jn||R0(r))}function aS(r,e,n){if(!sS(n)||!zT(n)){const s=Th(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Vh(r,e,n){if((e=Zt(e))instanceof tS)return e._internalPath;if(typeof e=="string")return v2(r,e);throw ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const _2=new RegExp("[~\\*/\\[\\]]");function v2(r,e,n){if(e.search(_2)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new tS(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ph(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let y=`Function ${e}() called with invalid data`;n&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new oe(Z.INVALID_ARGUMENT,y+r+g)}function E2(r,e){return r.some((n=>n.isEqual(e)))}class T2{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ks(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[oh].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new Jn(n)}convertGeoPoint(e){return new Ii(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=bh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Bo(e));default:return null}}convertTimestamp(e){const n=$r(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ke(w0(s),9688,{name:e});const o=new qo(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class lS extends T2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function S2(){return new yp("serverTimestamp")}const wE="@firebase/firestore",RE="4.11.0";function CE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class oS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new A2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Vh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class A2 extends oS{data(){return super.data()}}function b2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vp{}class uS extends vp{}function w2(r,e,...n){let s=[];e instanceof vp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Tp)).length,y=u.filter((g=>g instanceof Ep)).length;if(f>1||f>0&&y>0)throw new oe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Ep extends uS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ep(e,n,s)}_apply(e){const n=this._parse(e);return cS(e._query,n),new Js(e.firestore,e.converter,ym(e._query,n))}_parse(e){const n=gp(e.firestore);return(function(u,f,y,g,_,S,R){let D;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){IE(R,S);const Y=[];for(const X of R)Y.push(NE(g,u,X));D={arrayValue:{values:Y}}}else D=NE(g,u,R)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||IE(R,S),D=y2(y,f,R,S==="in"||S==="not-in");return Nt.create(_,S,D)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Tp extends vp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Tp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ei.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const y=u.getFlattenedFilters();for(const g of y)cS(f,g),f=ym(f,g)})(e._query,n),new Js(e.firestore,e.converter,ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sp extends uS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Go(u,f)})(e._query,this._field,this._direction);return new Js(e.firestore,e.converter,KC(e._query,n))}}function R2(r,e="asc"){const n=e,s=Vh("orderBy",r);return Sp._create(s,n)}function NE(r,e,n){if(typeof(n=Zt(n))=="string"){if(n==="")throw new oe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!i0(e)&&n.indexOf("/")!==-1)throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!ye.isDocumentKey(s))throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return qv(r,new ye(s))}if(n instanceof yt)return qv(r,n._key);throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(n)}.`)}function IE(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cS(r,e){const n=(function(o,u){for(const f of o)for(const y of f.getFlattenedFilters())if(u.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function hS(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Io{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ls extends oS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Vh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ls._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ls._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ls._jsonSchema={type:It("string",Ls._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class Jc extends Ls{data(e={}){return super.data(e)}}class Za{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Io(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Jc(this._firestore,this._userDataWriter,s.key,s,new Io(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((y=>{const g=new Jc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Io(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>u||y.type!==3)).map((y=>{const g=new Jc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Io(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return y.type!==0&&(_=f.indexOf(y.doc.key),f=f.delete(y.doc.key)),y.type!==1&&(f=f.add(y.doc),S=f.indexOf(y.doc.key)),{type:C2(y.type),doc:g,oldIndex:_,newIndex:S}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function C2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:It("string",Za._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};function fS(r){r=Ri(r,yt);const e=Ri(r.firestore,Fs),n=dp(e);return l2(n,r._key).then((s=>mS(e,r,s)))}function dS(r,e,n){r=Ri(r,yt);const s=Ri(r.firestore,Fs),o=hS(r.converter,e),u=gp(s);return Ap(s,[iS(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,$n.none())])}function N2(r){return Ap(Ri(r.firestore,Fs),[new $m(r._key,$n.none())])}function I2(r,e){const n=Ri(r.firestore,Fs),s=su(r),o=hS(r.converter,e),u=gp(r.firestore);return Ap(n,[iS(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,$n.exists(!1))]).then((()=>s))}function x2(r,...e){r=Zt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||CE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(CE(e[s])){const _=e[s];e[s]=_.next?.bind(_),e[s+1]=_.error?.bind(_),e[s+2]=_.complete?.bind(_)}let u,f,y;if(r instanceof yt)f=Ri(r.firestore,Fs),y=wh(r._key.path),u={next:_=>{e[s]&&e[s](mS(f,r,_))},error:e[s+1],complete:e[s+2]};else{const _=Ri(r,Js);f=Ri(_.firestore,Fs),y=_._query;const S=new lS(f);u={next:R=>{e[s]&&e[s](new Za(f,S,_,R))},error:e[s+1],complete:e[s+2]},b2(r._query)}const g=dp(f);return a2(g,y,o,u)}function Ap(r,e){const n=dp(r);return o2(n,e)}function mS(r,e,n){const s=n.docs.get(e._key),o=new lS(r);return new Ls(r,o,e._key,s,new Io(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){lC(al),Wa(new Us("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),y=new Fs(new cC(s.getProvider("auth-internal")),new dC(f,s.getProvider("app-check-internal")),xC(f,o),f);return u={useFetchStreams:n,...u},y._setSettings(u),y}),"PUBLIC").setMultipleInstances(!0)),Fr(wE,RE,e),Fr(wE,RE,"esm2020")})();const D2={apiKey:"AIzaSyD2Qhwi5OEgRsUNviWk8P2e7ySJqhc0kZw",authDomain:"guitar-68cef.firebaseapp.com",projectId:"guitar-68cef",storageBucket:"guitar-68cef.firebasestorage.app",messagingSenderId:"683415808555",appId:"1:683415808555:web:c7d13922458e75a306586e"},pS=KE(D2),gh=sC(pS),dl=f2(pS);function k2({onLogin:r,onClose:e}){const[n,s]=ne.useState(""),[o,u]=ne.useState(""),[f,y]=ne.useState(!1),[g,_]=ne.useState(""),[S,R]=ne.useState(!1),[D,B]=ne.useState(!1);ne.useEffect(()=>{B(!0)},[]);const[Y,X]=ne.useState(0),W=()=>{const ae=Y+1;X(ae),ae>=3&&r("Ynetici",!0)},ie=ae=>`${ae.toLowerCase().replace(/[^a-z0-9._-]/g,"")}@strumflow.app`,ue=ae=>{switch(ae){case"auth/email-already-in-use":return"Bu kullanici adi zaten alinmis.";case"auth/invalid-credential":case"auth/wrong-password":return"Yanlis sifre.";case"auth/user-not-found":return"Kullanici bulunamadi.";case"auth/weak-password":return"Sifre en az 6 karakter olmali.";case"auth/invalid-email":return"Gecersiz kullanici adi. Sadece harf, rakam, nokta ve tire kullanin.";case"auth/too-many-requests":return"Cok fazla deneme. Biraz bekleyin.";default:return"Bir hata olustu. Tekrar deneyin."}},G=async ae=>{if(ae.preventDefault(),!n.trim()||!o.trim())return;_(""),R(!0);const w=ie(n.trim());try{f?await Hw(gh,w,o):await Gw(gh,w,o)}catch(b){_(ue(b.code))}finally{R(!1)}},le=()=>{B(!1),setTimeout(e,300)},Te=n.trim()&&o.trim()&&!S;return p.jsx("div",{className:`login-modal-overlay ${D?"visible":""}`,onClick:le,children:p.jsxs("div",{className:`login-modal-content ${D?"visible":""}`,onClick:ae=>ae.stopPropagation(),children:[p.jsx("div",{className:"login-strings",children:[0,1,2,3,4,5].map(ae=>p.jsx("div",{className:"login-string",style:{"--ls-i":ae}},ae))}),p.jsx("button",{className:"modal-close",onClick:le,children:""}),p.jsxs("div",{className:"login-container",children:[p.jsxs("div",{className:"login-header",children:[p.jsx("div",{className:"logo-large",onClick:W,style:{cursor:"pointer"},children:"StrumFlow Lab"}),p.jsxs("div",{className:"login-label",children:[p.jsx("span",{className:"label-wire"}),p.jsx("span",{children:"Gitar Toplulugu"}),p.jsx("span",{className:"label-wire"})]})]}),p.jsxs("form",{className:"login-form",onSubmit:G,children:[p.jsx("h2",{children:f?"Kayit Ol":"Hos Geldin"}),p.jsx("p",{className:"form-description",children:f?"Topluluga katilmak icin bilgilerini gir":"Hesabina giris yap"}),g&&p.jsx("div",{className:"login-error",children:g}),p.jsxs("div",{className:"input-wrapper",children:[p.jsx("input",{type:"text",className:"login-input",placeholder:"Kullanici adi...",value:n,onChange:ae=>{s(ae.target.value),_("")},autoFocus:!0,autoComplete:"username"}),p.jsx("div",{className:"input-line"})]}),p.jsxs("div",{className:"input-wrapper",children:[p.jsx("input",{type:"password",className:"login-input",placeholder:"Sifre...",value:o,onChange:ae=>{u(ae.target.value),_("")},autoComplete:f?"new-password":"current-password"}),p.jsx("div",{className:"input-line"})]}),p.jsx("button",{type:"submit",className:"login-button",disabled:!Te,children:S?p.jsx("span",{className:"btn-text",children:"Yukleniyor..."}):p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"btn-text",children:f?"Kayit Ol":"Giris Yap"}),p.jsx("span",{className:"btn-icon",children:""})]})}),p.jsx("button",{type:"button",className:"login-mode-toggle",onClick:()=>{y(!f),_("")},children:f?"Zaten hesabin var mi? Giris Yap":"Hesabin yok mu? Kayit Ol"})]}),p.jsx("div",{className:"login-features",children:[{label:"Teknik Makaleler",accent:"var(--accent-amber)"},{label:"Ritim Kutuphanesi",accent:"var(--accent-sage)"},{label:"Gelismis Metronom",accent:"var(--accent-rose)"}].map((ae,w)=>p.jsxs("div",{className:"feature-item",style:{"--feature-delay":`${.5+w*.1}s`,"--feature-accent":ae.accent},children:[p.jsx("span",{className:"feature-dot"}),p.jsx("span",{children:ae.label})]},w))}),p.jsx("div",{className:"login-quote",children:p.jsx("p",{children:'"Muzik, kelimelerin bittigi yerde baslar."'})})]})]})})}const xE=[{text:"Muzik, kelimelerin bittigi yerde baslar.",author:"Hans Christian Andersen"},{text:"Gitar benim icin ikinci bir ses gibi.",author:"B.B. King"},{text:"Her gun pratik yap, bir gun ustalasirsin.",author:"Jimi Hendrix"},{text:"Muzik evrensel bir dildir.",author:"Henry Wadsworth Longfellow"},{text:"Bir gitar tum bir orkestranin yerine gecer.",author:"Beethoven"},{text:"Basit cal ama kalpten cal.",author:"Eric Clapton"},{text:"Muzik ruhun gidasidir.",author:"Platon"},{text:"Hata yapmaktan korkma, calmaktan korkma.",author:"Miles Davis"}],O2=[{type:"note",top:"10%",left:"6%",size:30,dur:7,del:0},{type:"pick",top:"18%",right:"7%",size:24,dur:5.5,del:1.2},{type:"note2",top:"45%",left:"4%",size:22,dur:6.5,del:.8},{type:"pick",top:"58%",right:"5%",size:28,dur:8,del:2},{type:"note",top:"75%",left:"8%",size:20,dur:6,del:1.5},{type:"note2",top:"82%",right:"6%",size:26,dur:7.5,del:.5}];function M2(){return p.jsx("div",{className:"floating-particles",children:O2.map((r,e)=>p.jsxs("div",{className:"floating-particle",style:{top:r.top,left:r.left,right:r.right,"--f-size":`${r.size}px`,"--f-dur":`${r.dur}s`,"--f-del":`${r.del}s`},children:[r.type==="note"&&p.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{color:"var(--accent-amber)"},children:p.jsx("path",{d:"M12 3v10.55A4 4 0 1014 17V7h4V3h-6z"})}),r.type==="note2"&&p.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{color:"var(--accent-sage)"},children:p.jsx("path",{d:"M12 3v10.55A4 4 0 1014 17V7h4V3h-6z"})}),r.type==="pick"&&p.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{color:"var(--accent-rose)"},children:p.jsx("path",{d:"M12 2C9.5 2 7 4 7 7c0 4 5 13 5 13s5-9 5-13c0-3-2.5-5-5-5z"})})]},e))})}function V2({lines:r}){let e=0;return p.jsx("h1",{className:"home-title",children:r.map((n,s)=>p.jsx("span",{className:"title-line",children:n.split("").map((o,u)=>{const f=.2+e++*.06;return p.jsx("span",{className:"hero-letter",style:{"--letter-delay":`${f}s`},children:o},u)})},s))})}function j2(r,e=1500){const[n,s]=ne.useState(0),o=ne.useRef(null),u=ne.useRef(!1),f=ne.useCallback(()=>{if(u.current)return;u.current=!0;const y=performance.now(),g=_=>{const S=Math.min((_-y)/e,1),R=1-Math.pow(1-S,3);s(Math.round(R*r)),S<1&&requestAnimationFrame(g)};requestAnimationFrame(g)},[r,e]);return ne.useEffect(()=>{const y=o.current;if(!y)return;const g=new IntersectionObserver(([_])=>{_.isIntersecting&&f()},{threshold:.5});return g.observe(y),()=>g.disconnect()},[f]),{count:n,ref:o}}function L2(){return p.jsxs("svg",{viewBox:"0 0 400 320",fill:"none",children:[p.jsx("rect",{x:"60",y:"40",width:"180",height:"100",rx:"16",fill:"var(--accent-amber)",fillOpacity:"0.1",stroke:"var(--accent-amber)",strokeWidth:"1.5",strokeOpacity:"0.3"}),p.jsx("rect",{x:"80",y:"65",width:"100",height:"8",rx:"4",fill:"var(--accent-amber)",fillOpacity:"0.25"}),p.jsx("rect",{x:"80",y:"85",width:"140",height:"8",rx:"4",fill:"var(--accent-amber)",fillOpacity:"0.15"}),p.jsx("rect",{x:"80",y:"105",width:"80",height:"8",rx:"4",fill:"var(--accent-amber)",fillOpacity:"0.2"}),p.jsx("rect",{x:"160",y:"170",width:"180",height:"90",rx:"16",fill:"var(--accent-sage)",fillOpacity:"0.1",stroke:"var(--accent-sage)",strokeWidth:"1.5",strokeOpacity:"0.3"}),p.jsx("rect",{x:"180",y:"195",width:"120",height:"8",rx:"4",fill:"var(--accent-sage)",fillOpacity:"0.25"}),p.jsx("rect",{x:"180",y:"215",width:"90",height:"8",rx:"4",fill:"var(--accent-sage)",fillOpacity:"0.15"}),p.jsx("circle",{cx:"150",cy:"155",r:"4",fill:"var(--accent-amber)",fillOpacity:"0.4"}),p.jsx("circle",{cx:"170",cy:"165",r:"3",fill:"var(--accent-sage)",fillOpacity:"0.4"}),p.jsx("text",{x:"310",y:"60",fontSize:"24",fill:"var(--accent-amber)",fillOpacity:"0.3",fontFamily:"serif",children:""}),p.jsx("text",{x:"350",y:"120",fontSize:"18",fill:"var(--accent-sage)",fillOpacity:"0.2",fontFamily:"serif",children:""})]})}function DE({onNavigate:r}){const[e,n]=ne.useState(!1),[s]=ne.useState(()=>xE[Math.floor(Math.random()*xE.length)]),o=ne.useRef([]),u=ne.useRef(null),f=j2(50,1400);ne.useEffect(()=>{setTimeout(()=>n(!0),80)},[]),ne.useEffect(()=>{const g=new IntersectionObserver(_=>{_.forEach(S=>{S.isIntersecting&&S.target.classList.add("visible")})},{threshold:.12,rootMargin:"0px 0px -30px 0px"});return o.current.forEach(_=>{_&&g.observe(_)}),u.current&&g.observe(u.current),()=>g.disconnect()},[]);const y=g=>{g&&!o.current.includes(g)&&o.current.push(g)};return p.jsxs("section",{className:"home-screen",children:[p.jsx("div",{className:"home-mesh-bg"}),p.jsx(M2,{}),p.jsx("div",{className:"home-strings-bg",children:[0,1,2,3,4,5].map(g=>p.jsx("div",{className:"bg-string",style:{"--s-i":g}},g))}),p.jsxs("div",{className:`home-container ${e?"loaded":""}`,children:[p.jsxs("div",{className:"home-hero",children:[p.jsxs("div",{className:"hero-rings",children:[p.jsx("div",{className:"hero-ring"}),p.jsx("div",{className:"hero-ring"}),p.jsx("div",{className:"hero-ring"})]}),p.jsx("div",{className:"hero-label",children:"Gitar Toplulugu & Ritim Kutuphanesi"}),p.jsx(V2,{lines:["StrumFlow","Lab"]}),p.jsx("p",{className:"home-subtitle",children:"Gitar tekniklerini ogren, ritimlerini paylas, toplulukla birlikte gelis."}),p.jsxs("div",{className:"hero-cta-group",children:[p.jsx("button",{className:"hero-cta hero-cta-primary",onClick:()=>r("library"),children:"Kesfetmeye Basla"}),p.jsx("button",{className:"hero-cta hero-cta-secondary",onClick:()=>r("chords"),children:"Akorlari Gor"})]}),p.jsxs("div",{className:"hero-quote",children:[p.jsxs("p",{className:"quote-text",children:["",s.text,""]}),p.jsxs("span",{className:"quote-author",children:[" ",s.author]})]}),p.jsxs("div",{className:"scroll-indicator",children:[p.jsx("span",{children:"Kesfet"}),p.jsx("div",{className:"scroll-line"})]})]}),p.jsx("div",{className:"features-section",children:p.jsxs("div",{className:"features-grid",children:[p.jsxs("div",{className:"feature-card card-amber card-wide",ref:y,style:{"--slide-from":"-80px","--card-delay":"0s"},onClick:()=>r("education"),children:[p.jsxs("div",{children:[p.jsx("div",{className:"card-icon amber-icon",children:""}),p.jsx("span",{className:"card-tag amber",children:"Topluluk"}),p.jsx("h2",{className:"card-title",children:"Forum"}),p.jsx("p",{className:"card-desc",children:"Kesme, susturma, rasguido ve daha fazlasi... Gitar teknikleri hakkinda makaleler oku, deneyimlerini paylas."}),p.jsxs("ul",{className:"card-features",children:[p.jsx("li",{children:"Teknik makaleler"}),p.jsx("li",{children:"Topluluk tartismalari"}),p.jsx("li",{children:"Deneyim paylasimi"})]}),p.jsxs("button",{className:"card-cta amber",onClick:g=>{g.stopPropagation(),r("education")},children:["Forumu Kesfet ",p.jsx("span",{className:"card-cta-arrow",children:""})]})]}),p.jsx("div",{className:"card-illust",children:p.jsx(L2,{})})]}),p.jsxs("div",{className:"feature-card card-sage",ref:y,style:{"--slide-from":"-80px","--card-delay":"0.15s"},onClick:()=>r("library"),children:[p.jsx("div",{className:"card-icon sage-icon",children:""}),p.jsx("span",{className:"card-tag sage",children:"Pratik"}),p.jsx("h2",{className:"card-title",children:"Ritimler"}),p.jsx("p",{className:"card-desc",children:"Kendi ritimlerini olustur, akorlarini ekle ve gelismis metronom ile pratik yap."}),p.jsxs("ul",{className:"card-features",children:[p.jsx("li",{children:"Ritim olusturucu"}),p.jsx("li",{children:"Metronom"}),p.jsx("li",{children:"Akor progresyonlari"})]}),p.jsxs("button",{className:"card-cta sage",onClick:g=>{g.stopPropagation(),r("library")},children:["Ritimlere Bak ",p.jsx("span",{className:"card-cta-arrow",children:""})]})]}),p.jsxs("div",{className:"feature-card card-rose",ref:y,style:{"--slide-from":"80px","--card-delay":"0.15s"},onClick:()=>r("chords"),children:[p.jsx("div",{className:"card-icon rose-icon",children:""}),p.jsx("span",{className:"card-tag rose",children:"Ogren"}),p.jsx("h2",{className:"card-title",children:"Akorlar"}),p.jsx("p",{className:"card-desc",children:"Am, E, G ve daha fazlasi... Gorsel akor semalari ile parmak pozisyonlarini ogren."}),p.jsxs("ul",{className:"card-features",children:[p.jsx("li",{children:"Gorsel semalar"}),p.jsx("li",{children:"Seviye filtresi"}),p.jsx("li",{children:"Parmak rehberi"})]}),p.jsxs("button",{className:"card-cta rose",onClick:g=>{g.stopPropagation(),r("chords")},children:["Akorlari Incele ",p.jsx("span",{className:"card-cta-arrow",children:""})]})]})]})}),p.jsxs("div",{className:"stats-strip",ref:u,children:[p.jsxs("div",{className:"stat-item",ref:f.ref,children:[p.jsxs("span",{className:"stat-number amber",children:[f.count,"+"]}),p.jsx("span",{className:"stat-label",children:"Akor"})]}),p.jsx("div",{className:"stat-divider"}),p.jsxs("div",{className:"stat-item",children:[p.jsx("span",{className:"stat-number sage",children:""}),p.jsx("span",{className:"stat-label",children:"Ritim"})]}),p.jsx("div",{className:"stat-divider"}),p.jsxs("div",{className:"stat-item",children:[p.jsx("span",{className:"stat-number rose",children:""}),p.jsx("span",{className:"stat-label",children:"Topluluk"})]})]}),p.jsxs("div",{className:"home-footer",children:[p.jsx("span",{className:"footer-wire"}),p.jsx("span",{className:"footer-text",children:"Muzik bir yolculuktur"}),p.jsx("span",{className:"footer-wire"})]})]})]})}const Zn={RHYTHMS:"strumflow_rhythms",ARTICLES:"strumflow_user_articles",COMMENTS:"strumflow_comments",PROFILE:"strumflow_profile",CHORDS:"strumflow_user_chords"};function jo(){try{const r=localStorage.getItem(Zn.CHORDS);return r?JSON.parse(r):{mastered:[],learning:[]}}catch{return{mastered:[],learning:[]}}}async function P2(r){if(!r)return jo();try{const e=su(dl,"users",r,"data","chords"),n=await fS(e);if(n.exists()){const o=n.data();return localStorage.setItem(Zn.CHORDS,JSON.stringify(o)),o}const s=jo();return(s.mastered.length>0||s.learning.length>0)&&await dS(e,s),s}catch(e){return console.warn("Firestore okunamadi, localStorage kullaniliyor:",e),jo()}}function kE(){return jo()}async function OE(r,e,n){const s=jo();if(s.mastered=s.mastered.filter(o=>o!==e),s.learning=s.learning.filter(o=>o!==e),n==="mastered"?(s.mastered.push(e),Ph(5)):n==="learning"&&s.learning.push(e),localStorage.setItem(Zn.CHORDS,JSON.stringify(s)),window.dispatchEvent(new Event("chordsUpdated")),r)try{const o=su(dl,"users",r,"data","chords");await dS(o,{mastered:s.mastered,learning:s.learning})}catch(o){console.warn("Firestore yazilamadi:",o)}return s}function U2(r){const e=Lh().filter(o=>o.id!==r);localStorage.setItem(Zn.ARTICLES,JSON.stringify(e));const s=JSON.parse(localStorage.getItem(Zn.COMMENTS)||"[]").filter(o=>o.articleId!==r);localStorage.setItem(Zn.COMMENTS,JSON.stringify(s)),window.dispatchEvent(new Event("articleDeleted"))}function z2(r,e){const n=Lh(),s=n.findIndex(o=>o.id===r);return s!==-1?(n[s]={...n[s],...e},localStorage.setItem(Zn.ARTICLES,JSON.stringify(n)),window.dispatchEvent(new Event("articleUpdated")),n[s]):null}function B2(r){return r?.toDate?.().toISOString()||new Date().toISOString()}async function q2(r){const e=await I2(eS(dl,"rhythms"),{...r,createdAt:S2()});return{...r,id:e.id,createdAt:new Date().toISOString()}}async function H2(r){const e=await fS(su(dl,"rhythms",r));if(!e.exists())return null;const n=e.data();return{id:e.id,...n,createdAt:B2(n.createdAt)}}async function G2(r){await N2(su(dl,"rhythms",r))}function au(){try{const r=localStorage.getItem(Zn.COMMENTS);return r?JSON.parse(r):[]}catch{return[]}}function jh(r){localStorage.setItem(Zn.COMMENTS,JSON.stringify(r))}function So(r){return au().filter(e=>e.articleId===r).sort((e,n)=>new Date(n.createdAt)-new Date(e.createdAt))}function F2(r){const e=au(),n={...r,id:Date.now().toString(),createdAt:new Date().toISOString(),replies:[]};return e.push(n),jh(e),n}function Y2(r,e){const n=au(),s=n.find(o=>o.id===r);if(s){const o={...e,id:Date.now().toString(),createdAt:new Date().toISOString()};return s.replies||(s.replies=[]),s.replies.push(o),jh(n),o}return null}function K2(r){const e=au().filter(n=>n.id!==r);jh(e)}function Q2(r,e){const n=au(),s=n.find(o=>o.id===r);s&&s.replies&&(s.replies=s.replies.filter(o=>o.id!==e),jh(n))}function gS(){try{const r=localStorage.getItem(Zn.ARTICLES);return r?JSON.parse(r):[]}catch{return[]}}function X2(r){localStorage.setItem(Zn.ARTICLES,JSON.stringify(r))}function Lh(){return[...gS()]}function $2(r){const e=gS(),n={...r,id:"user_"+Date.now().toString(),createdAt:new Date().toISOString(),isUserCreated:!0};return e.unshift(n),X2(e),n}const J2=[{level:1,xp:0,title:"aylak Gitarist"},{level:2,xp:100,title:"Ritim Merakls"},{level:3,xp:300,title:"Gitar ra"},{level:4,xp:600,title:"Sahne Tozu Yutmu"},{level:5,xp:1e3,title:"Ritim Ustas"},{level:6,xp:1500,title:"Virtz Aday"},{level:7,xp:2200,title:"Gitar Efsanesi"}];function yS(){try{const r=localStorage.getItem("strumflow_profile");return r?JSON.parse(r):{xp:0,level:1,badges:[]}}catch{return{xp:0,level:1,badges:[]}}}function Z2(r){localStorage.setItem("strumflow_profile",JSON.stringify(r)),window.dispatchEvent(new Event("profileUpdated"))}function Ph(r){const e=yS(),n=e.level;e.xp+=r;const s=J2.slice().reverse().find(o=>e.xp>=o.xp);return s&&s.level>e.level&&(e.level=s.level,console.log(`Level Up! New Level: ${e.level}`)),Z2(e),{newXP:e.xp,newLevel:e.level,leveledUp:e.level>n,amountAdded:r}}function W2({onNavigate:r,onBack:e}){const n=Lh();return p.jsx("section",{className:"education-page",children:p.jsxs("div",{className:"edu-container",children:[p.jsxs("div",{className:"edu-header",children:[p.jsx("span",{className:"edu-header-icon",children:""}),p.jsx("h1",{children:"Forum"}),p.jsx("p",{children:"Gitar tekniklerini derinlemesine ren ve toplulua katl"})]}),p.jsx("div",{className:"edu-actions",children:p.jsx("button",{className:"add-article-btn",onClick:()=>r("create-article"),children:" Makale Ekle"})}),p.jsx("div",{className:"articles-grid",children:n.map((s,o)=>p.jsxs("div",{className:"article-card",onClick:()=>r("article-view",{articleId:s.id}),style:{"--card-accent":s.color,"--article-i":o},children:[p.jsx("div",{className:"article-card-accent"}),p.jsxs("div",{className:"article-card-body",children:[p.jsx("div",{className:"article-icon",children:s.icon}),p.jsx("h2",{children:s.title}),p.jsx("p",{children:s.shortDesc}),s.isUserCreated&&p.jsx("div",{className:"article-author-tag",children:p.jsxs("span",{children:[" ",s.author||"Anonim"]})}),p.jsxs("div",{className:"article-read-more",children:[p.jsx("span",{children:"Makaleyi Oku"}),p.jsx("span",{className:"read-arrow",children:""})]})]})]},s.id))}),p.jsxs("div",{className:"edu-info-banner",children:[p.jsx("span",{className:"info-icon",children:""}),p.jsx("p",{children:"Her makalenin altnda topluluk yorumlar bulunur. Ritim kalbnz paylaarak sohbete katln!"})]})]})})}function _S({url:r,title:e}){if(!r)return null;const n=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,s=r.match(n),o=s&&s[2].length===11?s[2]:null;return o?p.jsx("div",{className:"video-responsive",children:p.jsx("iframe",{width:"853",height:"480",src:`https://www.youtube.com/embed/${o}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:e||"YouTube video player"})}):null}function ex({articleId:r,isLoggedIn:e,user:n,onBack:s,onRequestLogin:o,onNavigate:u}){const[f,y]=ne.useState(null),[g,_]=ne.useState([]),[S,R]=ne.useState(""),[D,B]=ne.useState(""),[Y,X]=ne.useState(null),[W,ie]=ne.useState("");ne.useEffect(()=>{const x=Lh().find(V=>V.id===r);x&&(y(x),_(So(x.id)))},[r]);const ue=()=>{window.confirm("Bu makaleyi silmek istediinize emin misiniz?")&&(U2(f.id),s())},G=()=>{u("edit-article",{article:f})},le=k=>{if(k.preventDefault(),!S.trim()||!D.trim())return;if(F2({articleId:f.id,author:n.name,rhythm:S.trim(),message:D.trim()})){const V=Ph(10);V.leveledUp&&alert(` TEBRKLER!
Seviye Atladn: ${V.newLevel}`),_(So(f.id)),R(""),B("")}},Te=k=>{W.trim()&&(Y2(k,{author:n.name,message:W.trim()}),_(So(f.id)),X(null),ie(""))},ae=k=>{window.confirm("Bu yorumu silmek istediinize emin misiniz?")&&(K2(k),_(So(f.id)))},w=(k,x)=>{window.confirm("Bu yant silmek istediinize emin misiniz?")&&(Q2(k,x),_(So(f.id)))},b=k=>new Date(k).toLocaleDateString("tr-TR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),C=k=>{const x=k.split(`
`),V=[];let N=!1,Ye="";return x.forEach((pe,q)=>{if(pe.trim().startsWith("```")){N?(V.push(p.jsx("pre",{className:"article-code",children:p.jsx("code",{children:Ye.trim()})},`code-${q}`)),Ye="",N=!1):N=!0;return}if(N){Ye+=pe+`
`;return}const te=pe.trim();te?te.startsWith("## ")?V.push(p.jsx("h2",{className:"article-h2",children:te.slice(3)},q)):te.startsWith("### ")?V.push(p.jsx("h3",{className:"article-h3",children:te.slice(4)},q)):te.match(/^\d+\.\s/)?V.push(p.jsx("p",{className:"article-list-item numbered",children:te},q)):te.startsWith("- ")?V.push(p.jsx("p",{className:"article-list-item",children:te},q)):V.push(p.jsx("p",{className:"article-paragraph",children:te},q)):V.push(p.jsx("br",{},q))}),V};return f?p.jsx("section",{className:"article-page",children:p.jsxs("div",{className:"article-container",children:[p.jsxs("article",{className:"article-content",style:{"--article-accent":f.color},children:[p.jsxs("div",{className:"article-header-section",children:[p.jsxs("div",{className:"article-header-top",children:[p.jsx("span",{className:"article-big-icon",children:f.icon}),(n.isAdmin||n.name===f.author)&&p.jsxs("div",{className:"author-actions",children:[p.jsx("button",{className:"edit-btn",onClick:G,children:" Dzenle"}),p.jsx("button",{className:"delete-btn",onClick:ue,children:" Sil"})]})]}),p.jsx("h1",{children:f.title}),p.jsxs("div",{className:"article-meta-info",children:[p.jsxs("span",{children:[" ",f.author]}),p.jsxs("span",{children:[" ",new Date(f.createdAt).toLocaleDateString("tr-TR")]})]})]}),p.jsxs("div",{className:"article-body",children:[p.jsx(_S,{url:f.youtubeUrl,title:f.title}),C(f.content)]})]}),p.jsxs("div",{className:"comments-section",children:[p.jsxs("div",{className:"comments-header",children:[p.jsx("h2",{children:" Topluluk Yorumlar"}),p.jsxs("span",{className:"comment-count",children:[g.length," yorum"]})]}),e?p.jsxs("form",{className:"new-comment-form",onSubmit:le,children:[p.jsxs("div",{className:"comment-form-header",children:[p.jsx("span",{className:"form-avatar",children:""}),p.jsx("span",{className:"form-username",children:n.name})]}),p.jsxs("div",{className:"form-field",children:[p.jsxs("label",{children:[" Ritim Kalb ",p.jsx("span",{className:"required",children:"*"})]}),p.jsx("input",{type:"text",value:S,onChange:k=>R(k.target.value),placeholder:"r:      veya D D U D U",className:"rhythm-input"})]}),p.jsxs("div",{className:"form-field",children:[p.jsxs("label",{children:[" Mesajnz ",p.jsx("span",{className:"required",children:"*"})]}),p.jsx("textarea",{value:D,onChange:k=>B(k.target.value),placeholder:"Bu teknikle ilgili deneyiminizi paylan...",rows:3,className:"message-input"})]}),p.jsx("button",{type:"submit",className:"submit-comment-btn",disabled:!S.trim()||!D.trim(),children:"Yorum Payla"})]}):p.jsxs("div",{className:"login-prompt",children:[p.jsx("p",{children:"Yorum yazmak iin giri yapmanz gerekiyor."}),p.jsx("button",{className:"login-prompt-btn",onClick:o,children:"Giri Yap"})]}),p.jsx("div",{className:"comments-list",children:g.length===0?p.jsxs("div",{className:"no-comments",children:[p.jsx("span",{children:""}),p.jsx("p",{children:"Henz yorum yok. lk yorumu siz yazn!"})]}):g.map(k=>p.jsxs("div",{className:"comment-thread",children:[p.jsxs("div",{className:"comment-item",children:[p.jsxs("div",{className:"comment-meta",children:[p.jsx("span",{className:"comment-avatar",children:""}),p.jsx("span",{className:"comment-author",children:k.author}),p.jsx("span",{className:"comment-date",children:b(k.createdAt)})]}),p.jsxs("div",{className:"comment-rhythm",children:[p.jsx("span",{className:"rhythm-label",children:" Ritim:"}),p.jsx("span",{className:"rhythm-value",children:k.rhythm})]}),p.jsx("p",{className:"comment-message",children:k.message}),e&&p.jsxs("div",{className:"comment-actions",children:[p.jsx("button",{className:"reply-btn",onClick:()=>X(Y===k.id?null:k.id),children:" Yantla"}),(n.isAdmin||n.name===k.author)&&p.jsx("button",{className:"comment-delete-btn",onClick:()=>ae(k.id),children:" Sil"})]})]}),k.replies&&k.replies.length>0&&p.jsx("div",{className:"replies-list",children:k.replies.map(x=>p.jsxs("div",{className:"reply-item",children:[p.jsxs("div",{className:"comment-meta",children:[p.jsx("span",{className:"comment-avatar",children:""}),p.jsx("span",{className:"comment-author",children:x.author}),p.jsx("span",{className:"comment-date",children:b(x.createdAt)}),(n.isAdmin||n.name===x.author)&&p.jsx("button",{className:"reply-delete-btn",onClick:()=>w(k.id,x.id),children:""})]}),p.jsx("p",{className:"comment-message",children:x.message})]},x.id))}),Y===k.id&&p.jsxs("div",{className:"reply-form",children:[p.jsx("textarea",{value:W,onChange:x=>ie(x.target.value),placeholder:"Yantnz yazn...",rows:2,className:"reply-input",autoFocus:!0}),p.jsxs("div",{className:"reply-actions",children:[p.jsx("button",{className:"cancel-reply-btn",onClick:()=>{X(null),ie("")},children:"ptal"}),p.jsx("button",{className:"send-reply-btn",onClick:()=>Te(k.id),disabled:!W.trim(),children:"Gnder"})]})]})]},k.id))})]})]})}):p.jsx("div",{className:"loading",children:"Ykleniyor..."})}function tx({onNavigate:r,onBack:e,isLoggedIn:n,onRequestLogin:s}){const[o,u]=ne.useState([]),[f,y]=ne.useState([]),[g,_]=ne.useState(""),[S,R]=ne.useState(!0);ne.useEffect(()=>{const Y=w2(eS(dl,"rhythms"),R2("createdAt","desc")),X=x2(Y,W=>{const ie=W.docs.map(ue=>{const G=ue.data();return{id:ue.id,...G,createdAt:G.createdAt?.toDate?.().toISOString()||new Date().toISOString()}});u(ie),R(!1)});return()=>X()},[]),ne.useEffect(()=>{if(g.trim()){const Y=g.toLowerCase();y(o.filter(X=>X.title.toLowerCase().includes(Y)||X.chords.some(W=>W.name.toLowerCase().includes(Y))||X.author&&X.author.toLowerCase().includes(Y)))}else y(o)},[g,o]);const D=()=>{if(!n){s();return}r("create")},B=Y=>new Date(Y).toLocaleDateString("tr-TR",{day:"numeric",month:"short",year:"numeric"});return p.jsx("section",{className:"library-page",children:p.jsxs("div",{className:"library-container",children:[p.jsxs("div",{className:"library-header",children:[p.jsx("span",{className:"library-header-icon",children:""}),p.jsx("h1",{children:"Ktphane"}),p.jsx("p",{children:"Topluluk ritimlerini kefet veya kendi ritimlerini olutur"})]}),p.jsxs("div",{className:"library-actions",children:[p.jsxs("div",{className:"search-bar",children:[p.jsx("span",{className:"search-icon",children:""}),p.jsx("input",{type:"text",value:g,onChange:Y=>_(Y.target.value),placeholder:"Ritim ara... (balk, akor veya kullanc)",className:"search-input"}),g&&p.jsx("button",{className:"clear-search",onClick:()=>_(""),children:""})]}),p.jsxs("button",{className:"create-btn",onClick:D,children:[p.jsx("span",{children:""})," Yeni Ritim"]})]}),p.jsx("div",{className:"rhythm-list",children:S?p.jsxs("div",{className:"empty-library",children:[p.jsx("span",{className:"empty-icon",children:""}),p.jsx("h3",{children:"Ykleniyor..."})]}):f.length===0?p.jsxs("div",{className:"empty-library",children:[p.jsx("span",{className:"empty-icon",children:""}),p.jsx("h3",{children:g?"Sonu bulunamad":"Henz ritim yok"}),p.jsx("p",{children:g?"Farkl bir arama deneyin":'lk ritmi oluturmak iin "Yeni Ritim" butonuna tklayn!'})]}):f.map((Y,X)=>p.jsxs("div",{className:"rhythm-card",onClick:()=>r("rhythm-detail",{rhythmId:Y.id}),style:{"--ri":X},children:[p.jsxs("div",{className:"rhythm-card-left",children:[p.jsx("h3",{children:Y.title}),p.jsxs("div",{className:"rhythm-card-meta",children:[p.jsxs("span",{className:"meta-author",children:[" ",Y.author]}),p.jsxs("span",{className:"meta-date",children:[" ",B(Y.createdAt)]})]}),p.jsxs("div",{className:"rhythm-chords-preview",children:[Y.chords.slice(0,6).map((W,ie)=>p.jsxs("span",{className:"chord-badge",children:[W.name," ",W.repeat]},ie)),Y.chords.length>6&&p.jsxs("span",{className:"chord-badge more",children:["+",Y.chords.length-6]})]})]}),p.jsx("div",{className:"rhythm-card-right",children:p.jsx("span",{className:"card-arrow",children:""})})]},Y.id))})]})})}const Ao={major:[{name:"C",fullName:"C Major",type:"major"},{name:"D",fullName:"D Major",type:"major"},{name:"E",fullName:"E Major",type:"major"},{name:"F",fullName:"F Major",type:"major"},{name:"G",fullName:"G Major",type:"major"},{name:"A",fullName:"A Major",type:"major"},{name:"B",fullName:"B Major",type:"major"}],minor:[{name:"Cm",fullName:"C Minor",type:"minor"},{name:"Dm",fullName:"D Minor",type:"minor"},{name:"Em",fullName:"E Minor",type:"minor"},{name:"Fm",fullName:"F Minor",type:"minor"},{name:"Gm",fullName:"G Minor",type:"minor"},{name:"Am",fullName:"A Minor",type:"minor"},{name:"Bm",fullName:"B Minor",type:"minor"}],seventh:[{name:"C7",fullName:"C Dominant 7th",type:"seventh"},{name:"D7",fullName:"D Dominant 7th",type:"seventh"},{name:"E7",fullName:"E Dominant 7th",type:"seventh"},{name:"F7",fullName:"F Dominant 7th",type:"seventh"},{name:"G7",fullName:"G Dominant 7th",type:"seventh"},{name:"A7",fullName:"A Dominant 7th",type:"seventh"},{name:"B7",fullName:"B Dominant 7th",type:"seventh"}],maj7:[{name:"Cmaj7",fullName:"C Major 7th",type:"maj7"},{name:"Dmaj7",fullName:"D Major 7th",type:"maj7"},{name:"Emaj7",fullName:"E Major 7th",type:"maj7"},{name:"Fmaj7",fullName:"F Major 7th",type:"maj7"},{name:"Gmaj7",fullName:"G Major 7th",type:"maj7"},{name:"Amaj7",fullName:"A Major 7th",type:"maj7"},{name:"Bmaj7",fullName:"B Major 7th",type:"maj7"}],sus:[{name:"Csus4",fullName:"C Suspended 4th",type:"sus"},{name:"Dsus4",fullName:"D Suspended 4th",type:"sus"},{name:"Esus4",fullName:"E Suspended 4th",type:"sus"},{name:"Fsus4",fullName:"F Suspended 4th",type:"sus"},{name:"Gsus4",fullName:"G Suspended 4th",type:"sus"},{name:"Asus4",fullName:"A Suspended 4th",type:"sus"},{name:"Bsus4",fullName:"B Suspended 4th",type:"sus"}]};function nx(){return[...Ao.major,...Ao.minor,...Ao.seventh,...Ao.maj7,...Ao.sus]}function ix({user:r,onBack:e,onCreated:n}){const[s,o]=ne.useState(""),[u,f]=ne.useState([]),[y,g]=ne.useState(""),[_,S]=ne.useState(4),[R,D]=ne.useState("    "),[B,Y]=ne.useState(100),[X,W]=ne.useState(""),[ie,ue]=ne.useState(!1),G=nx(),le=()=>{if(!y)return;const w=G.find(b=>b.name===y);w&&(f([...u,{name:w.name,fullName:w.fullName,repeat:_}]),S(4))},Te=w=>{f(u.filter((b,C)=>C!==w))},ae=async w=>{if(w.preventDefault(),!(!s.trim()||u.length===0||ie)){ue(!0);try{const b=await q2({title:s.trim(),chords:u,strumPattern:R.trim(),bpm:B,author:r.name,youtubeUrl:X.trim()});if(b){const C=Ph(50);C.leveledUp&&alert(` TEBRKLER!
Seviye Atladn: ${C.newLevel}`),n(b)}}finally{ue(!1)}}};return p.jsx("section",{className:"create-rhythm-page",children:p.jsxs("div",{className:"create-container",children:[p.jsxs("div",{className:"create-header",children:[p.jsx("span",{className:"create-icon",children:""}),p.jsx("h1",{children:"Yeni Ritim Olutur"}),p.jsx("p",{children:"Ritim kalbn tanmla, akorlarn ekle ve toplulua payla"})]}),p.jsxs("form",{className:"create-form",onSubmit:ae,children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" Balk"}),p.jsx("input",{type:"text",value:s,onChange:w=>o(w.target.value),placeholder:"r: Lady in Black Rhythm",className:"form-input"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" Ritim Kalb"}),p.jsx("input",{type:"text",value:R,onChange:w=>D(w.target.value),placeholder:"r:        |   x = kesme, - = es",className:"form-input strum-input"}),p.jsxs("div",{className:"strum-helpers",children:[p.jsx("span",{className:"helper-label",children:"Hzl ekle:"}),p.jsx("button",{type:"button",className:"strum-btn",onClick:()=>D(w=>w+""),children:""}),p.jsx("button",{type:"button",className:"strum-btn",onClick:()=>D(w=>w+""),children:""}),p.jsx("button",{type:"button",className:"strum-btn",onClick:()=>D(w=>w+" x"),children:"x kesme"}),p.jsx("button",{type:"button",className:"strum-btn",onClick:()=>D(w=>w+" -"),children:"- es"}),p.jsx("button",{type:"button",className:"strum-btn clear",onClick:()=>D(""),children:"Temizle"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" BPM (Tempo)"}),p.jsxs("div",{className:"bpm-control",children:[p.jsx("button",{type:"button",className:"bpm-btn",onClick:()=>Y(Math.max(40,B-5)),children:""}),p.jsx("input",{type:"number",value:B,onChange:w=>Y(Math.max(40,Math.min(240,parseInt(w.target.value)||100))),className:"bpm-input",min:"40",max:"240"}),p.jsx("button",{type:"button",className:"bpm-btn",onClick:()=>Y(Math.min(240,B+5)),children:"+"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" Akor Ekle"}),p.jsxs("div",{className:"add-chord-row",children:[p.jsxs("select",{value:y,onChange:w=>g(w.target.value),className:"chord-select",children:[p.jsx("option",{value:"",children:"Akor se..."}),G.map(w=>p.jsxs("option",{value:w.name,children:[w.name,"  ",w.fullName]},w.name))]}),p.jsxs("div",{className:"repeat-control",children:[p.jsx("span",{className:"repeat-label",children:"Tekrar:"}),p.jsx("button",{type:"button",className:"repeat-btn",onClick:()=>S(Math.max(1,_-1)),children:""}),p.jsx("span",{className:"repeat-value",children:_}),p.jsx("button",{type:"button",className:"repeat-btn",onClick:()=>S(Math.min(32,_+1)),children:"+"})]}),p.jsx("button",{type:"button",className:"add-chord-btn",onClick:le,disabled:!y,children:"Ekle"})]})]}),u.length>0&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" Akor Sralamas"}),p.jsx("div",{className:"chord-sequence",children:u.map((w,b)=>p.jsxs("div",{className:"chord-item",children:[p.jsx("span",{className:"chord-index",children:b+1}),p.jsx("span",{className:"chord-name",children:w.name}),p.jsxs("span",{className:"chord-repeat",children:["",w.repeat]}),p.jsx("button",{type:"button",className:"remove-chord-btn",onClick:()=>Te(b),children:""})]},b))})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" YouTube Video Linki (Opsiyonel)"}),p.jsx("input",{type:"text",value:X,onChange:w=>W(w.target.value),placeholder:"r: https://youtu.be/...",className:"form-input"})]}),p.jsx("div",{className:"form-actions",children:p.jsx("button",{type:"submit",className:"submit-btn",disabled:!s.trim()||u.length===0||ie,children:ie?" Kaydediliyor...":" Ritmi Kaydet"})})]})]})})}const rx=["","","","","","","","","","","","","","","",""],sx=["#ff6b35","#00ff9f","#ff3366","#6c5ce7","#00cec9","#fdcb6e","#e17055","#0984e3","#d63031","#00b894","#e84393","#2d3436"];function ME({user:r,onBack:e,onCreated:n,initialData:s}){const[o,u]=ne.useState(s?.title||""),[f,y]=ne.useState(s?.shortDesc||""),[g,_]=ne.useState(s?.content||""),[S,R]=ne.useState(s?.youtubeUrl||""),[D,B]=ne.useState(s?.icon||""),[Y,X]=ne.useState(s?.color||"#ff6b35"),W=o.trim()&&f.trim()&&g.trim(),ie=!!s,ue=G=>{if(G.preventDefault(),!W)return;const le={title:o.trim(),shortDesc:f.trim(),content:g.trim(),youtubeUrl:S.trim(),icon:D,color:Y,author:s?.author||r.name||"Anonim"};if(ie)z2(s.id,le),n({...s,...le});else{const Te=$2(le),ae=Ph(100);ae.leveledUp&&alert(` TEBRKLER!
Seviye Atladn: ${ae.newLevel}`),n(Te)}};return p.jsx("section",{className:"create-article-page",children:p.jsxs("div",{className:"create-article-container",children:[p.jsxs("div",{className:"create-article-header",children:[p.jsx("span",{className:"create-article-icon",children:ie?"":""}),p.jsx("h1",{children:ie?"Makaleyi Dzenle":"Yeni Makale Olutur"}),p.jsx("p",{children:ie?"eriini gncelle ve kaydet":"Bilgini toplulukla payla, gitar dnyasna katkda bulun"})]}),p.jsxs("form",{className:"create-article-form",onSubmit:ue,children:[!r.name&&p.jsxs("div",{className:"guest-warning",children:[" Giri yapmadnz iin bu makaleyi daha sonra ",p.jsx("strong",{children:"dzenleyemezsiniz"})," veya ",p.jsx("strong",{children:"silemezsiniz"}),"."]}),p.jsxs("div",{className:"form-group",children:[p.jsxs("label",{children:[" Makale Bal ",p.jsx("span",{className:"required",children:"*"})]}),p.jsx("input",{type:"text",value:o,onChange:G=>u(G.target.value),placeholder:"r: Barre Akor Geileri",className:"form-input",maxLength:100})]}),p.jsxs("div",{className:"form-group",children:[p.jsxs("label",{children:[" Ksa Aklama ",p.jsx("span",{className:"required",children:"*"})]}),p.jsx("input",{type:"text",value:f,onChange:G=>y(G.target.value),placeholder:"Makale kartnda grnecek ksa aklama",className:"form-input",maxLength:200})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" kon Se"}),p.jsx("div",{className:"picker-grid emoji-picker",children:rx.map(G=>p.jsx("button",{type:"button",className:`picker-item ${D===G?"active":""}`,onClick:()=>B(G),children:G},G))})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:" Renk Se"}),p.jsx("div",{className:"picker-grid color-picker",children:sx.map(G=>p.jsx("button",{type:"button",className:`color-item ${Y===G?"active":""}`,style:{background:G},onClick:()=>X(G)},G))})]}),p.jsxs("div",{className:"form-group",children:[p.jsxs("label",{children:[" Makale erii ",p.jsx("span",{className:"required",children:"*"})]}),p.jsxs("div",{className:"content-hint",children:[" Balklar iin ",p.jsx("code",{children:"##"}),", alt balklar iin ",p.jsx("code",{children:"###"}),", listeler iin ",p.jsx("code",{children:"-"})," kullanabilirsiniz"]}),p.jsx("textarea",{value:g,onChange:G=>_(G.target.value),placeholder:`## Giri

Burada tekniin ne olduunu aklayn...

## Nasl Yaplr?

1. lk adm
2. kinci adm

## pular

- pucu 1
- pucu 2`,className:"form-textarea",rows:14})]}),p.jsxs("div",{className:"preview-section",children:[p.jsx("h3",{children:" nizleme"}),p.jsxs("div",{className:"preview-card",style:{"--card-accent":Y},children:[p.jsx("div",{className:"preview-accent"}),p.jsxs("div",{className:"preview-body",children:[p.jsx("span",{className:"preview-icon",children:D}),p.jsx("h4",{children:o||"Makale Bal"}),p.jsx("p",{children:f||"Ksa aklama burada grnecek"})]})]})]}),p.jsx("button",{type:"submit",className:"submit-article-btn",disabled:!W,children:" Makaleyi Yaynla"})]})]})})}function ax({rhythmId:r,user:e,onBack:n,onExercise:s,onDeleted:o}){const[u,f]=ne.useState(null);if(ne.useEffect(()=>{r&&H2(r).then(f)},[r]),!u)return p.jsx("section",{className:"rhythm-detail-page",children:p.jsx("div",{className:"detail-container",children:p.jsx("div",{className:"not-found",children:"Ritim bulunamad."})})});const y=async()=>{window.confirm("Bu ritmi silmek istediinize emin misiniz?")&&(await G2(u.id),o())},g=_=>new Date(_).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"});return p.jsx("section",{className:"rhythm-detail-page",children:p.jsx("div",{className:"detail-container",children:p.jsxs("div",{className:"detail-card",children:[p.jsxs("div",{className:"detail-header",children:[p.jsxs("div",{className:"detail-title-section",children:[p.jsx("h1",{children:u.title}),p.jsxs("div",{className:"detail-meta",children:[p.jsxs("span",{children:[" ",u.author]}),p.jsxs("span",{children:[" ",g(u.createdAt)]}),p.jsxs("span",{children:[" ",u.bpm," BPM"]})]})]}),(e.isAdmin||e.name===u.author)&&p.jsx("button",{className:"delete-btn",onClick:y,children:" Sil"})]}),p.jsx(_S,{url:u.youtubeUrl,title:u.title}),p.jsxs("div",{className:"detail-section",children:[p.jsx("h2",{children:" Ritim Kalb"}),p.jsx("div",{className:"strum-display",children:u.strumPattern})]}),p.jsxs("div",{className:"detail-section",children:[p.jsx("h2",{children:" Akor Sralamas"}),p.jsx("div",{className:"chord-progression",children:u.chords.map((_,S)=>p.jsxs("div",{className:"progression-item",style:{"--pi":S},children:[p.jsx("span",{className:"prog-number",children:S+1}),p.jsxs("div",{className:"prog-info",children:[p.jsx("span",{className:"prog-chord",children:_.name}),p.jsxs("span",{className:"prog-repeat",children:[_.repeat," tekrar"]})]})]},S))})]}),p.jsxs("button",{className:"exercise-btn",onClick:()=>s(u),children:[p.jsx("span",{className:"exercise-icon",children:""}),p.jsxs("div",{className:"exercise-text",children:[p.jsx("span",{className:"exercise-title",children:"Egzersiz Yap"}),p.jsx("span",{className:"exercise-subtitle",children:"Gelimi metronom ile pratik yap"})]})]})]})})})}const Im=[{label:"2/4",beats:2,division:4,accentBeats:[0],groups:[2]},{label:"3/4",beats:3,division:4,accentBeats:[0],groups:[3]},{label:"4/4",beats:4,division:4,accentBeats:[0],groups:[4]},{label:"5/4",beats:5,division:4,accentBeats:[0,3],groups:[3,2]},{label:"6/8",beats:6,division:8,accentBeats:[0,3],groups:[3,3]},{label:"7/8",beats:7,division:8,accentBeats:[0,3,5],groups:[3,2,2]},{label:"9/8",beats:9,division:8,accentBeats:[0,3,6],groups:[3,3,3]},{label:"12/8",beats:12,division:8,accentBeats:[0,3,6,9],groups:[3,3,3,3]}],lx=Im.find(r=>r.label==="4/4");function VE(r,e){return r===0?"strong":e.accentBeats.includes(r)?"medium":"weak"}function ox(r){return!r||!r.trim()?[]:r.trim().split(/\s+/).filter(Boolean)}function jE(r){return r?r===""?"down":r===""?"up":r==="x"||r==="X"?"mute":r==="-"||r===""||r==="_"?"rest":"down":null}function ux(r,e){return e==="rest"?null:e==="mute"?r==="strong"?480:340:r==="strong"?1e3:r==="medium"?780:580}function cx(r){return r==="strong"?.38:r==="medium"?.22:.12}function hx({rhythm:r}){const[e,n]=ne.useState(()=>{const pe=localStorage.getItem(`ts_${r.id}`);return Im.find(q=>q.label===pe)||lx}),[s,o]=ne.useState(!1),[u,f]=ne.useState(r.bpm||100),[y,g]=ne.useState(0),[_,S]=ne.useState(0),[R,D]=ne.useState(0),B=ne.useMemo(()=>ox(r.strumPattern),[r.strumPattern]),Y=e.beats,X=ne.useRef(null),W=ne.useRef(null),ie=ne.useRef(0),ue=ne.useRef(0),G=ne.useCallback(()=>(X.current||(X.current=new(window.AudioContext||window.webkitAudioContext)),X.current),[]),le=ne.useCallback((pe,q,te)=>{const de=jE(q),be=ux(te,de);if(be!==null)try{const Se=G(),O=Se.createOscillator(),Q=Se.createGain();O.connect(Q),Q.connect(Se.destination);const se=de==="mute";O.frequency.setValueAtTime(be,Se.currentTime),O.type=se?"square":"sine";const ce=cx(te);Q.gain.setValueAtTime(ce,Se.currentTime),Q.gain.exponentialRampToValueAtTime(.001,Se.currentTime+(se?.04:.1)),O.start(Se.currentTime),O.stop(Se.currentTime+.13)}catch{}},[G]),Te=ne.useCallback(pe=>r.chords[pe]?r.chords[pe].repeat*Y:Y,[r.chords,Y]),ae=ne.useCallback(()=>{W.current&&(clearInterval(W.current),W.current=null)},[]),w=ne.useCallback(()=>{const pe=60/u*1e3;ie.current=0,ue.current=0,g(0),S(0),D(0);const q=B[0]??null;le(0,q,"strong"),W.current=setInterval(()=>{ie.current++;const te=ie.current%Y,de=VE(te,e),be=B.length>0?B[te%B.length]:null;le(te,be,de),g(te),D(ie.current);const Se=Te(ue.current);if(ie.current>=Se){ie.current=0,D(0);const O=ue.current+1;ue.current=O>=r.chords.length?0:O,S(ue.current)}},pe)},[u,Y,e,B,le,Te,r.chords.length]),b=()=>{s?(ae(),o(!1)):(w(),o(!0))},C=()=>{ae(),o(!1),g(0),S(0),D(0),ie.current=0,ue.current=0},k=pe=>{ae(),o(!1),n(pe),g(0),S(0),D(0),ie.current=0,ue.current=0,localStorage.setItem(`ts_${r.id}`,pe.label)};ne.useEffect(()=>()=>{ae(),X.current&&X.current.close()},[ae]),ne.useEffect(()=>{s&&(ae(),w())},[u]);const x=r.chords[_],V=Te(_),N=V>0?R/V*100:0,Ye=ne.useMemo(()=>{const pe=[];let q=0;for(const te of e.groups){const de=[];for(let be=0;be<te;be++){const Se=q++,O=B.length>0?B[Se%B.length]:null;de.push({index:Se,symbol:O,accentLevel:VE(Se,e)})}pe.push(de)}return pe},[e,B]);return p.jsx("section",{className:"exercise-page",children:p.jsxs("div",{className:"exercise-container",children:[p.jsxs("div",{className:"exercise-header",children:[p.jsx("h1",{children:"Egzersiz Modu"}),p.jsx("p",{className:"exercise-song-title",children:r.title})]}),p.jsxs("div",{className:"metronome-card",children:[p.jsxs("div",{className:"chord-spotlight",children:[p.jsx("div",{className:`chord-circle ${s?"playing":""}`,children:p.jsx("span",{className:"chord-letter",children:x?.name||""})}),p.jsxs("div",{className:"chord-info",children:[p.jsx("span",{className:"chord-fullname",children:x?.fullName||x?.name||""}),p.jsxs("span",{className:"chord-remaining",children:["Tekrar: ",Math.floor(R/Y)+1," / ",x?.repeat||1]})]})]}),p.jsx("div",{className:"chord-progress-bar",children:p.jsx("div",{className:"chord-progress-fill",style:{width:`${Math.min(100,N)}%`}})}),p.jsxs("div",{className:"ts-selector",children:[p.jsx("span",{className:"ts-selector-label",children:"l (Zaman mzas)"}),p.jsx("div",{className:"ts-grid",children:Im.map(pe=>p.jsx("button",{className:`ts-btn${e.label===pe.label?" active":""}`,onClick:()=>k(pe),title:pe.label,children:pe.label},pe.label))})]}),p.jsx("div",{className:"beat-groups-wrap",children:Ye.map((pe,q)=>p.jsx("div",{className:"beat-group",children:pe.map(({index:te,symbol:de,accentLevel:be})=>{const Se=jE(de),O=te===y&&s,Q=["beat-dot",Se?`beat-${Se}`:"",`accent-${be}`,O?"active":""].filter(Boolean).join(" ");return p.jsxs("div",{className:Q,children:[p.jsx("span",{className:"beat-symbol",children:de||(be==="strong"?"":be==="medium"?"":"")}),p.jsx("span",{className:"beat-num",children:te+1})]},te)})},q))}),r.strumPattern&&p.jsxs("div",{className:"exercise-strum",children:[p.jsx("span",{className:"strum-label",children:"Kalp:"}),p.jsx("span",{className:"strum-value",children:r.strumPattern})]}),p.jsxs("div",{className:"metronome-controls",children:[p.jsx("button",{className:"control-btn reset-btn",onClick:C,children:""}),p.jsx("button",{className:`control-btn play-btn${s?" playing":""}`,onClick:b,children:s?"":""})]}),p.jsxs("div",{className:"bpm-section",children:[p.jsx("span",{className:"bpm-label",children:"Tempo"}),p.jsxs("div",{className:"bpm-slider-row",children:[p.jsx("button",{className:"bpm-adj",onClick:()=>f(pe=>Math.max(40,pe-5)),children:"5"}),p.jsx("button",{className:"bpm-adj small",onClick:()=>f(pe=>Math.max(40,pe-1)),children:"1"}),p.jsxs("div",{className:"bpm-display",children:[u," ",p.jsx("small",{children:"BPM"})]}),p.jsx("button",{className:"bpm-adj small",onClick:()=>f(pe=>Math.min(240,pe+1)),children:"+1"}),p.jsx("button",{className:"bpm-adj",onClick:()=>f(pe=>Math.min(240,pe+5)),children:"+5"})]}),p.jsx("input",{type:"range",min:"40",max:"240",value:u,onChange:pe=>f(parseInt(pe.target.value)),className:"bpm-range"})]})]}),p.jsxs("div",{className:"progression-overview",children:[p.jsx("h3",{children:"Akor Sralamas"}),p.jsx("div",{className:"progression-chips",children:r.chords.map((pe,q)=>p.jsxs("div",{className:`prog-chip${q===_?" current":""}${q<_?" done":""}`,children:[p.jsx("span",{className:"chip-name",children:pe.name}),p.jsxs("span",{className:"chip-repeat",children:["",pe.repeat]})]},q))})]})]})})}const Vs=[{id:"em",name:"Em",fullName:"E Minor",difficulty:"beginner",description:"Karanlk ve derin. Metal ve Rock arklarnn favorisi.",frets:[0,2,2,0,0,0],fingers:[0,2,3,0,0,0],tips:["Gitarda renilecek en kolay akordur - sadece 2 parmak kullanlr.","Orta parman 5. telin 2. perdesine, yzk parman 4. telin 2. perdesine koy.","Tm tellere serbeste vurabilirsin, hepsi ak veya basl.","Em  G geii ok doaldr, birlikte pratik yap."],fingerPlacement:[{string:"5. tel (A)",fret:"2. perde",finger:"Orta parmak"},{string:"4. tel (D)",fret:"2. perde",finger:"Yzk parmak"}],commonSongs:["Nothing Else Matters - Metallica","Wish You Were Here - Pink Floyd","Horse With No Name - America"]},{id:"am",name:"Am",fullName:"A Minor",difficulty:"beginner",description:"Melankolik ve duygusal. Rock ve pop mzikte en sk kullanlan minr akor.",frets:[-1,0,2,2,1,0],fingers:[0,0,2,3,1,0],tips:["aret parman 2. telin 1. perdesine, orta parman 4. telin 2. perdesine, yzk parman 3. telin 2. perdesine koy.","6. tel (kaln E) alnmaz - sadece 5 teli vur.","Am  C geii ok yaygndr, yzk parman yerinde kalr.","Am  Em geii de kolaydr, sk pratik yap."],fingerPlacement:[{string:"2. tel (B)",fret:"1. perde",finger:"aret parmak"},{string:"4. tel (D)",fret:"2. perde",finger:"Orta parmak"},{string:"3. tel (G)",fret:"2. perde",finger:"Yzk parmak"}],commonSongs:["Stairway to Heaven - Led Zeppelin","Losing My Religion - R.E.M.","House of the Rising Sun - Animals"]},{id:"e",name:"E",fullName:"E Major",difficulty:"beginner",description:"Gl ve dolu. Rock ve Blues mziin kral.",frets:[0,2,2,1,0,0],fingers:[0,2,3,1,0,0],tips:["Am akorunun bir tel aa kaydrlm halidir.","Tm 6 tel alnr - en dolgun akorlardan biridir.","aret parman 3. telin 1. perdesine koy, orta ve yzk parmaklar 4. ve 5. tellerin 2. perdelerine.","Blues ve Rock arklarda ok sk kullanlr."],fingerPlacement:[{string:"3. tel (G)",fret:"1. perde",finger:"aret parmak"},{string:"5. tel (A)",fret:"2. perde",finger:"Orta parmak"},{string:"4. tel (D)",fret:"2. perde",finger:"Yzk parmak"}],commonSongs:["Back in Black - AC/DC","Smoke on the Water - Deep Purple","Seven Nation Army - White Stripes"]},{id:"a",name:"A",fullName:"A Major",difficulty:"beginner",description:"Pozitif ve aydnlk. Ykselen bir hissiyat verir.",frets:[-1,0,2,2,2,0],fingers:[0,0,1,2,3,0],tips:["3 parmak yan yana 2. perde zerinde durur - kompakt bir ekildir.","6. tel alnmaz, 5. tel ak alnr.","Parmaklar hafif dikey tutarak teller birbirine demesin.","A  D  E klasik rock ilerlemesidir."],fingerPlacement:[{string:"4. tel (D)",fret:"2. perde",finger:"aret parmak"},{string:"3. tel (G)",fret:"2. perde",finger:"Orta parmak"},{string:"2. tel (B)",fret:"2. perde",finger:"Yzk parmak"}],commonSongs:["Knockin on Heavens Door - Bob Dylan","Brown Eyed Girl - Van Morrison","Hey Jude - Beatles"]},{id:"d",name:"D",fullName:"D Major",difficulty:"beginner",description:"Neeli ve enerjik. Genellikle arklarn nakarat ksmlarnda duyulur.",frets:[-1,-1,0,2,3,2],fingers:[0,0,0,1,3,2],tips:["Sadece ince 4 tel alnr (D, G, B, e).","gen eklinde bir pozisyon oluturur.","aret parma 3. tel 2. perde, orta parmak 1. tel 2. perde, yzk parmak 2. tel 3. perde.","D  A geii ok yaygn ve kolaydr."],fingerPlacement:[{string:"3. tel (G)",fret:"2. perde",finger:"aret parmak"},{string:"1. tel (e)",fret:"2. perde",finger:"Orta parmak"},{string:"2. tel (B)",fret:"3. perde",finger:"Yzk parmak"}],commonSongs:["Sweet Home Alabama - Lynyrd Skynyrd","Here Comes the Sun - Beatles","Wonderwall - Oasis"]},{id:"dm",name:"Dm",fullName:"D Minor",difficulty:"beginner",description:"Hznl ama umutlu. Baladlarn vazgeilmezi.",frets:[-1,-1,0,2,3,1],fingers:[0,0,0,2,3,1],tips:["D Major'e ok benzer ama 1. tel 1. perdeye iner.","aret parma 1. tel 1. perde, orta parmak 3. tel 2. perde, yzk parmak 2. tel 3. perde.","Sadece ince 4 tel alnr.","Dm  Am  E klasik bir ilerleme rneidir."],fingerPlacement:[{string:"1. tel (e)",fret:"1. perde",finger:"aret parmak"},{string:"3. tel (G)",fret:"2. perde",finger:"Orta parmak"},{string:"2. tel (B)",fret:"3. perde",finger:"Yzk parmak"}],commonSongs:["Sultans of Swing - Dire Straits","Californication - RHCP","The Sound of Silence - Simon & Garfunkel"]},{id:"c",name:"C",fullName:"C Major",difficulty:"beginner",description:"Parlak ve mutlu. ou popler arknn temel ta.",frets:[-1,3,2,0,1,0],fingers:[0,3,2,0,1,0],tips:["Parmaklar 3 farkl perdeye yaylr - geni bir alm gerektirir.","aret parma 2. tel 1. perde, orta parmak 4. tel 2. perde, yzk parmak 5. tel 3. perde.","6. tel alnmaz.","C  G  Am  F dnyann en popler akor ilerlemesidir."],fingerPlacement:[{string:"2. tel (B)",fret:"1. perde",finger:"aret parmak"},{string:"4. tel (D)",fret:"2. perde",finger:"Orta parmak"},{string:"5. tel (A)",fret:"3. perde",finger:"Yzk parmak"}],commonSongs:["Let It Be - Beatles","No Woman No Cry - Bob Marley","Someone Like You - Adele"]},{id:"g",name:"G",fullName:"G Major",difficulty:"beginner",description:"Geni ve ferah. Akustik gitarn en sevilen akoru.",frets:[3,2,0,0,0,3],fingers:[2,1,0,0,0,3],tips:["Tm 6 tel alnr - ok dolgun bir ses verir.","Orta parmak 6. tel 3. perde, iaret parmak 5. tel 2. perde, yzk parmak 1. tel 3. perde.","G  C geiinde orta parmak kayarak gider, bunu pratik et.","G  Em geii en kolay geilerden biridir."],fingerPlacement:[{string:"5. tel (A)",fret:"2. perde",finger:"aret parmak"},{string:"6. tel (E)",fret:"3. perde",finger:"Orta parmak"},{string:"1. tel (e)",fret:"3. perde",finger:"Yzk parmak"}],commonSongs:["Wish You Were Here - Pink Floyd","Wonderwall - Oasis","Country Roads - John Denver"]},{id:"b7",name:"B7",fullName:"B Dominant 7",difficulty:"intermediate",description:"Blues tonlarnda ska kullanlan gergin ama zlmeyi bekleyen bir akor.",frets:[-1,2,1,2,0,2],fingers:[0,2,1,3,0,4],tips:["4 parman hepsini kullanrsn - parmak bamszl gelitirir.","aret parma 4. tel 1. perde, orta parmak 5. tel 2. perde, yzk parmak 3. tel 2. perde, sere parmak 1. tel 2. perde.","B7  Em ok gl bir zlme salar.","Blues ilerlemelerinde mutlaka karlarsn."],fingerPlacement:[{string:"4. tel (D)",fret:"1. perde",finger:"aret parmak"},{string:"5. tel (A)",fret:"2. perde",finger:"Orta parmak"},{string:"3. tel (G)",fret:"2. perde",finger:"Yzk parmak"},{string:"1. tel (e)",fret:"2. perde",finger:"Sere parmak"}],commonSongs:["Hey Joe - Jimi Hendrix","Folsom Prison Blues - Johnny Cash","Dust in the Wind - Kansas"]},{id:"cadd9",name:"Cadd9",fullName:"C Added 9",difficulty:"intermediate",description:"G akoruna geii ok kolay olan, modern pop ve country favorisi.",frets:[-1,3,2,0,3,3],fingers:[0,2,1,0,3,4],tips:["C Major'e ok benzer ama 1. ve 2. telde farkllk var.","G akoruna geerken sadece 2 parmak hareket eder.","Ak ve ngrdayan bir ses verir - akustik gitar iin mkemmel.","Wonderwall gibi arklarda G yerine kullanlr."],fingerPlacement:[{string:"4. tel (D)",fret:"2. perde",finger:"aret parmak"},{string:"5. tel (A)",fret:"3. perde",finger:"Orta parmak"},{string:"2. tel (B)",fret:"3. perde",finger:"Yzk parmak"},{string:"1. tel (e)",fret:"3. perde",finger:"Sere parmak"}],commonSongs:["Wonderwall - Oasis","Good Riddance - Green Day","Yellow - Coldplay"]},{id:"a5",name:"A5",fullName:"A Power Chord",difficulty:"intermediate",description:"Rock ve Metal mziin temeli. Sadece kk ses ve 5. dereceden oluur.",frets:[-1,0,2,2,-1,-1],fingers:[0,0,1,1,0,0],tips:["Power chord'lar ne majr ne minrdr - ntr ve gl bir ses verir.","aret parman 4. ve 3. tellerin 2. perdesine yatr (mini barre).","Distortion pedal ile harika bir ses karr.","Sadece 2-3 tel alnr, dierlerini sustur."],fingerPlacement:[{string:"5. tel (A)",fret:"Ak",finger:"-"},{string:"4. tel (D)",fret:"2. perde",finger:"aret parmak"},{string:"3. tel (G)",fret:"2. perde",finger:"aret parmak (barre)"}],commonSongs:["Smells Like Teen Spirit - Nirvana","Iron Man - Black Sabbath","TNT - AC/DC"]},{id:"e5",name:"E5",fullName:"E Power Chord",difficulty:"intermediate",description:"En kaln, en gl akor. Distortion ile harika tnlar.",frets:[0,2,2,-1,-1,-1],fingers:[0,1,1,0,0,0],tips:["Sadece kaln 3 tel alnr.","Ak E teli kk ses olarak alar.","Drop D akort ile daha da kolay hale gelir.","Metal rifflerinin yap tadr."],fingerPlacement:[{string:"6. tel (E)",fret:"Ak",finger:"-"},{string:"5. tel (A)",fret:"2. perde",finger:"aret parmak"},{string:"4. tel (D)",fret:"2. perde",finger:"aret parmak (barre)"}],commonSongs:["Smoke on the Water - Deep Purple","You Really Got Me - The Kinks","Blitzkrieg Bop - Ramones"]},{id:"f5",name:"F5",fullName:"F Power Chord",difficulty:"intermediate",description:"Sert ve keskin. Punk ve Grunge paralarnda ska kullanlr.",frets:[1,3,3,-1,-1,-1],fingers:[1,3,4,0,0,0],tips:["E5 eklinin 1 perde kaydrlm halidir.","aret parma 6. tel 1. perde, yzk ve sere parmaklar 5. ve 4. teller 3. perde.","F bare akorunun basitletirilmi halidir - nce bunu ren.","Hzl perde geileri iin ideal."],fingerPlacement:[{string:"6. tel (E)",fret:"1. perde",finger:"aret parmak"},{string:"5. tel (A)",fret:"3. perde",finger:"Yzk parmak"},{string:"4. tel (D)",fret:"3. perde",finger:"Sere parmak"}],commonSongs:["Basket Case - Green Day","Brain Stew - Green Day","American Idiot - Green Day"]},{id:"g5",name:"G5",fullName:"G Power Chord",difficulty:"intermediate",description:"Gl ve dolgun. Rock rifflerinin vazgeilmezi.",frets:[3,5,5,-1,-1,-1],fingers:[1,3,4,0,0,0],tips:["E5 eklinin 3. perdeden balayan versiyonudur.","aret parma 6. tel 3. perde, yzk ve sere parmak 5. ve 4. teller 5. perde.","G5  A5  C5 ok yaygn bir power chord ilerlemesidir.","Rock ve punk arklarda srekli kullanlr."],fingerPlacement:[{string:"6. tel (E)",fret:"3. perde",finger:"aret parmak"},{string:"5. tel (A)",fret:"5. perde",finger:"Yzk parmak"},{string:"4. tel (D)",fret:"5. perde",finger:"Sere parmak"}],commonSongs:["Highway to Hell - AC/DC","Paranoid - Black Sabbath","Rock You Like a Hurricane - Scorpions"]},{id:"c5",name:"C5",fullName:"C Power Chord",difficulty:"intermediate",description:"Net ve gl. Pop-punk ve alternatif rock arklarnda popler.",frets:[-1,3,5,5,-1,-1],fingers:[0,1,3,4,0,0],tips:["5. telden balayan power chord eklidir.","aret parma 5. tel 3. perde, yzk ve sere parmak 4. ve 3. teller 5. perde.","A5 eklinin 3 perde yukar kaydrlm halidir.","Pop-punk ve alternatif rock'ta ok yaygn."],fingerPlacement:[{string:"5. tel (A)",fret:"3. perde",finger:"aret parmak"},{string:"4. tel (D)",fret:"5. perde",finger:"Yzk parmak"},{string:"3. tel (G)",fret:"5. perde",finger:"Sere parmak"}],commonSongs:["Dammit - Blink 182","All The Small Things - Blink 182","Sugar We're Goin Down - Fall Out Boy"]},{id:"d5",name:"D5",fullName:"D Power Chord",difficulty:"intermediate",description:"Hzl ve atak. Hard Rock paralarnda ska duyulur.",frets:[-1,5,7,7,-1,-1],fingers:[0,1,3,4,0,0],tips:["Yksek perdelerden alnan bir power chord.","aret parma 5. tel 5. perde, yzk ve sere parmak 4. ve 3. teller 7. perde.","A5 eklinin 5. perdeden balamasdr.","Hard rock ve metal'de ska kullanlr."],fingerPlacement:[{string:"5. tel (A)",fret:"5. perde",finger:"aret parmak"},{string:"4. tel (D)",fret:"7. perde",finger:"Yzk parmak"},{string:"3. tel (G)",fret:"7. perde",finger:"Sere parmak"}],commonSongs:["Enter Sandman - Metallica","Master of Puppets - Metallica","Crazy Train - Ozzy Osbourne"]},{id:"f",name:"F",fullName:"F Major",difficulty:"advanced",description:"Zorlu bare akoru. Geilerde zenginlik katar.",frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barre:{fret:1,from:1,to:6},tips:["lk bare akor - iaret parman tm telleri 1. perdede basmas gerekir.","aret parman biraz yana yatr (kemik ksmyla bas).","Baparman sapn arkasnda, orta hizaya koy - g buradan gelir.","Bata zor gelir ama bare akorlarn kapsn aar. Her gn 5 dakika pratik yap.","nce sadece bare ksmn altr, tm teller temiz alana kadar."],fingerPlacement:[{string:"Tm teller",fret:"1. perde",finger:"aret parmak (Bare)"},{string:"3. tel (G)",fret:"2. perde",finger:"Orta parmak"},{string:"5. tel (A)",fret:"3. perde",finger:"Yzk parmak"},{string:"4. tel (D)",fret:"3. perde",finger:"Sere parmak"}],commonSongs:["Hotel California - Eagles","Hey There Delilah - Plain White T's","Can't Help Falling in Love - Elvis"]},{id:"bm",name:"Bm",fullName:"B Minor",difficulty:"advanced",description:"Duygusal ve youn. Rock baladlarnn vazgeilmezi.",frets:[-1,2,4,4,3,2],fingers:[0,1,3,4,2,1],barre:{fret:2,from:1,to:5},tips:["Am bare eklinin 2. perdeden balayan versiyonudur.","aret parman 2. perdede 1-5. telleri basar.","F akorunu rahat alabiliyorsan Bm daha kolay gelecektir.","6. tel alnmaz - sadece 5 tel.","Bm  D  G  A ok popler bir ilerleme."],fingerPlacement:[{string:"1-5. teller",fret:"2. perde",finger:"aret parmak (Bare)"},{string:"2. tel (B)",fret:"3. perde",finger:"Orta parmak"},{string:"4. tel (D)",fret:"4. perde",finger:"Yzk parmak"},{string:"3. tel (G)",fret:"4. perde",finger:"Sere parmak"}],commonSongs:["Zombie - Cranberries","Nothing Else Matters - Metallica","Creep - Radiohead"]}],vS={beginner:"Balang",intermediate:"Orta Dzey",advanced:"Zor"};function fx(r){const e=r.toLowerCase().trim();return e?Vs.filter(n=>n.name.toLowerCase().includes(e)||n.fullName.toLowerCase().includes(e)):Vs}const ES=({chord:r,size:e="normal"})=>{const{frets:n,fingers:s,barre:o}=r,u=e==="large",f=u?220:140,y=u?250:160,g=u?35:25,_=f-g*2,S=y-g*2,R=_/5,D=S/5,B=u?13:9,Y=u?14:11;return p.jsxs("svg",{width:f,height:y,className:"chord-svg",viewBox:`0 0 ${f} ${y}`,children:[[0,1,2,3,4,5].map(X=>p.jsx("line",{x1:g,y1:g+X*D,x2:f-g,y2:g+X*D,stroke:"currentColor",strokeWidth:X===0?4:1,className:"fret-line",opacity:X===0?1:.3},`f-${X}`)),[0,1,2,3,4,5].map(X=>p.jsx("line",{x1:g+X*R,y1:g,x2:g+X*R,y2:y-g,stroke:"currentColor",strokeWidth:X<3?1:2,className:"string-line",opacity:"0.6"},`s-${X}`)),o&&p.jsx("rect",{x:g+(o.from-1)*R,y:g+o.fret*D-(u?8:6),width:(o.to-o.from)*R,height:u?16:12,rx:u?8:6,fill:"var(--accent-orange)",className:"barre"}),n.map((X,W)=>X>0?p.jsxs("g",{children:[p.jsx("circle",{cx:g+W*R,cy:g+(X-.5)*D,r:B,fill:"var(--accent-orange)",className:"finger-dot"}),s&&s[W]>0&&p.jsx("text",{x:g+W*R,y:g+(X-.5)*D+(u?5:4),textAnchor:"middle",fill:"#fff",fontSize:Y,fontWeight:"bold",className:"finger-num",children:s[W]})]},`d-${W}`):null),n.map((X,W)=>{const ie=g+W*R,ue=g-12;return X===0?p.jsx("circle",{cx:ie,cy:ue+5,r:u?5:4,fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"open-string"},`o-${W}`):X===-1?p.jsx("text",{x:ie,y:ue+9,textAnchor:"middle",fill:"currentColor",fontSize:u?16:14,className:"mute-string",children:""},`x-${W}`):null})]})},dx=({chord:r,onBack:e,userChords:n,toggleStatus:s})=>{const o=n.mastered.includes(r.id),u=n.learning.includes(r.id),f=vS[r.difficulty]||r.difficulty,y=r.difficulty;return p.jsxs("div",{className:"chord-detail",children:[p.jsx("button",{className:"detail-back-btn",onClick:e,children:" Geri"}),p.jsxs("div",{className:"detail-hero",children:[p.jsxs("div",{className:"detail-hero-left",children:[p.jsx("span",{className:`detail-diff-badge ${y}`,children:f}),p.jsx("h1",{className:"detail-name",children:r.name}),p.jsx("p",{className:"detail-fullname",children:r.fullName}),p.jsx("p",{className:"detail-desc",children:r.description}),p.jsxs("div",{className:"detail-actions",children:[p.jsx("button",{className:`action-btn btn-master ${o?"active":""}`,onClick:()=>s(r.id,"mastered"),children:o?" Ustassn":" Biliyorum"}),p.jsx("button",{className:`action-btn btn-learn ${u?"active":""}`,onClick:()=>s(r.id,"learning"),children:u?" Listede":"+ ren"})]})]}),p.jsx("div",{className:"detail-hero-right",children:p.jsx("div",{className:"detail-diagram",children:p.jsx(ES,{chord:r,size:"large"})})})]}),p.jsxs("div",{className:"detail-section",children:[p.jsx("h2",{children:"Parmak Yerleimi"}),p.jsxs("div",{className:"finger-table",children:[p.jsxs("div",{className:"finger-table-header",children:[p.jsx("span",{children:"Tel"}),p.jsx("span",{children:"Perde"}),p.jsx("span",{children:"Parmak"})]}),r.fingerPlacement.map((g,_)=>p.jsxs("div",{className:"finger-table-row",children:[p.jsx("span",{className:"ft-string",children:g.string}),p.jsx("span",{className:"ft-fret",children:g.fret}),p.jsx("span",{className:"ft-finger",children:g.finger})]},_))]})]}),p.jsxs("div",{className:"detail-section",children:[p.jsx("h2",{children:"pular ve Teknikler"}),p.jsx("ul",{className:"tips-list",children:r.tips.map((g,_)=>p.jsx("li",{children:g},_))})]}),p.jsxs("div",{className:"detail-section",children:[p.jsx("h2",{children:"Bu Akorla alnan arklar"}),p.jsx("div",{className:"songs-list",children:r.commonSongs.map((g,_)=>p.jsxs("div",{className:"song-item",children:[p.jsx("span",{className:"song-icon",children:""}),p.jsx("span",{children:g})]},_))})]})]})};function mx({onBack:r,user:e}){const[n,s]=ne.useState(""),[o,u]=ne.useState("library"),[f,y]=ne.useState("all"),[g,_]=ne.useState(null),[S,R]=ne.useState({mastered:[],learning:[]}),D=(()=>{let G=n?fx(n):Vs;return f!=="all"&&(G=G.filter(le=>le.difficulty===f)),G})(),B=e?.uid||null;ne.useEffect(()=>{R(kE()),B&&P2(B).then(le=>R(le));const G=()=>R(kE());return window.addEventListener("chordsUpdated",G),()=>window.removeEventListener("chordsUpdated",G)},[B]);const Y=(G,le)=>{(S.mastered.includes(G)?"mastered":S.learning.includes(G)?"learning":"none")===le?OE(B,G,"none"):OE(B,G,le)},X=()=>{const G=S.mastered.map(w=>Vs.find(b=>b.id===w)?.name).filter(Boolean).join(", "),le=S.learning.map(w=>Vs.find(b=>b.id===w)?.name).filter(Boolean).join(", "),ae=` **Benim Akor Yolculuum** (Seviye ${yS().level})

 **Ustalatm:** ${G||"Henz yok"}
 **reniyorum:** ${le||"Henz yok"}

#StrumFlowLab ile alyorum!`;navigator.clipboard.writeText(ae),alert("Repertuvar panoya kopyaland! Arkadalarnla paylaabilirsin.")};if(g)return p.jsx("section",{className:"chord-page",children:p.jsx(dx,{chord:g,onBack:()=>_(null),userChords:S,toggleStatus:Y})});const W=G=>{const le=S.mastered.includes(G.id),Te=S.learning.includes(G.id),ae=vS[G.difficulty]||G.difficulty;return p.jsxs("div",{className:`chord-card ${le?"mastered":""} ${Te?"learning":""}`,onClick:()=>_(G),style:{cursor:"pointer"},children:[p.jsxs("div",{className:"card-top",children:[p.jsx("span",{className:`card-diff-badge ${G.difficulty}`,children:ae}),p.jsx("h2",{children:G.name}),p.jsx("span",{className:"chord-full",children:G.fullName})]}),p.jsx("div",{className:"diagram-container",children:p.jsx(ES,{chord:G})}),p.jsx("p",{className:"chord-desc",children:G.description}),p.jsxs("div",{className:"chord-actions",onClick:w=>w.stopPropagation(),children:[p.jsx("button",{className:`action-btn btn-master ${le?"active":""}`,onClick:()=>Y(G.id,"mastered"),title:"Ustalatm (Biliyorum)",children:le?" Ustassn":" Biliyorum"}),p.jsx("button",{className:`action-btn btn-learn ${Te?"active":""}`,onClick:()=>Y(G.id,"learning"),title:"renilecekler listesine ekle",children:Te?" Listede":"+ ren"})]})]},G.id)},ie=[{key:"all",label:"Tm"},{key:"beginner",label:"Balang"},{key:"intermediate",label:"Orta Dzey"},{key:"advanced",label:"Zor"}],ue=(G,le,Te)=>{const ae=D.filter(w=>w.difficulty===G);return ae.length===0?null:p.jsxs("div",{className:"difficulty-section",children:[p.jsxs("div",{className:"difficulty-section-header",children:[p.jsx("span",{className:"diff-emoji",children:Te}),p.jsx("h2",{children:le}),p.jsxs("span",{className:"diff-count",children:[ae.length," akor"]})]}),p.jsx("div",{className:"chord-grid",children:ae.map(W)})]},G)};return p.jsxs("section",{className:"chord-page",children:[p.jsxs("div",{className:"chord-header",children:[p.jsx("span",{className:"chord-icon",children:""}),p.jsx("h1",{children:"Akor Ktphanesi"}),p.jsx("p",{children:"Akorlar kefet, repertuvarn olutur ve payla."})]}),p.jsxs("div",{className:"chord-tabs",children:[p.jsx("button",{className:`tab-btn ${o==="library"?"active":""}`,onClick:()=>u("library"),children:" Tm Akorlar"}),p.jsx("button",{className:`tab-btn ${o==="repertoire"?"active":""}`,onClick:()=>u("repertoire"),children:" Repertuvarm"})]}),o==="library"&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"search-container",children:p.jsx("input",{type:"text",placeholder:"Akor ara (r: Am, G, F#m...)",value:n,onChange:G=>s(G.target.value),className:"chord-search"})}),p.jsx("div",{className:"difficulty-filters",children:ie.map(G=>p.jsx("button",{className:`diff-filter-btn ${f===G.key?"active":""} ${G.key!=="all"?G.key:""}`,onClick:()=>y(G.key),children:G.label},G.key))}),f==="all"?p.jsxs(p.Fragment,{children:[ue("beginner","Balang",""),ue("intermediate","Orta Dzey",""),ue("advanced","Zor","")]}):p.jsx("div",{className:"chord-grid",children:D.map(W)}),D.length===0&&p.jsx("p",{className:"empty-msg",children:"Aramanzla eleen akor bulunamad."})]}),o==="repertoire"&&p.jsxs("div",{className:"repertoire-view",children:[p.jsxs("div",{className:"repertoire-header",children:[p.jsx("h2",{children:"Benim Yolculuum"}),p.jsx("button",{className:"share-btn",onClick:X,children:" Payla"})]}),p.jsxs("div",{className:"repertoire-section",children:[p.jsxs("h3",{children:[" Ustalatklarm (",S.mastered.length,")"]}),S.mastered.length>0?p.jsx("div",{className:"chord-grid",children:S.mastered.map(G=>{const le=Vs.find(Te=>Te.id===G);return le?W(le):null})}):p.jsx("p",{className:"empty-msg",children:"Henz ustalatn bir akor iaretlemedin."})]}),p.jsxs("div",{className:"repertoire-section",children:[p.jsxs("h3",{children:[" reneceklerim (",S.learning.length,")"]}),S.learning.length>0?p.jsx("div",{className:"chord-grid",children:S.learning.map(G=>{const le=Vs.find(Te=>Te.id===G);return le?W(le):null})}):p.jsx("p",{className:"empty-msg",children:"renilecekler listen bo."})]})]})]})}function px(){const[r,e]=ne.useState(!1),[n,s]=ne.useState({name:"",isAdmin:!1,uid:null}),[o,u]=ne.useState(!1),[f,y]=ne.useState("home"),[g,_]=ne.useState({}),[S,R]=ne.useState(null),[D,B]=ne.useState(!0),[Y,X]=ne.useState(()=>localStorage.getItem("strumflow_theme")||"dark");ne.useEffect(()=>{const b=Kw(gh,C=>{if(C){const k=C.email?.split("@")[0]||"Kullanici";s({name:k,isAdmin:!1,uid:C.uid}),e(!0),u(!1)}else n.uid&&(e(!1),s({name:"",isAdmin:!1,uid:null}));B(!1)});return()=>b()},[]),ne.useEffect(()=>{document.documentElement.setAttribute("data-theme",Y),localStorage.setItem("strumflow_theme",Y)},[Y]);const W=()=>{X(b=>b==="dark"?"light":"dark")},ie=(b,C=!1)=>{s({name:b,isAdmin:C,uid:null}),e(!0),u(!1)},ue=async()=>{try{await Qw(gh)}catch{}localStorage.removeItem("strumflow_user_chords"),localStorage.removeItem("strumflow_profile"),window.dispatchEvent(new Event("chordsUpdated")),e(!1),s({name:"",isAdmin:!1,uid:null})},G=(b,C={})=>{y(b),_(C),window.scrollTo({top:0,behavior:"smooth"})},le=()=>{y("home"),_({}),R(null),window.scrollTo({top:0,behavior:"smooth"})},Te=()=>{switch(f){case"home":return p.jsx(DE,{onNavigate:G});case"education":return p.jsx(W2,{onNavigate:G,onBack:le});case"article-view":return p.jsx(ex,{articleId:g.articleId,isLoggedIn:r,user:n,onBack:()=>G("education"),onRequestLogin:()=>u(!0),onNavigate:G});case"chords":return p.jsx(mx,{onBack:le,user:n});case"create-article":return p.jsx(ME,{user:n,onBack:()=>G("education"),onCreated:b=>G("article-view",{articleId:b.id})});case"edit-article":return p.jsx(ME,{user:n,onBack:()=>G("article-view",{articleId:g.article.id}),onCreated:b=>G("article-view",{articleId:b.id}),initialData:g.article});case"library":return p.jsx(tx,{onNavigate:G,onBack:le,isLoggedIn:r,onRequestLogin:()=>u(!0)});case"create":return p.jsx(ix,{user:n,onBack:()=>G("library"),onCreated:b=>G("rhythm-detail",{rhythmId:b.id})});case"rhythm-detail":return p.jsx(ax,{rhythmId:g.rhythmId,user:n,onBack:()=>G("library"),onExercise:b=>{R(b),G("exercise")},onDeleted:()=>G("library")});case"exercise":return S?p.jsx(hx,{rhythm:S,onBack:()=>G("rhythm-detail",{rhythmId:S.id})}):null;default:return p.jsx(DE,{onNavigate:G})}},w=(()=>{switch(f){case"education":case"chords":case"library":return le;case"article-view":case"create-article":return()=>G("education");case"edit-article":return()=>G("article-view",{articleId:g.article?.id});case"create":case"rhythm-detail":return()=>G("library");case"exercise":return()=>G("rhythm-detail",{rhythmId:S?.id});default:return null}})();return p.jsxs("div",{className:"app",children:[p.jsxs("div",{className:"bg-particles",children:[p.jsx("div",{className:"particle"}),p.jsx("div",{className:"particle"}),p.jsx("div",{className:"particle"}),p.jsx("div",{className:"particle"})]}),p.jsx("header",{children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"header-content",children:[p.jsx("div",{className:"logo",onClick:le,children:"StrumFlow Lab"}),p.jsxs("nav",{className:"header-nav",children:[p.jsx("button",{className:`header-nav-link${f==="education"||f==="article-view"||f==="create-article"||f==="edit-article"?" active":""}`,onClick:()=>G("education"),children:"Forum"}),p.jsx("button",{className:`header-nav-link${f==="library"||f==="create"||f==="rhythm-detail"||f==="exercise"?" active":""}`,onClick:()=>G("library"),children:"Ritimler"}),p.jsx("button",{className:`header-nav-link${f==="chords"?" active":""}`,onClick:()=>G("chords"),children:"Akorlar"})]}),p.jsxs("div",{className:"header-right",children:[p.jsx("button",{className:"theme-toggle",onClick:W,title:Y==="dark"?"Aydnlk Mod":"Karanlk Mod",children:p.jsx("span",{className:"theme-icon",children:Y==="dark"?"":""})}),r?p.jsxs("div",{className:"user-profile",children:[p.jsxs("span",{className:"user-name",children:[n.isAdmin&&p.jsx("span",{className:"admin-badge",children:"ADMIN"}),n.name]}),p.jsx("button",{className:"logout-btn",onClick:ue,children:"k"})]}):p.jsx("button",{className:"login-btn",onClick:()=>u(!0),children:"Giri Yap"})]})]})})}),o&&p.jsx(k2,{onLogin:ie,onClose:()=>u(!1)}),p.jsx("div",{className:"page-enter",children:Te()},f),w&&p.jsx("button",{className:"sticky-back-btn",onClick:w,children:" Geri Dn"})]})}ab.createRoot(document.getElementById("root")).render(p.jsx(ne.StrictMode,{children:p.jsx(px,{})}));
