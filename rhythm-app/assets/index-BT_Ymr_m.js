(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var kd={exports:{}},fo={};var I_;function A1(){if(I_)return fo;I_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:u}}return fo.Fragment=e,fo.jsx=i,fo.jsxs=i,fo}var x_;function w1(){return x_||(x_=1,kd.exports=A1()),kd.exports}var m=w1(),Dd={exports:{}},be={};var k_;function R1(){if(k_)return be;k_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),D=Symbol.iterator;function H(V){return V===null||typeof V!="object"?null:(V=D&&V[D]||V["@@iterator"],typeof V=="function"?V:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,W={};function le(V,X,ae){this.props=V,this.context=X,this.refs=W,this.updater=ae||Z}le.prototype.isReactComponent={},le.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},le.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function fe(){}fe.prototype=le.prototype;function G(V,X,ae){this.props=V,this.context=X,this.refs=W,this.updater=ae||Z}var oe=G.prototype=new fe;oe.constructor=G,$(oe,le.prototype),oe.isPureReactComponent=!0;var ie=Array.isArray;function re(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(V,X,ae){var ue=ae.ref;return{$$typeof:r,type:V,key:X,ref:ue!==void 0?ue:null,props:ae}}function k(V,X){return N(V.type,X,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function O(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return X[ae]})}var C=/\/+/g;function je(V,X){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):X.toString(36)}function tt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(re,re):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,X,ae,ue,Te){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Pe=!1;if(V===null)Pe=!0;else switch(Ce){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(V.$$typeof){case r:case e:Pe=!0;break;case S:return Pe=V._init,F(Pe(V._payload),X,ae,ue,Te)}}if(Pe)return Te=Te(V),Pe=ue===""?"."+je(V,0):ue,ie(Te)?(ae="",Pe!=null&&(ae=Pe.replace(C,"$&/")+"/"),F(Te,X,ae,"",function(ts){return ts})):Te!=null&&(I(Te)&&(Te=k(Te,ae+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(C,"$&/")+"/")+Pe)),X.push(Te)),1;Pe=0;var Nt=ue===""?".":ue+":";if(ie(V))for(var st=0;st<V.length;st++)ue=V[st],Ce=Nt+je(ue,st),Pe+=F(ue,X,ae,Ce,Te);else if(st=H(V),typeof st=="function")for(V=st.call(V),st=0;!(ue=V.next()).done;)ue=ue.value,Ce=Nt+je(ue,st++),Pe+=F(ue,X,ae,Ce,Te);else if(Ce==="object"){if(typeof V.then=="function")return F(tt(V),X,ae,ue,Te);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function te(V,X,ae){if(V==null)return V;var ue=[],Te=0;return F(V,ue,"","",function(Ce){return X.call(ae,Ce,Te++)}),ue}function ge(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var ze=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ye={map:te,forEach:function(V,X,ae){te(V,function(){X.apply(this,arguments)},ae)},count:function(V){var X=0;return te(V,function(){X++}),X},toArray:function(V){return te(V,function(X){return X})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return be.Activity=w,be.Children=Ye,be.Component=le,be.Fragment=i,be.Profiler=o,be.PureComponent=G,be.StrictMode=s,be.Suspense=y,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,be.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},be.cache=function(V){return function(){return V.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(V,X,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=$({},V.props),Te=V.key;if(X!=null)for(Ce in X.key!==void 0&&(Te=""+X.key),X)!A.call(X,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&X.ref===void 0||(ue[Ce]=X[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=ae;else if(1<Ce){for(var Pe=Array(Ce),Nt=0;Nt<Ce;Nt++)Pe[Nt]=arguments[Nt+2];ue.children=Pe}return N(V.type,Te,ue)},be.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},be.createElement=function(V,X,ae){var ue,Te={},Ce=null;if(X!=null)for(ue in X.key!==void 0&&(Ce=""+X.key),X)A.call(X,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Te[ue]=X[ue]);var Pe=arguments.length-2;if(Pe===1)Te.children=ae;else if(1<Pe){for(var Nt=Array(Pe),st=0;st<Pe;st++)Nt[st]=arguments[st+2];Te.children=Nt}if(V&&V.defaultProps)for(ue in Pe=V.defaultProps,Pe)Te[ue]===void 0&&(Te[ue]=Pe[ue]);return N(V,Ce,Te)},be.createRef=function(){return{current:null}},be.forwardRef=function(V){return{$$typeof:g,render:V}},be.isValidElement=I,be.lazy=function(V){return{$$typeof:S,_payload:{_status:-1,_result:V},_init:ge}},be.memo=function(V,X){return{$$typeof:v,type:V,compare:X===void 0?null:X}},be.startTransition=function(V){var X=R.T,ae={};R.T=ae;try{var ue=V(),Te=R.S;Te!==null&&Te(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(re,ze)}catch(Ce){ze(Ce)}finally{X!==null&&ae.types!==null&&(X.types=ae.types),R.T=X}},be.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},be.use=function(V){return R.H.use(V)},be.useActionState=function(V,X,ae){return R.H.useActionState(V,X,ae)},be.useCallback=function(V,X){return R.H.useCallback(V,X)},be.useContext=function(V){return R.H.useContext(V)},be.useDebugValue=function(){},be.useDeferredValue=function(V,X){return R.H.useDeferredValue(V,X)},be.useEffect=function(V,X){return R.H.useEffect(V,X)},be.useEffectEvent=function(V){return R.H.useEffectEvent(V)},be.useId=function(){return R.H.useId()},be.useImperativeHandle=function(V,X,ae){return R.H.useImperativeHandle(V,X,ae)},be.useInsertionEffect=function(V,X){return R.H.useInsertionEffect(V,X)},be.useLayoutEffect=function(V,X){return R.H.useLayoutEffect(V,X)},be.useMemo=function(V,X){return R.H.useMemo(V,X)},be.useOptimistic=function(V,X){return R.H.useOptimistic(V,X)},be.useReducer=function(V,X,ae){return R.H.useReducer(V,X,ae)},be.useRef=function(V){return R.H.useRef(V)},be.useState=function(V){return R.H.useState(V)},be.useSyncExternalStore=function(V,X,ae){return R.H.useSyncExternalStore(V,X,ae)},be.useTransition=function(){return R.H.useTransition()},be.version="19.2.4",be}var D_;function Em(){return D_||(D_=1,Dd.exports=R1()),Dd.exports}var se=Em(),Od={exports:{}},mo={},Md={exports:{}},Vd={};var O_;function C1(){return O_||(O_=1,(function(r){function e(F,te){var ge=F.length;F.push(te);e:for(;0<ge;){var ze=ge-1>>>1,Ye=F[ze];if(0<o(Ye,te))F[ze]=te,F[ge]=Ye,ge=ze;else break e}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var te=F[0],ge=F.pop();if(ge!==te){F[0]=ge;e:for(var ze=0,Ye=F.length,V=Ye>>>1;ze<V;){var X=2*(ze+1)-1,ae=F[X],ue=X+1,Te=F[ue];if(0>o(ae,ge))ue<Ye&&0>o(Te,ae)?(F[ze]=Te,F[ue]=ge,ze=ue):(F[ze]=ae,F[X]=ge,ze=X);else if(ue<Ye&&0>o(Te,ge))F[ze]=Te,F[ue]=ge,ze=ue;else break e}}return te}function o(F,te){var ge=F.sortIndex-te.sortIndex;return ge!==0?ge:F.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],v=[],S=1,w=null,D=3,H=!1,Z=!1,$=!1,W=!1,le=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function oe(F){for(var te=i(v);te!==null;){if(te.callback===null)s(v);else if(te.startTime<=F)s(v),te.sortIndex=te.expirationTime,e(y,te);else break;te=i(v)}}function ie(F){if($=!1,oe(F),!Z)if(i(y)!==null)Z=!0,re||(re=!0,O());else{var te=i(v);te!==null&&tt(ie,te.startTime-F)}}var re=!1,R=-1,A=5,N=-1;function k(){return W?!0:!(r.unstable_now()-N<A)}function I(){if(W=!1,re){var F=r.unstable_now();N=F;var te=!0;try{e:{Z=!1,$&&($=!1,fe(R),R=-1),H=!0;var ge=D;try{t:{for(oe(F),w=i(y);w!==null&&!(w.expirationTime>F&&k());){var ze=w.callback;if(typeof ze=="function"){w.callback=null,D=w.priorityLevel;var Ye=ze(w.expirationTime<=F);if(F=r.unstable_now(),typeof Ye=="function"){w.callback=Ye,oe(F),te=!0;break t}w===i(y)&&s(y),oe(F)}else s(y);w=i(y)}if(w!==null)te=!0;else{var V=i(v);V!==null&&tt(ie,V.startTime-F),te=!1}}break e}finally{w=null,D=ge,H=!1}te=void 0}}finally{te?O():re=!1}}}var O;if(typeof G=="function")O=function(){G(I)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,je=C.port2;C.port1.onmessage=I,O=function(){je.postMessage(null)}}else O=function(){le(I,0)};function tt(F,te){R=le(function(){F(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(F){switch(D){case 1:case 2:case 3:var te=3;break;default:te=D}var ge=D;D=te;try{return F()}finally{D=ge}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ge=D;D=F;try{return te()}finally{D=ge}},r.unstable_scheduleCallback=function(F,te,ge){var ze=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ze+ge:ze):ge=ze,F){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=ge+Ye,F={id:S++,callback:te,priorityLevel:F,startTime:ge,expirationTime:Ye,sortIndex:-1},ge>ze?(F.sortIndex=ge,e(v,F),i(y)===null&&F===i(v)&&($?(fe(R),R=-1):$=!0,tt(ie,ge-ze))):(F.sortIndex=Ye,e(y,F),Z||H||(Z=!0,re||(re=!0,O()))),F},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(F){var te=D;return function(){var ge=D;D=te;try{return F.apply(this,arguments)}finally{D=ge}}}})(Vd)),Vd}var M_;function N1(){return M_||(M_=1,Md.exports=C1()),Md.exports}var jd={exports:{}},Kt={};var V_;function I1(){if(V_)return Kt;V_=1;var r=Em();function e(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,v,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:v,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(y,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(y,v,null,S)},Kt.flushSync=function(y){var v=d.T,S=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=v,s.p=S,s.d.f()}},Kt.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(y,v))},Kt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Kt.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var S=v.as,w=g(S,v.crossOrigin),D=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?s.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:D,fetchPriority:H}):S==="script"&&s.d.X(y,{crossOrigin:w,integrity:D,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Kt.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=g(v.as,v.crossOrigin);s.d.M(y,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(y)},Kt.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,w=g(S,v.crossOrigin);s.d.L(y,S,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Kt.preloadModule=function(y,v){if(typeof y=="string")if(v){var S=g(v.as,v.crossOrigin);s.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(y)},Kt.requestFormReset=function(y){s.d.r(y)},Kt.unstable_batchedUpdates=function(y,v){return y(v)},Kt.useFormState=function(y,v,S){return d.H.useFormState(y,v,S)},Kt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Kt.version="19.2.4",Kt}var j_;function x1(){if(j_)return jd.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jd.exports=I1(),jd.exports}var L_;function k1(){if(L_)return mo;L_=1;var r=N1(),e=Em(),i=x1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(s(188))}function v(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=f;break}if(T===l){_=!0,l=h,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,l=h;break}if(T===l){_=!0,l=f,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,D=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),fe=Symbol.for("react.consumer"),G=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case le:return"Profiler";case W:return"StrictMode";case ie:return"Suspense";case re:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case G:return t.displayName||"Context";case fe:return(t._context.displayName||"Context")+".Consumer";case oe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:je(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return je(t(n))}catch{}}return null}var tt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ze=[],Ye=-1;function V(t){return{current:t}}function X(t){0>Ye||(t.current=ze[Ye],ze[Ye]=null,Ye--)}function ae(t,n){Ye++,ze[Ye]=t.current,t.current=n}var ue=V(null),Te=V(null),Ce=V(null),Pe=V(null);function Nt(t,n){switch(ae(Ce,n),ae(Te,t),ae(ue,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Wy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Wy(n),t=Zy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ue),ae(ue,t)}function st(){X(ue),X(Te),X(Ce)}function ts(t){t.memoizedState!==null&&ae(Pe,t);var n=ue.current,a=Zy(n,t.type);n!==a&&(ae(Te,t),ae(ue,a))}function Qs(t){Te.current===t&&(X(ue),X(Te)),Pe.current===t&&(X(Pe),oo._currentValue=ge)}var Xs,Js;function Zn(t){if(Xs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Xs=n&&n[1]||"",Js=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xs+t+Js}var ol=!1;function ns(t,n){if(!t||ol)return"";ol=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var z=q}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(q){z=q}t.call(Q.prototype)}}else{try{throw Error()}catch(q){z=q}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var x=_.split(`
`),U=T.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===U.length)for(l=x.length-1,h=U.length-1;1<=l&&0<=h&&x[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==U[h]){var Y=`
`+x[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{ol=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Zn(a):""}function cl(t,n){switch(t.tag){case 26:case 27:case 5:return Zn(t.type);case 16:return Zn("Lazy");case 13:return t.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return ns(t.type,!1);case 11:return ns(t.type.render,!1);case 1:return ns(t.type,!0);case 31:return Zn("Activity");default:return""}}function ul(t){try{var n="",a=null;do n+=cl(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yt=Object.prototype.hasOwnProperty,It=r.unstable_scheduleCallback,ir=r.unstable_cancelCallback,Dh=r.unstable_shouldYield,tc=r.unstable_requestPaint,Wt=r.unstable_now,is=r.unstable_getCurrentPriorityLevel,hl=r.unstable_ImmediatePriority,fl=r.unstable_UserBlockingPriority,rr=r.unstable_NormalPriority,Oh=r.unstable_LowPriority,nc=r.unstable_IdlePriority,ic=r.log,rc=r.unstable_setDisableYieldValue,Ln=null,Pt=null;function Tn(t){if(typeof ic=="function"&&rc(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Ln,t)}catch{}}var ft=Math.clz32?Math.clz32:ac,sc=Math.log,$s=Math.LN2;function ac(t){return t>>>=0,t===0?32:31-(sc(t)/$s|0)|0}var ei=256,rs=262144,_t=4194304;function ti(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ni(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=ti(l):(_&=T,_!==0?h=ti(_):a||(a=T&~t,a!==0&&(h=ti(a))))):(T=l&~f,T!==0?h=ti(T):_!==0?h=ti(_):a||(a=l&~t,a!==0&&(h=ti(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Mh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lc(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function ii(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ss(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vh(t,n,a,l,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,x=t.expirationTimes,U=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-ft(a),Q=1<<Y;T[Y]=0,x[Y]=-1;var z=U[Y];if(z!==null)for(U[Y]=null,Y=0;Y<z.length;Y++){var q=z[Y];q!==null&&(q.lane&=-536870913)}a&=~Q}l!==0&&as(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function as(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ft(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function dl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ft(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function ml(t,n){var a=n&-n;return a=(a&42)!==0?1:ls(a),(a&(t.suspendedLanes|n))!==0?0:a}function ls(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ii(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function oc(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:S_(t.type))}function Un(t,n){var a=te.p;try{return te.p=t,n()}finally{te.p=a}}var zn=Math.random().toString(36).slice(2),vt="__reactFiber$"+zn,Ot="__reactProps$"+zn,ri="__reactContainer$"+zn,Ws="__reactEvents$"+zn,jh="__reactListeners$"+zn,cc="__reactHandles$"+zn,uc="__reactResources$"+zn,si="__reactMarker$"+zn;function Zs(t){delete t[vt],delete t[Ot],delete t[Ws],delete t[jh],delete t[cc]}function ai(t){var n=t[vt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ri]||a[vt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=a_(t);t!==null;){if(a=t[vt])return a;t=a_(t)}return n}t=a,a=t.parentNode}return null}function Sn(t){if(t=t[vt]||t[ri]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function li(t){var n=t[uc];return n||(n=t[uc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Et(t){t[si]=!0}var pl=new Set,gl={};function oi(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(gl[t]=n,t=0;t<n.length;t++)pl.add(n[t])}var yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},vl={};function hc(t){return yt.call(vl,t)?!0:yt.call(_l,t)?!1:yl.test(t)?vl[t]=!0:(_l[t]=!0,!1)}function ea(t,n,a){if(hc(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function hn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Tt(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Mt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function El(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ke(t){if(!t._valueTracker){var n=sr(t)?"checked":"value";t._valueTracker=El(t,n,""+t[n])}}function os(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=sr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ui(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cs=/[\n"\\]/g;function tn(t){return t.replace(cs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(t,n,a,l,h,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Mt(n)):t.value!==""+Mt(n)&&(t.value=""+Mt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Tl(t,_,Mt(n)):a!=null?Tl(t,_,Mt(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Mt(T):t.removeAttribute("name")}function fc(t,n,a,l,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ke(t);return}a=a!=null?""+Mt(a):"",n=n!=null?""+Mt(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Tl(t,n,a){n==="number"&&ui(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ar(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Mt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function dc(t,n,a){if(n!=null&&(n=""+Mt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Mt(a):""}function lr(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(tt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Mt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function nn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var mc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||mc.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function bl(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Sl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Sl(t,f,n[f])}function na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(t){return or.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var Al=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cr=null,hi=null;function us(t){var n=Sn(t);if(n&&(t=n.stateNode)){var a=t[Ot]||null;e:switch(t=n.stateNode,n.type){case"input":if(ta(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Ot]||null;if(!h)throw Error(s(90));ta(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&os(l)}break e;case"textarea":dc(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ar(t,!!a.multiple,n,!1)}}}var ra=!1;function ur(t,n,a){if(ra)return t(n,a);ra=!0;try{var l=t(n);return l}finally{if(ra=!1,(cr!==null||hi!==null)&&(ou(),cr&&(n=cr,t=hi,hi=cr=null,us(n),t)))for(n=0;n<t.length;n++)us(t[n])}}function Hn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ot]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hs=!1;if(An)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){hs=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{hs=!1}var fi=null,wl=null,fs=null;function Rl(){if(fs)return fs;var t,n=wl,a=n.length,l,h="value"in fi?fi.value:fi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&n[a-l]===h[f-l];l++);return fs=h.slice(t,1<l?1-l:void 0)}function ds(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function xi(){return!0}function qn(){return!1}function Ut(t){function n(a,l,h,f,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:qn,this.isPropagationStopped=qn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=Ut(ki),hr=w({},ki,{view:0,detail:0}),Cl=Ut(hr),fr,sa,mi,aa=w({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mi&&(mi&&t.type==="mousemove"?(fr=t.screenX-mi.screenX,sa=t.screenY-mi.screenY):sa=fr=0,mi=t),fr)},movementY:function(t){return"movementY"in t?t.movementY:sa}}),Nl=Ut(aa),ms=w({},aa,{dataTransfer:0}),gc=Ut(ms),yc=w({},hr,{relatedTarget:0}),ps=Ut(yc),Il=w({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),_c=Ut(Il),la=w({},ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vc=Ut(la),Ec=w({},ki,{data:0}),pi=Ut(Ec),Tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ac(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=bc[t])?!!n[t]:!1}function dr(){return Ac}var Zt=w({},hr,{key:function(t){if(t.key){var n=Tc[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(t){return t.type==="keypress"?ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wc=Ut(Zt),Rc=w({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=Ut(Rc),c=w({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),p=Ut(c),E=w({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ut(E),L=w({},aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ut(L),ne=w({},ki,{newState:0,oldState:0}),we=Ut(ne),dt=[9,13,27,32],qe=An&&"CompositionEvent"in window,at=null;An&&"documentMode"in document&&(at=document.documentMode);var wn=An&&"TextEvent"in window&&!at,gi=An&&(!qe||at&&8<at&&11>=at),Gn=" ",Fn=!1;function gs(t,n){switch(t){case"keyup":return dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ca=!1;function QT(t,n){switch(t){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Fn=!0,Gn);case"textInput":return t=n.data,t===Gn&&Fn?null:t;default:return null}}function XT(t,n){if(ca)return t==="compositionend"||!qe&&gs(t,n)?(t=Rl(),fs=wl=fi=null,ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var JT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!JT[t.type]:n==="textarea"}function up(t,n,a,l){cr?hi?hi.push(l):hi=[l]:cr=l,n=pu(n,"onChange"),0<n.length&&(a=new di("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var xl=null,kl=null;function $T(t){Yy(t,0)}function Cc(t){var n=un(t);if(os(n))return t}function hp(t,n){if(t==="change")return n}var fp=!1;if(An){var Lh;if(An){var Ph="oninput"in document;if(!Ph){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),Ph=typeof dp.oninput=="function"}Lh=Ph}else Lh=!1;fp=Lh&&(!document.documentMode||9<document.documentMode)}function mp(){xl&&(xl.detachEvent("onpropertychange",pp),kl=xl=null)}function pp(t){if(t.propertyName==="value"&&Cc(kl)){var n=[];up(n,kl,t,bn(t)),ur($T,n)}}function WT(t,n,a){t==="focusin"?(mp(),xl=n,kl=a,xl.attachEvent("onpropertychange",pp)):t==="focusout"&&mp()}function ZT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cc(kl)}function eS(t,n){if(t==="click")return Cc(n)}function tS(t,n){if(t==="input"||t==="change")return Cc(n)}function nS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fn=typeof Object.is=="function"?Object.is:nS;function Dl(t,n){if(fn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!yt.call(n,h)||!fn(t[h],n[h]))return!1}return!0}function gp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yp(t,n){var a=gp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gp(a)}}function _p(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?_p(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function vp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ui(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ui(t.document)}return n}function Uh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var iS=An&&"documentMode"in document&&11>=document.documentMode,ua=null,zh=null,Ol=null,Bh=!1;function Ep(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bh||ua==null||ua!==ui(l)||(l=ua,"selectionStart"in l&&Uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ol&&Dl(Ol,l)||(Ol=l,l=pu(zh,"onSelect"),0<l.length&&(n=new di("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ua)))}function ys(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ha={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},Hh={},Tp={};An&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function _s(t){if(Hh[t])return Hh[t];if(!ha[t])return t;var n=ha[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Tp)return Hh[t]=n[a];return t}var Sp=_s("animationend"),bp=_s("animationiteration"),Ap=_s("animationstart"),rS=_s("transitionrun"),sS=_s("transitionstart"),aS=_s("transitioncancel"),wp=_s("transitionend"),Rp=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function Yn(t,n){Rp.set(t,n),oi(n,[t])}var Nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],fa=0,Gh=0;function Ic(){for(var t=fa,n=Gh=fa=0;n<t;){var a=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&Cp(a,h,f)}}function xc(t,n,a,l){Rn[fa++]=t,Rn[fa++]=n,Rn[fa++]=a,Rn[fa++]=l,Gh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Fh(t,n,a,l){return xc(t,n,a,l),kc(t)}function vs(t,n){return xc(t,null,null,n),kc(t)}function Cp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ft(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function kc(t){if(50<to)throw to=0,td=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var da={};function lS(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,a,l){return new lS(t,n,a,l)}function Yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Oi(t,n){var a=t.alternate;return a===null?(a=dn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Np(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Dc(t,n,a,l,h,f){var _=0;if(l=t,typeof t=="function")Yh(t)&&(_=1);else if(typeof t=="string")_=f1(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=dn(31,a,n,h),t.elementType=N,t.lanes=f,t;case $:return Es(a.children,h,f,n);case W:_=8,h|=24;break;case le:return t=dn(12,a,n,h|2),t.elementType=le,t.lanes=f,t;case ie:return t=dn(13,a,n,h),t.elementType=ie,t.lanes=f,t;case re:return t=dn(19,a,n,h),t.elementType=re,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:_=10;break e;case fe:_=9;break e;case oe:_=11;break e;case R:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=dn(_,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Es(t,n,a,l){return t=dn(7,t,l,n),t.lanes=a,t}function Kh(t,n,a){return t=dn(6,t,null,n),t.lanes=a,t}function Ip(t){var n=dn(18,null,null,0);return n.stateNode=t,n}function Qh(t,n,a){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var xp=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var a=xp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ul(n)},xp.set(t,n),n)}return{value:t,source:n,stack:ul(n)}}var ma=[],pa=0,Oc=null,Ml=0,Nn=[],In=0,mr=null,yi=1,_i="";function Mi(t,n){ma[pa++]=Ml,ma[pa++]=Oc,Oc=t,Ml=n}function kp(t,n,a){Nn[In++]=yi,Nn[In++]=_i,Nn[In++]=mr,mr=t;var l=yi;t=_i;var h=32-ft(l)-1;l&=~(1<<h),a+=1;var f=32-ft(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,yi=1<<32-ft(n)+h|a<<h|l,_i=f+t}else yi=1<<f|a<<h|l,_i=t}function Xh(t){t.return!==null&&(Mi(t,1),kp(t,1,0))}function Jh(t){for(;t===Oc;)Oc=ma[--pa],ma[pa]=null,Ml=ma[--pa],ma[pa]=null;for(;t===mr;)mr=Nn[--In],Nn[In]=null,_i=Nn[--In],Nn[In]=null,yi=Nn[--In],Nn[In]=null}function Dp(t,n){Nn[In++]=yi,Nn[In++]=_i,Nn[In++]=mr,yi=n.id,_i=n.overflow,mr=t}var zt=null,nt=null,Le=!1,pr=null,xn=!1,$h=Error(s(519));function gr(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(Cn(n,t)),$h}function Op(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[vt]=t,n[Ot]=l,a){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(a=0;a<io.length;a++)xe(io[a],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":xe("invalid",n),fc(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",n);break;case"textarea":xe("invalid",n),lr(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Jy(n.textContent,a)?(l.popover!=null&&(xe("beforetoggle",n),xe("toggle",n)),l.onScroll!=null&&xe("scroll",n),l.onScrollEnd!=null&&xe("scrollend",n),l.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||gr(t,!0)}function Mp(t){for(zt=t.return;zt;)switch(zt.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:zt=zt.return}}function ga(t){if(t!==zt)return!1;if(!Le)return Mp(t),Le=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||gd(t.type,t.memoizedProps)),a=!a),a&&nt&&gr(t),Mp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=s_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=s_(t)}else n===27?(n=nt,xr(t.type)?(t=Td,Td=null,nt=t):nt=n):nt=zt?Dn(t.stateNode.nextSibling):null;return!0}function Ts(){nt=zt=null,Le=!1}function Wh(){var t=pr;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),pr=null),t}function Vl(t){pr===null?pr=[t]:pr.push(t)}var Zh=V(null),Ss=null,Vi=null;function yr(t,n,a){ae(Zh,n._currentValue),n._currentValue=a}function ji(t){t._currentValue=Zh.current,X(Zh)}function ef(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function tf(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var x=0;x<n.length;x++)if(T.context===n[x]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),ef(f.return,a,t),l||(_=null);break e}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),ef(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ya(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;fn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Pe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(oo):t=[oo])}h=h.return}t!==null&&tf(n,t,a,l),n.flags|=262144}function Mc(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function bs(t){Ss=t,Vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Bt(t){return Vp(Ss,t)}function Vc(t,n){return Ss===null&&bs(t),Vp(t,n)}function Vp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Vi===null){if(t===null)throw Error(s(308));Vi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Vi=Vi.next=n;return a}var oS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},cS=r.unstable_scheduleCallback,uS=r.unstable_NormalPriority,St={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new oS,data:new Map,refCount:0}}function jl(t){t.refCount--,t.refCount===0&&cS(uS,function(){t.controller.abort()})}var Ll=null,rf=0,_a=0,va=null;function hS(t,n){if(Ll===null){var a=Ll=[];rf=0,_a=ld(),va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rf++,n.then(jp,jp),n}function jp(){if(--rf===0&&Ll!==null){va!==null&&(va.status="fulfilled");var t=Ll;Ll=null,_a=0,va=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function fS(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Lp=F.S;F.S=function(t,n){Ey=Wt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&hS(t,n),Lp!==null&&Lp(t,n)};var As=V(null);function sf(){var t=As.current;return t!==null?t:et.pooledCache}function jc(t,n){n===null?ae(As,As.current):ae(As,n.pool)}function Pp(){var t=sf();return t===null?null:{parent:St._currentValue,pool:t}}var Ea=Error(s(460)),af=Error(s(474)),Lc=Error(s(542)),Pc={then:function(){}};function Up(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Bn,Bn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hp(t),t;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hp(t),t}throw Rs=n,Ea}}function ws(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Rs=a,Ea):a}}var Rs=null;function Bp(){if(Rs===null)throw Error(s(459));var t=Rs;return Rs=null,t}function Hp(t){if(t===Ea||t===Lc)throw Error(s(483))}var Ta=null,Pl=0;function Uc(t){var n=Pl;return Pl+=1,Ta===null&&(Ta=[]),zp(Ta,t,n)}function Ul(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function zc(t,n){throw n.$$typeof===D?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function qp(t){function n(j,M){if(t){var P=j.deletions;P===null?(j.deletions=[M],j.flags|=16):P.push(M)}}function a(j,M){if(!t)return null;for(;M!==null;)n(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=Oi(j,M),j.index=0,j.sibling=null,j}function f(j,M,P){return j.index=P,t?(P=j.alternate,P!==null?(P=P.index,P<M?(j.flags|=67108866,M):P):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,M,P,K){return M===null||M.tag!==6?(M=Kh(P,j.mode,K),M.return=j,M):(M=h(M,P),M.return=j,M)}function x(j,M,P,K){var pe=P.type;return pe===$?Y(j,M,P.props.children,K,P.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&ws(pe)===M.type)?(M=h(M,P.props),Ul(M,P),M.return=j,M):(M=Dc(P.type,P.key,P.props,null,j.mode,K),Ul(M,P),M.return=j,M)}function U(j,M,P,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Qh(P,j.mode,K),M.return=j,M):(M=h(M,P.children||[]),M.return=j,M)}function Y(j,M,P,K,pe){return M===null||M.tag!==7?(M=Es(P,j.mode,K,pe),M.return=j,M):(M=h(M,P),M.return=j,M)}function Q(j,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Kh(""+M,j.mode,P),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case H:return P=Dc(M.type,M.key,M.props,null,j.mode,P),Ul(P,M),P.return=j,P;case Z:return M=Qh(M,j.mode,P),M.return=j,M;case A:return M=ws(M),Q(j,M,P)}if(tt(M)||O(M))return M=Es(M,j.mode,P,null),M.return=j,M;if(typeof M.then=="function")return Q(j,Uc(M),P);if(M.$$typeof===G)return Q(j,Vc(j,M),P);zc(j,M)}return null}function z(j,M,P,K){var pe=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pe!==null?null:T(j,M,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===pe?x(j,M,P,K):null;case Z:return P.key===pe?U(j,M,P,K):null;case A:return P=ws(P),z(j,M,P,K)}if(tt(P)||O(P))return pe!==null?null:Y(j,M,P,K,null);if(typeof P.then=="function")return z(j,M,Uc(P),K);if(P.$$typeof===G)return z(j,M,Vc(j,P),K);zc(j,P)}return null}function q(j,M,P,K,pe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return j=j.get(P)||null,T(M,j,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return j=j.get(K.key===null?P:K.key)||null,x(M,j,K,pe);case Z:return j=j.get(K.key===null?P:K.key)||null,U(M,j,K,pe);case A:return K=ws(K),q(j,M,P,K,pe)}if(tt(K)||O(K))return j=j.get(P)||null,Y(M,j,K,pe,null);if(typeof K.then=="function")return q(j,M,P,Uc(K),pe);if(K.$$typeof===G)return q(j,M,P,Vc(M,K),pe);zc(M,K)}return null}function he(j,M,P,K){for(var pe=null,Be=null,de=M,Ne=M=0,De=null;de!==null&&Ne<P.length;Ne++){de.index>Ne?(De=de,de=null):De=de.sibling;var He=z(j,de,P[Ne],K);if(He===null){de===null&&(de=De);break}t&&de&&He.alternate===null&&n(j,de),M=f(He,M,Ne),Be===null?pe=He:Be.sibling=He,Be=He,de=De}if(Ne===P.length)return a(j,de),Le&&Mi(j,Ne),pe;if(de===null){for(;Ne<P.length;Ne++)de=Q(j,P[Ne],K),de!==null&&(M=f(de,M,Ne),Be===null?pe=de:Be.sibling=de,Be=de);return Le&&Mi(j,Ne),pe}for(de=l(de);Ne<P.length;Ne++)De=q(de,j,Ne,P[Ne],K),De!==null&&(t&&De.alternate!==null&&de.delete(De.key===null?Ne:De.key),M=f(De,M,Ne),Be===null?pe=De:Be.sibling=De,Be=De);return t&&de.forEach(function(Vr){return n(j,Vr)}),Le&&Mi(j,Ne),pe}function _e(j,M,P,K){if(P==null)throw Error(s(151));for(var pe=null,Be=null,de=M,Ne=M=0,De=null,He=P.next();de!==null&&!He.done;Ne++,He=P.next()){de.index>Ne?(De=de,de=null):De=de.sibling;var Vr=z(j,de,He.value,K);if(Vr===null){de===null&&(de=De);break}t&&de&&Vr.alternate===null&&n(j,de),M=f(Vr,M,Ne),Be===null?pe=Vr:Be.sibling=Vr,Be=Vr,de=De}if(He.done)return a(j,de),Le&&Mi(j,Ne),pe;if(de===null){for(;!He.done;Ne++,He=P.next())He=Q(j,He.value,K),He!==null&&(M=f(He,M,Ne),Be===null?pe=He:Be.sibling=He,Be=He);return Le&&Mi(j,Ne),pe}for(de=l(de);!He.done;Ne++,He=P.next())He=q(de,j,Ne,He.value,K),He!==null&&(t&&He.alternate!==null&&de.delete(He.key===null?Ne:He.key),M=f(He,M,Ne),Be===null?pe=He:Be.sibling=He,Be=He);return t&&de.forEach(function(b1){return n(j,b1)}),Le&&Mi(j,Ne),pe}function Ze(j,M,P,K){if(typeof P=="object"&&P!==null&&P.type===$&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:e:{for(var pe=P.key;M!==null;){if(M.key===pe){if(pe=P.type,pe===$){if(M.tag===7){a(j,M.sibling),K=h(M,P.props.children),K.return=j,j=K;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&ws(pe)===M.type){a(j,M.sibling),K=h(M,P.props),Ul(K,P),K.return=j,j=K;break e}a(j,M);break}else n(j,M);M=M.sibling}P.type===$?(K=Es(P.props.children,j.mode,K,P.key),K.return=j,j=K):(K=Dc(P.type,P.key,P.props,null,j.mode,K),Ul(K,P),K.return=j,j=K)}return _(j);case Z:e:{for(pe=P.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){a(j,M.sibling),K=h(M,P.children||[]),K.return=j,j=K;break e}else{a(j,M);break}else n(j,M);M=M.sibling}K=Qh(P,j.mode,K),K.return=j,j=K}return _(j);case A:return P=ws(P),Ze(j,M,P,K)}if(tt(P))return he(j,M,P,K);if(O(P)){if(pe=O(P),typeof pe!="function")throw Error(s(150));return P=pe.call(P),_e(j,M,P,K)}if(typeof P.then=="function")return Ze(j,M,Uc(P),K);if(P.$$typeof===G)return Ze(j,M,Vc(j,P),K);zc(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(a(j,M.sibling),K=h(M,P),K.return=j,j=K):(a(j,M),K=Kh(P,j.mode,K),K.return=j,j=K),_(j)):a(j,M)}return function(j,M,P,K){try{Pl=0;var pe=Ze(j,M,P,K);return Ta=null,pe}catch(de){if(de===Ea||de===Lc)throw de;var Be=dn(29,de,null,j.mode);return Be.lanes=K,Be.return=j,Be}}}var Cs=qp(!0),Gp=qp(!1),_r=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Er(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=kc(t),Cp(t,null,a),n}return xc(t,l,n,a),kc(t)}function zl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,dl(t,a)}}function cf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var uf=!1;function Bl(){if(uf){var t=va;if(t!==null)throw t}}function Hl(t,n,a,l){uf=!1;var h=t.updateQueue;_r=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,U=x.next;x.next=null,_===null?f=U:_.next=U,_=x;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=U:T.next=U,Y.lastBaseUpdate=x))}if(f!==null){var Q=h.baseState;_=0,Y=U=x=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(ke&z)===z:(l&z)===z){z!==0&&z===_a&&(uf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,_e=T;z=n;var Ze=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){Q=he.call(Ze,Q,z);break e}Q=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,z=typeof he=="function"?he.call(Ze,Q,z):he,z==null)break e;Q=w({},Q,z);break e;case 2:_r=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(U=Y=q,x=Q):Y=Y.next=q,_|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Y===null&&(x=Q),h.baseState=x,h.firstBaseUpdate=U,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),wr|=_,t.lanes=_,t.memoizedState=Q}}function Fp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Yp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Fp(a[t],n)}var Sa=V(null),Bc=V(0);function Kp(t,n){t=Fi,ae(Bc,t),ae(Sa,n),Fi=t|n.baseLanes}function hf(){ae(Bc,Fi),ae(Sa,Sa.current)}function ff(){Fi=Bc.current,X(Sa),X(Bc)}var mn=V(null),kn=null;function Tr(t){var n=t.alternate;ae(mt,mt.current&1),ae(mn,t),kn===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(kn=t)}function df(t){ae(mt,mt.current),ae(mn,t),kn===null&&(kn=t)}function Qp(t){t.tag===22?(ae(mt,mt.current),ae(mn,t),kn===null&&(kn=t)):Sr()}function Sr(){ae(mt,mt.current),ae(mn,mn.current)}function pn(t){X(mn),kn===t&&(kn=null),X(mt)}var mt=V(0);function Hc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vd(a)||Ed(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,Re=null,$e=null,bt=null,qc=!1,ba=!1,Ns=!1,Gc=0,ql=0,Aa=null,dS=0;function ut(){throw Error(s(321))}function mf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!fn(t[a],n[a]))return!1;return!0}function pf(t,n,a,l,h,f){return Li=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?kg:xf,Ns=!1,f=a(l,h),Ns=!1,ba&&(f=Jp(n,a,l,h)),Xp(t),f}function Xp(t){F.H=Yl;var n=$e!==null&&$e.next!==null;if(Li=0,bt=$e=Re=null,qc=!1,ql=0,Aa=null,n)throw Error(s(300));t===null||At||(t=t.dependencies,t!==null&&Mc(t)&&(At=!0))}function Jp(t,n,a,l){Re=t;var h=0;do{if(ba&&(Aa=null),ql=0,ba=!1,25<=h)throw Error(s(301));if(h+=1,bt=$e=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Dg,f=n(a,l)}while(ba);return f}function mS(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Gl(n):n,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Re.flags|=1024),n}function gf(){var t=Gc!==0;return Gc=0,t}function yf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function _f(t){if(qc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}qc=!1}Li=0,bt=$e=Re=null,ba=!1,ql=Gc=0,Aa=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Re.memoizedState=bt=t:bt=bt.next=t,bt}function pt(){if($e===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var n=bt===null?Re.memoizedState:bt.next;if(n!==null)bt=n,$e=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},bt===null?Re.memoizedState=bt=t:bt=bt.next=t}return bt}function Fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(t){var n=ql;return ql+=1,Aa===null&&(Aa=[]),t=zp(Aa,t,n),n=Re,(bt===null?n.memoizedState:bt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?kg:xf),t}function Yc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Gl(t);if(t.$$typeof===G)return Bt(t)}throw Error(s(438,String(t)))}function vf(t){var n=null,a=Re.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fc(),Re.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=k;return n.index++,a}function Pi(t,n){return typeof n=="function"?n(t):n}function Kc(t){var n=pt();return Ef(n,$e,t)}function Ef(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=_=null,x=null,U=n,Y=!1;do{var Q=U.lane&-536870913;if(Q!==U.lane?(ke&Q)===Q:(Li&Q)===Q){var z=U.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Q===_a&&(Y=!0);else if((Li&z)===z){U=U.next,z===_a&&(Y=!0);continue}else Q={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},x===null?(T=x=Q,_=f):x=x.next=Q,Re.lanes|=z,wr|=z;Q=U.action,Ns&&a(f,Q),f=U.hasEagerState?U.eagerState:a(f,Q)}else z={lane:Q,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},x===null?(T=x=z,_=f):x=x.next=z,Re.lanes|=Q,wr|=Q;U=U.next}while(U!==null&&U!==n);if(x===null?_=f:x.next=T,!fn(f,t.memoizedState)&&(At=!0,Y&&(a=va,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=x,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Tf(t){var n=pt(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);fn(f,n.memoizedState)||(At=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function $p(t,n,a){var l=Re,h=pt(),f=Le;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!fn(($e||h).memoizedState,a);if(_&&(h.memoizedState=a,At=!0),h=h.queue,Af(eg.bind(null,l,h,t),[t]),h.getSnapshot!==n||_||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,wa(9,{destroy:void 0},Zp.bind(null,l,h,a,n),null),et===null)throw Error(s(349));f||(Li&127)!==0||Wp(l,n,a)}return a}function Wp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Re.updateQueue,n===null?(n=Fc(),Re.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Zp(t,n,a,l){n.value=a,n.getSnapshot=l,tg(n)&&ng(t)}function eg(t,n,a){return a(function(){tg(n)&&ng(t)})}function tg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!fn(t,a)}catch{return!0}}function ng(t){var n=vs(t,2);n!==null&&on(n,t,2)}function Sf(t){var n=en();if(typeof t=="function"){var a=t;if(t=a(),Ns){Tn(!0);try{a()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},n}function ig(t,n,a,l){return t.baseState=a,Ef(t,$e,typeof l=="function"?l:Pi)}function pS(t,n,a,l,h){if(Jc(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,rg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function rg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,_={};F.T=_;try{var T=a(h,l),x=F.S;x!==null&&x(_,T),sg(t,n,T)}catch(U){bf(t,n,U)}finally{f!==null&&_.types!==null&&(f.types=_.types),F.T=f}}else try{f=a(h,l),sg(t,n,f)}catch(U){bf(t,n,U)}}function sg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ag(t,n,l)},function(l){return bf(t,n,l)}):ag(t,n,a)}function ag(t,n,a){n.status="fulfilled",n.value=a,lg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,rg(t,a)))}function bf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,lg(n),n=n.next;while(n!==l)}t.action=null}function lg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function og(t,n){return n}function cg(t,n){if(Le){var a=et.formState;if(a!==null){e:{var l=Re;if(Le){if(nt){t:{for(var h=nt,f=xn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Dn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){nt=Dn(h.nextSibling),l=h.data==="F!";break e}}gr(l)}l=!1}l&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:n},a.queue=l,a=Ng.bind(null,Re,l),l.dispatch=a,l=Sf(!1),f=If.bind(null,Re,!1,l.queue),l=en(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=pS.bind(null,Re,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function ug(t){var n=pt();return hg(n,$e,t)}function hg(t,n,a){if(n=Ef(t,n,og)[0],t=Kc(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Gl(n)}catch(_){throw _===Ea?Lc:_}else l=n;n=pt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Re.flags|=2048,wa(9,{destroy:void 0},gS.bind(null,h,a),null)),[l,f,t]}function gS(t,n){t.action=n}function fg(t){var n=pt(),a=$e;if(a!==null)return hg(n,a,t);pt(),n=n.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function wa(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Re.updateQueue,n===null&&(n=Fc(),Re.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function dg(){return pt().memoizedState}function Qc(t,n,a,l){var h=en();Re.flags|=t,h.memoizedState=wa(1|n,{destroy:void 0},a,l===void 0?null:l)}function Xc(t,n,a,l){var h=pt();l=l===void 0?null:l;var f=h.memoizedState.inst;$e!==null&&l!==null&&mf(l,$e.memoizedState.deps)?h.memoizedState=wa(n,f,a,l):(Re.flags|=t,h.memoizedState=wa(1|n,f,a,l))}function mg(t,n){Qc(8390656,8,t,n)}function Af(t,n){Xc(2048,8,t,n)}function yS(t){Re.flags|=4;var n=Re.updateQueue;if(n===null)n=Fc(),Re.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function pg(t){var n=pt().memoizedState;return yS({ref:n,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function gg(t,n){return Xc(4,2,t,n)}function yg(t,n){return Xc(4,4,t,n)}function _g(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function vg(t,n,a){a=a!=null?a.concat([t]):null,Xc(4,4,_g.bind(null,n,t),a)}function wf(){}function Eg(t,n){var a=pt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&mf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Tg(t,n){var a=pt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&mf(n,l[1]))return l[0];if(l=t(),Ns){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,n],l}function Rf(t,n,a){return a===void 0||(Li&1073741824)!==0&&(ke&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Sy(),Re.lanes|=t,wr|=t,a)}function Sg(t,n,a,l){return fn(a,n)?a:Sa.current!==null?(t=Rf(t,a,l),fn(t,n)||(At=!0),t):(Li&42)===0||(Li&1073741824)!==0&&(ke&261930)===0?(At=!0,t.memoizedState=a):(t=Sy(),Re.lanes|=t,wr|=t,n)}function bg(t,n,a,l,h){var f=te.p;te.p=f!==0&&8>f?f:8;var _=F.T,T={};F.T=T,If(t,!1,n,a);try{var x=h(),U=F.S;if(U!==null&&U(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Y=fS(x,l);Fl(t,n,Y,_n(t))}else Fl(t,n,l,_n(t))}catch(Q){Fl(t,n,{then:function(){},status:"rejected",reason:Q},_n())}finally{te.p=f,_!==null&&T.types!==null&&(_.types=T.types),F.T=_}}function _S(){}function Cf(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Ag(t).queue;bg(t,h,n,ge,a===null?_S:function(){return wg(t),a(l)})}function Ag(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ge},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function wg(t){var n=Ag(t);n.next===null&&(n=t.alternate.memoizedState),Fl(t,n.next.queue,{},_n())}function Nf(){return Bt(oo)}function Rg(){return pt().memoizedState}function Cg(){return pt().memoizedState}function vS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=_n();t=vr(a);var l=Er(n,t,a);l!==null&&(on(l,n,a),zl(l,n,a)),n={cache:nf()},t.payload=n;return}n=n.return}}function ES(t,n,a){var l=_n();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Jc(t)?Ig(n,a):(a=Fh(t,n,a,l),a!==null&&(on(a,t,l),xg(a,n,l)))}function Ng(t,n,a){var l=_n();Fl(t,n,a,l)}function Fl(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Jc(t))Ig(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,T=f(_,a);if(h.hasEagerState=!0,h.eagerState=T,fn(T,_))return xc(t,n,h,0),et===null&&Ic(),!1}catch{}if(a=Fh(t,n,h,l),a!==null)return on(a,t,l),xg(a,n,l),!0}return!1}function If(t,n,a,l){if(l={lane:2,revertLane:ld(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Jc(t)){if(n)throw Error(s(479))}else n=Fh(t,a,l,2),n!==null&&on(n,t,2)}function Jc(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function Ig(t,n){ba=qc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function xg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,dl(t,a)}}var Yl={readContext:Bt,use:Yc,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};Yl.useEffectEvent=ut;var kg={readContext:Bt,use:Yc,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:Bt,useEffect:mg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Qc(4194308,4,_g.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Qc(4194308,4,t,n)},useInsertionEffect:function(t,n){Qc(4,2,t,n)},useMemo:function(t,n){var a=en();n=n===void 0?null:n;var l=t();if(Ns){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=en();if(a!==void 0){var h=a(n);if(Ns){Tn(!0);try{a(n)}finally{Tn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ES.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=Sf(t);var n=t.queue,a=Ng.bind(null,Re,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:wf,useDeferredValue:function(t,n){var a=en();return Rf(a,t,n)},useTransition:function(){var t=Sf(!1);return t=bg.bind(null,Re,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Re,h=en();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),et===null)throw Error(s(349));(ke&127)!==0||Wp(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,mg(eg.bind(null,l,f,t),[t]),l.flags|=2048,wa(9,{destroy:void 0},Zp.bind(null,l,f,a,n),null),a},useId:function(){var t=en(),n=et.identifierPrefix;if(Le){var a=_i,l=yi;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Gc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=dS++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Nf,useFormState:cg,useActionState:cg,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=If.bind(null,Re,!0,a),a.dispatch=n,[t,n]},useMemoCache:vf,useCacheRefresh:function(){return en().memoizedState=vS.bind(null,Re)},useEffectEvent:function(t){var n=en(),a={impl:t};return n.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},xf={readContext:Bt,use:Yc,useCallback:Eg,useContext:Bt,useEffect:Af,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:Kc,useRef:dg,useState:function(){return Kc(Pi)},useDebugValue:wf,useDeferredValue:function(t,n){var a=pt();return Sg(a,$e.memoizedState,t,n)},useTransition:function(){var t=Kc(Pi)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Gl(t),n]},useSyncExternalStore:$p,useId:Rg,useHostTransitionStatus:Nf,useFormState:ug,useActionState:ug,useOptimistic:function(t,n){var a=pt();return ig(a,$e,t,n)},useMemoCache:vf,useCacheRefresh:Cg};xf.useEffectEvent=pg;var Dg={readContext:Bt,use:Yc,useCallback:Eg,useContext:Bt,useEffect:Af,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:Tf,useRef:dg,useState:function(){return Tf(Pi)},useDebugValue:wf,useDeferredValue:function(t,n){var a=pt();return $e===null?Rf(a,t,n):Sg(a,$e.memoizedState,t,n)},useTransition:function(){var t=Tf(Pi)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Gl(t),n]},useSyncExternalStore:$p,useId:Rg,useHostTransitionStatus:Nf,useFormState:fg,useActionState:fg,useOptimistic:function(t,n){var a=pt();return $e!==null?ig(a,$e,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vf,useCacheRefresh:Cg};Dg.useEffectEvent=pg;function kf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Df={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=_n(),h=vr(l);h.payload=n,a!=null&&(h.callback=a),n=Er(t,h,l),n!==null&&(on(n,t,l),zl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=_n(),h=vr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Er(t,h,l),n!==null&&(on(n,t,l),zl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=_n(),l=vr(a);l.tag=2,n!=null&&(l.callback=n),n=Er(t,l,a),n!==null&&(on(n,t,a),zl(n,t,a))}};function Og(t,n,a,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!Dl(a,l)||!Dl(h,f):!0}function Mg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Df.enqueueReplaceState(n,n.state,null)}function Is(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Vg(t){Nc(t)}function jg(t){console.error(t)}function Lg(t){Nc(t)}function $c(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Pg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(t,n,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){$c(t,n)},a}function Ug(t){return t=vr(t),t.tag=3,t}function zg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Pg(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Pg(n,a,l),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function TS(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ya(n,a,h,!0),a=mn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?cu():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Pc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),rd(t,l,h)),!1;case 22:return a.flags|=65536,l===Pc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),rd(t,l,h)),!1}throw Error(s(435,a.tag))}return rd(t,l,h),cu(),!1}if(Le)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==$h&&(t=Error(s(422),{cause:l}),Vl(Cn(t,a)))):(l!==$h&&(n=Error(s(423),{cause:l}),Vl(Cn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,a),h=Of(t.stateNode,l,h),cf(t,h),ht!==4&&(ht=2)),!1;var f=Error(s(520),{cause:l});if(f=Cn(f,a),eo===null?eo=[f]:eo.push(f),ht!==4&&(ht=2),n===null)return!0;l=Cn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Of(a.stateNode,l,t),cf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rr===null||!Rr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ug(h),zg(h,t,a,l),cf(a,h),!1}a=a.return}while(a!==null);return!1}var Mf=Error(s(461)),At=!1;function Ht(t,n,a,l){n.child=t===null?Gp(n,null,a,l):Cs(n,t.child,a,l)}function Bg(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return bs(n),l=pf(t,n,a,_,f,h),T=gf(),t!==null&&!At?(yf(t,n,h),Ui(t,n,h)):(Le&&T&&Xh(n),n.flags|=1,Ht(t,n,l,h),n.child)}function Hg(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Yh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,qg(t,n,f,l,h)):(t=Dc(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Hf(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Dl,a(_,l)&&t.ref===n.ref)return Ui(t,n,h)}return n.flags|=1,t=Oi(f,l),t.ref=n.ref,t.return=n,n.child=t}function qg(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(Dl(f,l)&&t.ref===n.ref)if(At=!1,n.pendingProps=l=f,Hf(t,h))(t.flags&131072)!==0&&(At=!0);else return n.lanes=t.lanes,Ui(t,n,h)}return Vf(t,n,a,l,h)}function Gg(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Fg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&jc(n,f!==null?f.cachePool:null),f!==null?Kp(n,f):hf(),Qp(n);else return l=n.lanes=536870912,Fg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(jc(n,f.cachePool),Kp(n,f),Sr(),n.memoizedState=null):(t!==null&&jc(n,null),hf(),Sr());return Ht(t,n,h,a),n.child}function Kl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fg(t,n,a,l,h){var f=sf();return f=f===null?null:{parent:St._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&jc(n,null),hf(),Qp(n),t!==null&&ya(t,n,l,!0),n.childLanes=h,null}function Wc(t,n){return n=eu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Yg(t,n,a){return Cs(n,t.child,null,a),t=Wc(n,n.pendingProps),t.flags|=2,pn(n),n.memoizedState=null,t}function SS(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Wc(n,l),n.lanes=536870912,Kl(null,t);if(df(n),(t=nt)?(t=r_(t,xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:mr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},a=Ip(t),a.return=n,n.child=a,zt=n,nt=null)):t=null,t===null)throw gr(n);return n.lanes=536870912,null}return Wc(n,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=Yg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(At||ya(t,n,a,!1),h=(a&t.childLanes)!==0,At||h){if(l=et,l!==null&&(_=ml(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,vs(t,_),on(l,t,_),Mf;cu(),n=Yg(t,n,a)}else t=f.treeContext,nt=Dn(_.nextSibling),zt=n,Le=!0,pr=null,xn=!1,t!==null&&Dp(n,t),n=Wc(n,l),n.flags|=4096;return n}return t=Oi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Vf(t,n,a,l,h){return bs(n),a=pf(t,n,a,l,void 0,h),l=gf(),t!==null&&!At?(yf(t,n,h),Ui(t,n,h)):(Le&&l&&Xh(n),n.flags|=1,Ht(t,n,a,h),n.child)}function Kg(t,n,a,l,h,f){return bs(n),n.updateQueue=null,a=Jp(n,l,a,h),Xp(t),l=gf(),t!==null&&!At?(yf(t,n,f),Ui(t,n,f)):(Le&&l&&Xh(n),n.flags|=1,Ht(t,n,a,f),n.child)}function Qg(t,n,a,l,h){if(bs(n),n.stateNode===null){var f=da,_=a.contextType;typeof _=="object"&&_!==null&&(f=Bt(_)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},lf(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Bt(_):da,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(kf(n,a,_,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Df.enqueueReplaceState(f,f.state,null),Hl(n,l,f,h),Bl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,x=Is(a,T);f.props=x;var U=f.context,Y=a.contextType;_=da,typeof Y=="object"&&Y!==null&&(_=Bt(Y));var Q=a.getDerivedStateFromProps;Y=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||U!==_)&&Mg(n,f,l,_),_r=!1;var z=n.memoizedState;f.state=z,Hl(n,l,f,h),Bl(),U=n.memoizedState,T||z!==U||_r?(typeof Q=="function"&&(kf(n,a,Q,l),U=n.memoizedState),(x=_r||Og(n,a,x,l,z,U,_))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=_,l=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,of(t,n),_=n.memoizedProps,Y=Is(a,_),f.props=Y,Q=n.pendingProps,z=f.context,U=a.contextType,x=da,typeof U=="object"&&U!==null&&(x=Bt(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Q||z!==x)&&Mg(n,f,l,x),_r=!1,z=n.memoizedState,f.state=z,Hl(n,l,f,h),Bl();var q=n.memoizedState;_!==Q||z!==q||_r||t!==null&&t.dependencies!==null&&Mc(t.dependencies)?(typeof T=="function"&&(kf(n,a,T,l),q=n.memoizedState),(Y=_r||Og(n,a,Y,l,z,q,x)||t!==null&&t.dependencies!==null&&Mc(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=x,l=Y):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Cs(n,t.child,null,h),n.child=Cs(n,null,a,h)):Ht(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Ui(t,n,h),t}function Xg(t,n,a,l){return Ts(),n.flags|=256,Ht(t,n,a,l),n.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(t){return{baseLanes:t,cachePool:Pp()}}function Pf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=yn),t}function Jg(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Le){if(h?Tr(n):Sr(),(t=nt)?(t=r_(t,xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:mr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},a=Ip(t),a.return=n,n.child=a,zt=n,nt=null)):t=null,t===null)throw gr(n);return Ed(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Sr(),h=n.mode,T=eu({mode:"hidden",children:T},h),l=Es(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Lf(a),l.childLanes=Pf(t,_,a),n.memoizedState=jf,Kl(null,l)):(Tr(n),Uf(n,T))}var x=t.memoizedState;if(x!==null&&(T=x.dehydrated,T!==null)){if(f)n.flags&256?(Tr(n),n.flags&=-257,n=zf(t,n,a)):n.memoizedState!==null?(Sr(),n.child=t.child,n.flags|=128,n=null):(Sr(),T=l.fallback,h=n.mode,l=eu({mode:"visible",children:l.children},h),T=Es(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Cs(n,t.child,null,a),l=n.child,l.memoizedState=Lf(a),l.childLanes=Pf(t,_,a),n.memoizedState=jf,n=Kl(null,l));else if(Tr(n),Ed(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var U=_.dgst;_=U,l=Error(s(419)),l.stack="",l.digest=_,Vl({value:l,source:null,stack:null}),n=zf(t,n,a)}else if(At||ya(t,n,a,!1),_=(a&t.childLanes)!==0,At||_){if(_=et,_!==null&&(l=ml(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,vs(t,l),on(_,t,l),Mf;vd(T)||cu(),n=zf(t,n,a)}else vd(T)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,nt=Dn(T.nextSibling),zt=n,Le=!0,pr=null,xn=!1,t!==null&&Dp(n,t),n=Uf(n,l.children),n.flags|=4096);return n}return h?(Sr(),T=l.fallback,h=n.mode,x=t.child,U=x.sibling,l=Oi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,U!==null?T=Oi(U,T):(T=Es(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Kl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Lf(a):(h=T.cachePool,h!==null?(x=St._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Pp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Pf(t,_,a),n.memoizedState=jf,Kl(t.child,l)):(Tr(n),a=t.child,t=a.sibling,a=Oi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function Uf(t,n){return n=eu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function eu(t,n){return t=dn(22,t,null,n),t.lanes=0,t}function zf(t,n,a){return Cs(n,t.child,null,a),t=Uf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function $g(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ef(t.return,n,a)}function Bf(t,n,a,l,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function Wg(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=mt.current,T=(_&2)!==0;if(T?(_=_&1|2,n.flags|=128):_&=1,ae(mt,_),Ht(t,n,l,a),l=Le?Ml:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$g(t,a,n);else if(t.tag===19)$g(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Hc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Bf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Hc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Bf(n,!0,a,null,f,l);break;case"together":Bf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ui(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),wr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ya(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Oi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Oi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Hf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Mc(t)))}function bS(t,n,a){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),yr(n,St,t.memoizedState.cache),Ts();break;case 27:case 5:ts(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:yr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Tr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Jg(t,n,a):(Tr(n),t=Ui(t,n,a),t!==null?t.sibling:null);Tr(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ya(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Wg(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(mt,mt.current),l)break;return null;case 22:return n.lanes=0,Gg(t,n,a,n.pendingProps);case 24:yr(n,St,t.memoizedState.cache)}return Ui(t,n,a)}function Zg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)At=!0;else{if(!Hf(t,a)&&(n.flags&128)===0)return At=!1,bS(t,n,a);At=(t.flags&131072)!==0}else At=!1,Le&&(n.flags&1048576)!==0&&kp(n,Ml,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ws(n.elementType),n.type=t,typeof t=="function")Yh(t)?(l=Is(t,l),n.tag=1,n=Qg(null,n,t,l,a)):(n.tag=0,n=Vf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===oe){n.tag=11,n=Bg(null,n,t,l,a);break e}else if(h===R){n.tag=14,n=Hg(null,n,t,l,a);break e}}throw n=je(t)||t,Error(s(306,n,""))}}return n;case 0:return Vf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Is(l,n.pendingProps),Qg(t,n,l,h,a);case 3:e:{if(Nt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,of(t,n),Hl(n,l,null,a);var _=n.memoizedState;if(l=_.cache,yr(n,St,l),l!==f.cache&&tf(n,[St],a,!0),Bl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xg(t,n,l,a);break e}else if(l!==h){h=Cn(Error(s(424)),n),Vl(h),n=Xg(t,n,l,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,nt=Dn(t.firstChild),zt=n,Le=!0,pr=null,xn=!0,a=Gp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ts(),l===h){n=Ui(t,n,a);break e}Ht(t,n,l,a)}n=n.child}return n;case 26:return Zc(t,n),t===null?(a=u_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Le||(a=n.type,t=n.pendingProps,l=gu(Ce.current).createElement(a),l[vt]=n,l[Ot]=t,qt(l,a,t),Et(l),n.stateNode=l):n.memoizedState=u_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ts(n),t===null&&Le&&(l=n.stateNode=l_(n.type,n.pendingProps,Ce.current),zt=n,xn=!0,h=nt,xr(n.type)?(Td=h,nt=Dn(l.firstChild)):nt=h),Ht(t,n,n.pendingProps.children,a),Zc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Le&&((h=l=nt)&&(l=ZS(l,n.type,n.pendingProps,xn),l!==null?(n.stateNode=l,zt=n,nt=Dn(l.firstChild),xn=!1,h=!0):h=!1),h||gr(n)),ts(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,gd(h,f)?l=null:_!==null&&gd(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=pf(t,n,mS,null,null,a),oo._currentValue=h),Zc(t,n),Ht(t,n,l,a),n.child;case 6:return t===null&&Le&&((t=a=nt)&&(a=e1(a,n.pendingProps,xn),a!==null?(n.stateNode=a,zt=n,nt=null,t=!0):t=!1),t||gr(n)),null;case 13:return Jg(t,n,a);case 4:return Nt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Cs(n,null,l,a):Ht(t,n,l,a),n.child;case 11:return Bg(t,n,n.type,n.pendingProps,a);case 7:return Ht(t,n,n.pendingProps,a),n.child;case 8:return Ht(t,n,n.pendingProps.children,a),n.child;case 12:return Ht(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,yr(n,n.type,l.value),Ht(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,bs(n),h=Bt(h),l=l(h),n.flags|=1,Ht(t,n,l,a),n.child;case 14:return Hg(t,n,n.type,n.pendingProps,a);case 15:return qg(t,n,n.type,n.pendingProps,a);case 19:return Wg(t,n,a);case 31:return SS(t,n,a);case 22:return Gg(t,n,a,n.pendingProps);case 24:return bs(n),l=Bt(St),t===null?(h=sf(),h===null&&(h=et,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},lf(n),yr(n,St,h)):((t.lanes&a)!==0&&(of(t,n),Hl(n,null,null,a),Bl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),yr(n,St,l)):(l=f.cache,yr(n,St,l),l!==h.cache&&tf(n,[St],a,!0))),Ht(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function zi(t){t.flags|=4}function qf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ry())t.flags|=8192;else throw Rs=Pc,af}else t.flags&=-16777217}function ey(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!p_(n))if(Ry())t.flags|=8192;else throw Rs=Pc,af}function tu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?lc():536870912,t.lanes|=n,Ia|=n)}function Ql(t,n){if(!Le)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function AS(t,n,a){var l=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ji(St),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ga(n)?zi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),it(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(zi(n),f!==null?(it(n),ey(n,f)):(it(n),qf(n,h,null,l,a))):f?f!==t.memoizedState?(zi(n),it(n),ey(n,f)):(it(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&zi(n),it(n),qf(n,h,t,l,a)),null;case 27:if(Qs(n),a=Ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return it(n),null}t=ue.current,ga(n)?Op(n):(t=l_(h,l,a),n.stateNode=t,zi(n))}return it(n),null;case 5:if(Qs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return it(n),null}if(f=ue.current,ga(n))Op(n);else{var _=gu(Ce.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[vt]=n,f[Ot]=l;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(qt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&zi(n)}}return it(n),qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Ce.current,ga(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=zt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Jy(t.nodeValue,a)),t||gr(n,!0)}else t=gu(t).createTextNode(l),t[vt]=n,n.stateNode=t}return it(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=ga(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[vt]=n}else Ts(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),t=!1}else a=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return it(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ga(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vt]=n}else Ts(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),tu(n,n.updateQueue),it(n),null);case 4:return st(),t===null&&hd(n.stateNode.containerInfo),it(n),null;case 10:return ji(n.type),it(n),null;case 19:if(X(mt),l=n.memoizedState,l===null)return it(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Ql(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Hc(t),f!==null){for(n.flags|=128,Ql(l,!1),t=f.updateQueue,n.updateQueue=t,tu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Np(a,t),a=a.sibling;return ae(mt,mt.current&1|2),Le&&Mi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Wt()>au&&(n.flags|=128,h=!0,Ql(l,!1),n.lanes=4194304)}else{if(!h)if(t=Hc(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,tu(n,t),Ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Le)return it(n),null}else 2*Wt()-l.renderingStartTime>au&&a!==536870912&&(n.flags|=128,h=!0,Ql(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Wt(),t.sibling=null,a=mt.current,ae(mt,h?a&1|2:a&1),Le&&Mi(n,l.treeForkCount),t):(it(n),null);case 22:case 23:return pn(n),ff(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),a=n.updateQueue,a!==null&&tu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&X(As),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ji(St),it(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function wS(t,n){switch(Jh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ji(St),st(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Qs(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(s(340));Ts()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ts()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(mt),null;case 4:return st(),null;case 10:return ji(n.type),null;case 22:case 23:return pn(n),ff(),t!==null&&X(As),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ji(St),null;case 25:return null;default:return null}}function ty(t,n){switch(Jh(n),n.tag){case 3:ji(St),st();break;case 26:case 27:case 5:Qs(n);break;case 4:st();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:X(mt);break;case 10:ji(n.type);break;case 22:case 23:pn(n),ff(),t!==null&&X(As);break;case 24:ji(St)}}function Xl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Xe(n,n.return,T)}}function br(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var x=a,U=T;try{U()}catch(Y){Xe(h,x,Y)}}}l=l.next}while(l!==f)}}catch(Y){Xe(n,n.return,Y)}}function ny(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Yp(n,a)}catch(l){Xe(t,t.return,l)}}}function iy(t,n,a){a.props=Is(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,n,l)}}function Jl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,n,h)}}function vi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,n,h)}else a.current=null}function ry(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function Gf(t,n,a){try{var l=t.stateNode;KS(l,t.type,a,n),l[Ot]=n}catch(h){Xe(t,t.return,h)}}function sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&xr(t.type)||t.tag===4}function Ff(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&xr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Bn));else if(l!==4&&(l===27&&xr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Yf(t,n,a),t=t.sibling;t!==null;)Yf(t,n,a),t=t.sibling}function nu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&xr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(nu(t,n,a),t=t.sibling;t!==null;)nu(t,n,a),t=t.sibling}function ay(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);qt(n,l,a),n[vt]=t,n[Ot]=a}catch(f){Xe(t,t.return,f)}}var Bi=!1,wt=!1,Kf=!1,ly=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function RS(t,n){if(t=t.containerInfo,md=bu,t=vp(t),Uh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,T=-1,x=-1,U=0,Y=0,Q=t,z=null;t:for(;;){for(var q;Q!==a||h!==0&&Q.nodeType!==3||(T=_+h),Q!==f||l!==0&&Q.nodeType!==3||(x=_+l),Q.nodeType===3&&(_+=Q.nodeValue.length),(q=Q.firstChild)!==null;)z=Q,Q=q;for(;;){if(Q===t)break t;if(z===a&&++U===h&&(T=_),z===f&&++Y===l&&(x=_),(q=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=q}a=T===-1||x===-1?null:{start:T,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(pd={focusedElem:t,selectionRange:a},bu=!1,Vt=n;Vt!==null;)if(n=Vt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Vt=t;else for(;Vt!==null;){switch(n=Vt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var he=Is(a.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)_d(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Vt=t;break}Vt=n.return}}function oy(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qi(t,a),l&4&&Xl(5,a);break;case 1:if(qi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=Is(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&ny(a),l&512&&Jl(a,a.return);break;case 3:if(qi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Yp(t,n)}catch(_){Xe(a,a.return,_)}}break;case 27:n===null&&l&4&&ay(a);case 26:case 5:qi(t,a),n===null&&l&4&&ry(a),l&512&&Jl(a,a.return);break;case 12:qi(t,a);break;case 31:qi(t,a),l&4&&hy(t,a);break;case 13:qi(t,a),l&4&&fy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=VS.bind(null,a),t1(t,a))));break;case 22:if(l=a.memoizedState!==null||Bi,!l){n=n!==null&&n.memoizedState!==null||wt,h=Bi;var f=wt;Bi=l,(wt=n)&&!f?Gi(t,a,(a.subtreeFlags&8772)!==0):qi(t,a),Bi=h,wt=f}break;case 30:break;default:qi(t,a)}}function cy(t){var n=t.alternate;n!==null&&(t.alternate=null,cy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Zs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,rn=!1;function Hi(t,n,a){for(a=a.child;a!==null;)uy(t,n,a),a=a.sibling}function uy(t,n,a){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Ln,a)}catch{}switch(a.tag){case 26:wt||vi(a,n),Hi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||vi(a,n);var l=lt,h=rn;xr(a.type)&&(lt=a.stateNode,rn=!1),Hi(t,n,a),so(a.stateNode),lt=l,rn=h;break;case 5:wt||vi(a,n);case 6:if(l=lt,h=rn,lt=null,Hi(t,n,a),lt=l,rn=h,lt!==null)if(rn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){Xe(a,n,f)}else try{lt.removeChild(a.stateNode)}catch(f){Xe(a,n,f)}break;case 18:lt!==null&&(rn?(t=lt,n_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),La(t)):n_(lt,a.stateNode));break;case 4:l=lt,h=rn,lt=a.stateNode.containerInfo,rn=!0,Hi(t,n,a),lt=l,rn=h;break;case 0:case 11:case 14:case 15:br(2,a,n),wt||br(4,a,n),Hi(t,n,a);break;case 1:wt||(vi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&iy(a,n,l)),Hi(t,n,a);break;case 21:Hi(t,n,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,Hi(t,n,a),wt=l;break;default:Hi(t,n,a)}}function hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{La(t)}catch(a){Xe(n,n.return,a)}}}function fy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{La(t)}catch(a){Xe(n,n.return,a)}}function CS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ly),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ly),n;default:throw Error(s(435,t.tag))}}function iu(t,n){var a=CS(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=jS.bind(null,t,l);l.then(h,h)}})}function sn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,_=n,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(xr(T.type)){lt=T.stateNode,rn=!1;break e}break;case 5:lt=T.stateNode,rn=!1;break e;case 3:case 4:lt=T.stateNode.containerInfo,rn=!0;break e}T=T.return}if(lt===null)throw Error(s(160));uy(f,_,h),lt=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,t),n=n.sibling}var Kn=null;function dy(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sn(n,t),an(t),l&4&&(br(3,t,t.return),Xl(3,t),br(5,t,t.return));break;case 1:sn(n,t),an(t),l&512&&(wt||a===null||vi(a,a.return)),l&64&&Bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(sn(n,t),an(t),l&512&&(wt||a===null||vi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),qt(f,l,a),f[vt]=t,Et(f),l=f;break e;case"link":var _=d_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}f=h.createElement(l),qt(f,l,a),h.head.appendChild(f);break;case"meta":if(_=d_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}f=h.createElement(l),qt(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[vt]=t,Et(f),l=f}t.stateNode=l}else m_(h,t.type,t.stateNode);else t.stateNode=f_(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?m_(h,t.type,t.stateNode):f_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gf(t,t.memoizedProps,a.memoizedProps)}break;case 27:sn(n,t),an(t),l&512&&(wt||a===null||vi(a,a.return)),a!==null&&l&4&&Gf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(sn(n,t),an(t),l&512&&(wt||a===null||vi(a,a.return)),t.flags&32){h=t.stateNode;try{nn(h,"")}catch(he){Xe(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Gf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Kf=!0);break;case 6:if(sn(n,t),an(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Xe(t,t.return,he)}}break;case 3:if(vu=null,h=Kn,Kn=yu(n.containerInfo),sn(n,t),Kn=h,an(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(he){Xe(t,t.return,he)}Kf&&(Kf=!1,my(t));break;case 4:l=Kn,Kn=yu(t.stateNode.containerInfo),sn(n,t),an(t),Kn=l;break;case 12:sn(n,t),an(t);break;case 31:sn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,iu(t,l)));break;case 13:sn(n,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(su=Wt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,iu(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,U=Bi,Y=wt;if(Bi=U||h,wt=Y||x,sn(n,t),wt=Y,Bi=U,an(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||x||Bi||wt||xs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){x=a=n;try{if(f=x.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=x.stateNode;var Q=x.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(he){Xe(x,x.return,he)}}}else if(n.tag===6){if(a===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(he){Xe(x,x.return,he)}}}else if(n.tag===18){if(a===null){x=n;try{var q=x.stateNode;h?i_(q,!0):i_(x.stateNode,!1)}catch(he){Xe(x,x.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,iu(t,a))));break;case 19:sn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,iu(t,l)));break;case 30:break;case 21:break;default:sn(n,t),an(t)}}function an(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(sy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Ff(t);nu(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(nn(_,""),a.flags&=-33);var T=Ff(t);nu(t,T,_);break;case 3:case 4:var x=a.stateNode.containerInfo,U=Ff(t);Yf(t,U,x);break;default:throw Error(s(161))}}catch(Y){Xe(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function my(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;my(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function qi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(t,n.alternate,n),n=n.sibling}function xs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:br(4,n,n.return),xs(n);break;case 1:vi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&iy(n,n.return,a),xs(n);break;case 27:so(n.stateNode);case 26:case 5:vi(n,n.return),xs(n);break;case 22:n.memoizedState===null&&xs(n);break;case 30:xs(n);break;default:xs(n)}t=t.sibling}}function Gi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,a),Xl(4,f);break;case 1:if(Gi(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Xe(l,l.return,U)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Fp(x[h],T)}catch(U){Xe(l,l.return,U)}}a&&_&64&&ny(f),Jl(f,f.return);break;case 27:ay(f);case 26:case 5:Gi(h,f,a),a&&l===null&&_&4&&ry(f),Jl(f,f.return);break;case 12:Gi(h,f,a);break;case 31:Gi(h,f,a),a&&_&4&&hy(h,f);break;case 13:Gi(h,f,a),a&&_&4&&fy(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,a),Jl(f,f.return);break;case 30:break;default:Gi(h,f,a)}n=n.sibling}}function Qf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&jl(a))}function Xf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&jl(t))}function Qn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(t,n,a,l),n=n.sibling}function py(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(t,n,a,l),h&2048&&Xl(9,n);break;case 1:Qn(t,n,a,l);break;case 3:Qn(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&jl(t)));break;case 12:if(h&2048){Qn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Xe(n,n.return,x)}}else Qn(t,n,a,l);break;case 31:Qn(t,n,a,l);break;case 13:Qn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(t,n,a,l):$l(t,n):f._visibility&2?Qn(t,n,a,l):(f._visibility|=2,Ra(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Qf(_,n);break;case 24:Qn(t,n,a,l),h&2048&&Xf(n.alternate,n);break;default:Qn(t,n,a,l)}}function Ra(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,T=a,x=l,U=_.flags;switch(_.tag){case 0:case 11:case 15:Ra(f,_,T,x,h),Xl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Ra(f,_,T,x,h):$l(f,_):(Y._visibility|=2,Ra(f,_,T,x,h)),h&&U&2048&&Qf(_.alternate,_);break;case 24:Ra(f,_,T,x,h),h&&U&2048&&Xf(_.alternate,_);break;default:Ra(f,_,T,x,h)}n=n.sibling}}function $l(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:$l(a,l),h&2048&&Qf(l.alternate,l);break;case 24:$l(a,l),h&2048&&Xf(l.alternate,l);break;default:$l(a,l)}n=n.sibling}}var Wl=8192;function Ca(t,n,a){if(t.subtreeFlags&Wl)for(t=t.child;t!==null;)gy(t,n,a),t=t.sibling}function gy(t,n,a){switch(t.tag){case 26:Ca(t,n,a),t.flags&Wl&&t.memoizedState!==null&&d1(a,Kn,t.memoizedState,t.memoizedProps);break;case 5:Ca(t,n,a);break;case 3:case 4:var l=Kn;Kn=yu(t.stateNode.containerInfo),Ca(t,n,a),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Wl,Wl=16777216,Ca(t,n,a),Wl=l):Ca(t,n,a));break;default:Ca(t,n,a)}}function yy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Zl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Vt=l,vy(l,t)}yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_y(t),t=t.sibling}function _y(t){switch(t.tag){case 0:case 11:case 15:Zl(t),t.flags&2048&&br(9,t,t.return);break;case 3:Zl(t);break;case 12:Zl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ru(t)):Zl(t);break;default:Zl(t)}}function ru(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Vt=l,vy(l,t)}yy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:br(8,n,n.return),ru(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ru(n));break;default:ru(n)}t=t.sibling}}function vy(t,n){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:br(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:jl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var h=l.sibling,f=l.return;if(cy(l),l===a){Vt=null;break e}if(h!==null){h.return=f,Vt=h;break e}Vt=f}}}var NS={getCacheForType:function(t){var n=Bt(St),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Bt(St).controller.signal}},IS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Ie=null,ke=0,Qe=0,gn=null,Ar=!1,Na=!1,Jf=!1,Fi=0,ht=0,wr=0,ks=0,$f=0,yn=0,Ia=0,eo=null,ln=null,Wf=!1,su=0,Ey=0,au=1/0,lu=null,Rr=null,xt=0,Cr=null,xa=null,Yi=0,Zf=0,ed=null,Ty=null,to=0,td=null;function _n(){return(Ge&2)!==0&&ke!==0?ke&-ke:F.T!==null?ld():oc()}function Sy(){if(yn===0)if((ke&536870912)===0||Le){var t=rs;rs<<=1,(rs&3932160)===0&&(rs=262144),yn=t}else yn=536870912;return t=mn.current,t!==null&&(t.flags|=32),yn}function on(t,n,a){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(ka(t,0),Nr(t,ke,yn,!1)),ss(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(ks|=a),ht===4&&Nr(t,ke,yn,!1)),Ei(t))}function by(t,n,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),h=l?DS(t,n):id(t,n,!0),f=l;do{if(h===0){Na&&!l&&Nr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!xS(a)){h=id(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var T=t;h=eo;var x=T.current.memoizedState.isDehydrated;if(x&&(ka(T,_).flags|=256),_=id(T,_,!1),_!==2){if(Jf&&!x){T.errorRecoveryDisabledLanes|=f,ks|=f,h=4;break e}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){ka(t,0),Nr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Nr(l,n,yn,!Ar);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=su+300-Wt(),10<h)){if(Nr(l,n,yn,!Ar),ni(l,0,!0)!==0)break e;Yi=n,l.timeoutHandle=e_(Ay.bind(null,l,a,ln,lu,Wf,n,yn,ks,Ia,Ar,f,"Throttled",-0,0),h);break e}Ay(l,a,ln,lu,Wf,n,yn,ks,Ia,Ar,f,null,-0,0)}}break}while(!0);Ei(t)}function Ay(t,n,a,l,h,f,_,T,x,U,Y,Q,z,q){if(t.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},gy(n,f,Q);var he=(f&62914560)===f?su-Wt():(f&4194048)===f?Ey-Wt():0;if(he=m1(Q,he),he!==null){Yi=f,t.cancelPendingCommit=he(Dy.bind(null,t,n,f,a,l,h,_,T,x,Y,Q,null,z,q)),Nr(t,f,_,!U);return}}Dy(t,n,f,a,l,h,_,T,x)}function xS(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!fn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Nr(t,n,a,l){n&=~$f,n&=~ks,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-ft(h),_=1<<f;l[f]=-1,h&=~_}a!==0&&as(t,a,n)}function ou(){return(Ge&6)===0?(no(0),!1):!0}function nd(){if(Ie!==null){if(Qe===0)var t=Ie.return;else t=Ie,Vi=Ss=null,_f(t),Ta=null,Pl=0,t=Ie;for(;t!==null;)ty(t.alternate,t),t=t.return;Ie=null}}function ka(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,JS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Yi=0,nd(),et=t,Ie=a=Oi(t.current,null),ke=n,Qe=0,gn=null,Ar=!1,Na=Pn(t,n),Jf=!1,Ia=yn=$f=ks=wr=ht=0,ln=eo=null,Wf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-ft(l),f=1<<h;n|=t[h],l&=~f}return Fi=n,Ic(),a}function wy(t,n){Re=null,F.H=Yl,n===Ea||n===Lc?(n=Bp(),Qe=3):n===af?(n=Bp(),Qe=4):Qe=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Ie===null&&(ht=1,$c(t,Cn(n,t.current)))}function Ry(){var t=mn.current;return t===null?!0:(ke&4194048)===ke?kn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===kn:!1}function Cy(){var t=F.H;return F.H=Yl,t===null?Yl:t}function Ny(){var t=F.A;return F.A=NS,t}function cu(){ht=4,Ar||(ke&4194048)!==ke&&mn.current!==null||(Na=!0),(wr&134217727)===0&&(ks&134217727)===0||et===null||Nr(et,ke,yn,!1)}function id(t,n,a){var l=Ge;Ge|=2;var h=Cy(),f=Ny();(et!==t||ke!==n)&&(lu=null,ka(t,n)),n=!1;var _=ht;e:do try{if(Qe!==0&&Ie!==null){var T=Ie,x=gn;switch(Qe){case 8:nd(),_=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var U=Qe;if(Qe=0,gn=null,Da(t,T,x,U),a&&Na){_=0;break e}break;default:U=Qe,Qe=0,gn=null,Da(t,T,x,U)}}kS(),_=ht;break}catch(Y){wy(t,Y)}while(!0);return n&&t.shellSuspendCounter++,Vi=Ss=null,Ge=l,F.H=h,F.A=f,Ie===null&&(et=null,ke=0,Ic()),_}function kS(){for(;Ie!==null;)Iy(Ie)}function DS(t,n){var a=Ge;Ge|=2;var l=Cy(),h=Ny();et!==t||ke!==n?(lu=null,au=Wt()+500,ka(t,n)):Na=Pn(t,n);e:do try{if(Qe!==0&&Ie!==null){n=Ie;var f=gn;t:switch(Qe){case 1:Qe=0,gn=null,Da(t,n,f,1);break;case 2:case 9:if(Up(f)){Qe=0,gn=null,xy(n);break}n=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),Ei(t)},f.then(n,n);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Up(f)?(Qe=0,gn=null,xy(n)):(Qe=0,gn=null,Da(t,n,f,7));break;case 5:var _=null;switch(Ie.tag){case 26:_=Ie.memoizedState;case 5:case 27:var T=Ie;if(_?p_(_):T.stateNode.complete){Qe=0,gn=null;var x=T.sibling;if(x!==null)Ie=x;else{var U=T.return;U!==null?(Ie=U,uu(U)):Ie=null}break t}}Qe=0,gn=null,Da(t,n,f,5);break;case 6:Qe=0,gn=null,Da(t,n,f,6);break;case 8:nd(),ht=6;break e;default:throw Error(s(462))}}OS();break}catch(Y){wy(t,Y)}while(!0);return Vi=Ss=null,F.H=l,F.A=h,Ge=a,Ie!==null?0:(et=null,ke=0,Ic(),ht)}function OS(){for(;Ie!==null&&!Dh();)Iy(Ie)}function Iy(t){var n=Zg(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,n===null?uu(t):Ie=n}function xy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Kg(a,n,n.pendingProps,n.type,void 0,ke);break;case 11:n=Kg(a,n,n.pendingProps,n.type.render,n.ref,ke);break;case 5:_f(n);default:ty(a,n),n=Ie=Np(n,Fi),n=Zg(a,n,Fi)}t.memoizedProps=t.pendingProps,n===null?uu(t):Ie=n}function Da(t,n,a,l){Vi=Ss=null,_f(n),Ta=null,Pl=0;var h=n.return;try{if(TS(t,h,n,a,ke)){ht=1,$c(t,Cn(a,t.current)),Ie=null;return}}catch(f){if(h!==null)throw Ie=h,f;ht=1,$c(t,Cn(a,t.current)),Ie=null;return}n.flags&32768?(Le||l===1?t=!0:Na||(ke&536870912)!==0?t=!1:(Ar=t=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ky(n,t)):uu(n)}function uu(t){var n=t;do{if((n.flags&32768)!==0){ky(n,Ar);return}t=n.return;var a=AS(n.alternate,n,Fi);if(a!==null){Ie=a;return}if(n=n.sibling,n!==null){Ie=n;return}Ie=n=t}while(n!==null);ht===0&&(ht=5)}function ky(t,n){do{var a=wS(t.alternate,t);if(a!==null){a.flags&=32767,Ie=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=a}while(t!==null);ht=6,Ie=null}function Dy(t,n,a,l,h,f,_,T,x){t.cancelPendingCommit=null;do hu();while(xt!==0);if((Ge&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Gh,Vh(t,a,f,_,T,x),t===et&&(Ie=et=null,ke=0),xa=n,Cr=t,Yi=a,Zf=f,ed=h,Ty=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,LS(rr,function(){return Ly(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=te.p,te.p=2,_=Ge,Ge|=4;try{RS(t,n,a)}finally{Ge=_,te.p=h,F.T=l}}xt=1,Oy(),My(),Vy()}}function Oy(){if(xt===1){xt=0;var t=Cr,n=xa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=te.p;te.p=2;var h=Ge;Ge|=4;try{dy(n,t);var f=pd,_=vp(t.containerInfo),T=f.focusedElem,x=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&_p(T.ownerDocument.documentElement,T)){if(x!==null&&Uh(T)){var U=x.start,Y=x.end;if(Y===void 0&&(Y=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(Y,T.value.length);else{var Q=T.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var q=z.getSelection(),he=T.textContent.length,_e=Math.min(x.start,he),Ze=x.end===void 0?_e:Math.min(x.end,he);!q.extend&&_e>Ze&&(_=Ze,Ze=_e,_e=_);var j=yp(T,_e),M=yp(T,Ze);if(j&&M&&(q.rangeCount!==1||q.anchorNode!==j.node||q.anchorOffset!==j.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var P=Q.createRange();P.setStart(j.node,j.offset),q.removeAllRanges(),_e>Ze?(q.addRange(P),q.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),q.addRange(P))}}}}for(Q=[],q=T;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var K=Q[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}bu=!!md,pd=md=null}finally{Ge=h,te.p=l,F.T=a}}t.current=n,xt=2}}function My(){if(xt===2){xt=0;var t=Cr,n=xa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=te.p;te.p=2;var h=Ge;Ge|=4;try{oy(t,n.alternate,n)}finally{Ge=h,te.p=l,F.T=a}}xt=3}}function Vy(){if(xt===4||xt===3){xt=0,tc();var t=Cr,n=xa,a=Yi,l=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xt=5:(xt=0,xa=Cr=null,jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Rr=null),Ii(a),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=te.p,te.p=2,F.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];f(T.value,{componentStack:T.stack})}}finally{F.T=n,te.p=h}}(Yi&3)!==0&&hu(),Ei(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===td?to++:(to=0,td=t):to=0,no(0)}}function jy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,jl(n)))}function hu(){return Oy(),My(),Vy(),Ly()}function Ly(){if(xt!==5)return!1;var t=Cr,n=Zf;Zf=0;var a=Ii(Yi),l=F.T,h=te.p;try{te.p=32>a?32:a,F.T=null,a=ed,ed=null;var f=Cr,_=Yi;if(xt=0,xa=Cr=null,Yi=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,_y(f.current),py(f,f.current,_,a),Ge=T,no(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{te.p=h,F.T=l,jy(t,n)}}function Py(t,n,a){n=Cn(a,n),n=Of(t.stateNode,n,2),t=Er(t,n,2),t!==null&&(ss(t,2),Ei(t))}function Xe(t,n,a){if(t.tag===3)Py(t,t,a);else for(;n!==null;){if(n.tag===3){Py(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rr===null||!Rr.has(l))){t=Cn(a,t),a=Ug(2),l=Er(n,a,2),l!==null&&(zg(a,l,n,t),ss(l,2),Ei(l));break}}n=n.return}}function rd(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new IS;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Jf=!0,h.add(a),t=MS.bind(null,t,n,a),n.then(t,t))}function MS(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(ke&a)===a&&(ht===4||ht===3&&(ke&62914560)===ke&&300>Wt()-su?(Ge&2)===0&&ka(t,0):$f|=a,Ia===ke&&(Ia=0)),Ei(t)}function Uy(t,n){n===0&&(n=lc()),t=vs(t,n),t!==null&&(ss(t,n),Ei(t))}function VS(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Uy(t,a)}function jS(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Uy(t,a)}function LS(t,n){return It(t,n)}var fu=null,Oa=null,sd=!1,du=!1,ad=!1,Ir=0;function Ei(t){t!==Oa&&t.next===null&&(Oa===null?fu=Oa=t:Oa=Oa.next=t),du=!0,sd||(sd=!0,US())}function no(t,n){if(!ad&&du){ad=!0;do for(var a=!1,l=fu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-ft(42|t)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,qy(l,f))}else f=ke,f=ni(l,l===et?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pn(l,f)||(a=!0,qy(l,f));l=l.next}while(a);ad=!1}}function PS(){zy()}function zy(){du=sd=!1;var t=0;Ir!==0&&XS()&&(t=Ir);for(var n=Wt(),a=null,l=fu;l!==null;){var h=l.next,f=By(l,n);f===0?(l.next=null,a===null?fu=h:a.next=h,h===null&&(Oa=a)):(a=l,(t!==0||(f&3)!==0)&&(du=!0)),l=h}xt!==0&&xt!==5||no(t),Ir!==0&&(Ir=0)}function By(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-ft(f),T=1<<_,x=h[_];x===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Mh(T,n)):x<=n&&(t.expiredLanes|=T),f&=~T}if(n=et,a=ke,a=ni(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ir(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Pn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ir(l),Ii(a)){case 2:case 8:a=fl;break;case 32:a=rr;break;case 268435456:a=nc;break;default:a=rr}return l=Hy.bind(null,t),a=It(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ir(l),t.callbackPriority=2,t.callbackNode=null,2}function Hy(t,n){if(xt!==0&&xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(hu()&&t.callbackNode!==a)return null;var l=ke;return l=ni(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(by(t,l,n),By(t,Wt()),t.callbackNode!=null&&t.callbackNode===a?Hy.bind(null,t):null)}function qy(t,n){if(hu())return null;by(t,n,!0)}function US(){$S(function(){(Ge&6)!==0?It(hl,PS):zy()})}function ld(){if(Ir===0){var t=_a;t===0&&(t=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Ir=t}return Ir}function Gy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ia(""+t)}function Fy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function zS(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Gy((h[Ot]||null).action),_=l.submitter;_&&(n=(n=_[Ot]||null)?Gy(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var T=new di("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ir!==0){var x=_?Fy(h,_):new FormData(h);Cf(a,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(T.preventDefault(),x=_?Fy(h,_):new FormData(h),Cf(a,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var cd=qh[od],BS=cd.toLowerCase(),HS=cd[0].toUpperCase()+cd.slice(1);Yn(BS,"on"+HS)}Yn(Sp,"onAnimationEnd"),Yn(bp,"onAnimationIteration"),Yn(Ap,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(rS,"onTransitionRun"),Yn(sS,"onTransitionStart"),Yn(aS,"onTransitionCancel"),Yn(wp,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(io));function Yy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],x=T.instance,U=T.currentTarget;if(T=T.listener,x!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=U;try{f(h)}catch(Y){Nc(Y)}h.currentTarget=null,f=x}else for(_=0;_<l.length;_++){if(T=l[_],x=T.instance,U=T.currentTarget,T=T.listener,x!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=U;try{f(h)}catch(Y){Nc(Y)}h.currentTarget=null,f=x}}}}function xe(t,n){var a=n[Ws];a===void 0&&(a=n[Ws]=new Set);var l=t+"__bubble";a.has(l)||(Ky(n,t,2,!1),a.add(l))}function ud(t,n,a){var l=0;n&&(l|=4),Ky(a,t,l,n)}var mu="_reactListening"+Math.random().toString(36).slice(2);function hd(t){if(!t[mu]){t[mu]=!0,pl.forEach(function(a){a!=="selectionchange"&&(qS.has(a)||ud(a,!1,t),ud(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mu]||(n[mu]=!0,ud("selectionchange",!1,n))}}function Ky(t,n,a,l){switch(S_(n)){case 2:var h=y1;break;case 8:h=_1;break;default:h=Rd}a=h.bind(null,n,a,t),h=void 0,!hs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function fd(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=ai(T),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=f=_;continue e}T=T.parentNode}}l=l.return}ur(function(){var U=f,Y=bn(a),Q=[];e:{var z=Rp.get(t);if(z!==void 0){var q=di,he=t;switch(t){case"keypress":if(ds(a)===0)break e;case"keydown":case"keyup":q=wc;break;case"focusin":he="focus",q=ps;break;case"focusout":he="blur",q=ps;break;case"beforeblur":case"afterblur":q=ps;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=p;break;case Sp:case bp:case Ap:q=_c;break;case wp:q=b;break;case"scroll":case"scrollend":q=Cl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=vc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Di;break;case"toggle":case"beforetoggle":q=we}var _e=(n&4)!==0,Ze=!_e&&(t==="scroll"||t==="scrollend"),j=_e?z!==null?z+"Capture":null:z;_e=[];for(var M=U,P;M!==null;){var K=M;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||j===null||(K=Hn(M,j),K!=null&&_e.push(ro(M,K,P))),Ze)break;M=M.return}0<_e.length&&(z=new q(z,he,null,a,Y),Q.push({event:z,listeners:_e}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&a!==Al&&(he=a.relatedTarget||a.fromElement)&&(ai(he)||he[ri]))break e;if((q||z)&&(z=Y.window===Y?Y:(z=Y.ownerDocument)?z.defaultView||z.parentWindow:window,q?(he=a.relatedTarget||a.toElement,q=U,he=he?ai(he):null,he!==null&&(Ze=u(he),_e=he.tag,he!==Ze||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(q=null,he=U),q!==he)){if(_e=Nl,K="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Di,K="onPointerLeave",j="onPointerEnter",M="pointer"),Ze=q==null?z:un(q),P=he==null?z:un(he),z=new _e(K,M+"leave",q,a,Y),z.target=Ze,z.relatedTarget=P,K=null,ai(Y)===U&&(_e=new _e(j,M+"enter",he,a,Y),_e.target=P,_e.relatedTarget=Ze,K=_e),Ze=K,q&&he)t:{for(_e=GS,j=q,M=he,P=0,K=j;K;K=_e(K))P++;K=0;for(var pe=M;pe;pe=_e(pe))K++;for(;0<P-K;)j=_e(j),P--;for(;0<K-P;)M=_e(M),K--;for(;P--;){if(j===M||M!==null&&j===M.alternate){_e=j;break t}j=_e(j),M=_e(M)}_e=null}else _e=null;q!==null&&Qy(Q,z,q,_e,!1),he!==null&&Ze!==null&&Qy(Q,Ze,he,_e,!0)}}e:{if(z=U?un(U):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Be=hp;else if(cp(z))if(fp)Be=tS;else{Be=ZT;var de=WT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&na(U.elementType)&&(Be=hp):Be=eS;if(Be&&(Be=Be(t,U))){up(Q,Be,a,Y);break e}de&&de(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Tl(z,"number",z.value)}switch(de=U?un(U):window,t){case"focusin":(cp(de)||de.contentEditable==="true")&&(ua=de,zh=U,Ol=null);break;case"focusout":Ol=zh=ua=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Ep(Q,a,Y);break;case"selectionchange":if(iS)break;case"keydown":case"keyup":Ep(Q,a,Y)}var Ne;if(qe)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else ca?gs(t,a)&&(De="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(gi&&a.locale!=="ko"&&(ca||De!=="onCompositionStart"?De==="onCompositionEnd"&&ca&&(Ne=Rl()):(fi=Y,wl="value"in fi?fi.value:fi.textContent,ca=!0)),de=pu(U,De),0<de.length&&(De=new pi(De,t,null,a,Y),Q.push({event:De,listeners:de}),Ne?De.data=Ne:(Ne=oa(a),Ne!==null&&(De.data=Ne)))),(Ne=wn?QT(t,a):XT(t,a))&&(De=pu(U,"onBeforeInput"),0<De.length&&(de=new pi("onBeforeInput","beforeinput",null,a,Y),Q.push({event:de,listeners:De}),de.data=Ne)),zS(Q,t,U,a,Y)}Yy(Q,n)})}function ro(t,n,a){return{instance:t,listener:n,currentTarget:a}}function pu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(t,a),h!=null&&l.unshift(ro(t,h,f)),h=Hn(t,n),h!=null&&l.push(ro(t,h,f))),t.tag===3)return l;t=t.return}return[]}function GS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qy(t,n,a,l,h){for(var f=n._reactName,_=[];a!==null&&a!==l;){var T=a,x=T.alternate,U=T.stateNode;if(T=T.tag,x!==null&&x===l)break;T!==5&&T!==26&&T!==27||U===null||(x=U,h?(U=Hn(a,f),U!=null&&_.unshift(ro(a,U,x))):h||(U=Hn(a,f),U!=null&&_.push(ro(a,U,x)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var FS=/\r\n?/g,YS=/\u0000|\uFFFD/g;function Xy(t){return(typeof t=="string"?t:""+t).replace(FS,`
`).replace(YS,"")}function Jy(t,n){return n=Xy(n),Xy(t)===n}function We(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||nn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&nn(t,""+l);break;case"className":hn(t,"class",l);break;case"tabIndex":hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(t,a,l);break;case"style":bl(t,l,f);break;case"data":if(n!=="object"){hn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&We(t,n,"name",h.name,h,null),We(t,n,"formEncType",h.formEncType,h,null),We(t,n,"formMethod",h.formMethod,h,null),We(t,n,"formTarget",h.formTarget,h,null)):(We(t,n,"encType",h.encType,h,null),We(t,n,"method",h.method,h,null),We(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),ea(t,"popover",l);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ea(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pc.get(a)||a,ea(t,a,l))}}function dd(t,n,a,l,h,f){switch(a){case"style":bl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?nn(t,l):(typeof l=="number"||typeof l=="bigint")&&nn(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Ot]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ea(t,a,l)}}}function qt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:We(t,n,f,_,a,null)}}h&&We(t,n,"srcSet",a.srcSet,a,null),l&&We(t,n,"src",a.src,a,null);return;case"input":xe("invalid",t);var T=f=_=h=null,x=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":_=Y;break;case"checked":x=Y;break;case"defaultChecked":U=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:We(t,n,l,Y,a,null)}}fc(t,f,T,x,U,_,h,!1);return;case"select":xe("invalid",t),l=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:We(t,n,h,T,a,null)}n=f,a=_,t.multiple=!!l,n!=null?ar(t,!!l,n,!1):a!=null&&ar(t,!!l,a,!0);return;case"textarea":xe("invalid",t),f=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(t,n,_,T,a,null)}lr(t,l,h,f);return;case"option":for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null)&&(x==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":We(t,n,x,l,a,null));return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<io.length;l++)xe(io[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:We(t,n,U,l,a,null)}return;default:if(na(n)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&dd(t,n,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(t,n,T,l,a,null))}function KS(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,x=null,U=null,Y=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=Q;default:l.hasOwnProperty(q)||We(t,n,q,null,l,Q)}}for(var z in l){var q=l[z];if(Q=a[z],l.hasOwnProperty(z)&&(q!=null||Q!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":U=q;break;case"defaultChecked":Y=q;break;case"value":_=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Q&&We(t,n,z,q,l,Q)}}ta(t,_,T,x,U,Y,f,h);return;case"select":q=_=T=z=null;for(f in a)if(x=a[f],a.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":q=x;default:l.hasOwnProperty(f)||We(t,n,f,null,l,x)}for(h in l)if(f=l[h],x=a[h],l.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==x&&We(t,n,h,f,l,x)}n=T,a=_,l=q,z!=null?ar(t,!!a,z,!1):!!l!=!!a&&(n!=null?ar(t,!!a,n,!0):ar(t,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,n,T,null,l,h)}for(_ in l)if(h=l[_],f=a[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&We(t,n,_,h,l,f)}dc(t,z,q);return;case"option":for(var he in a)z=a[he],a.hasOwnProperty(he)&&z!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:We(t,n,he,null,l,z));for(x in l)z=l[x],q=a[x],l.hasOwnProperty(x)&&z!==q&&(z!=null||q!=null)&&(x==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":We(t,n,x,z,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)z=a[_e],a.hasOwnProperty(_e)&&z!=null&&!l.hasOwnProperty(_e)&&We(t,n,_e,null,l,z);for(U in l)if(z=l[U],q=a[U],l.hasOwnProperty(U)&&z!==q&&(z!=null||q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:We(t,n,U,z,l,q)}return;default:if(na(n)){for(var Ze in a)z=a[Ze],a.hasOwnProperty(Ze)&&z!==void 0&&!l.hasOwnProperty(Ze)&&dd(t,n,Ze,void 0,l,z);for(Y in l)z=l[Y],q=a[Y],!l.hasOwnProperty(Y)||z===q||z===void 0&&q===void 0||dd(t,n,Y,z,l,q);return}}for(var j in a)z=a[j],a.hasOwnProperty(j)&&z!=null&&!l.hasOwnProperty(j)&&We(t,n,j,null,l,z);for(Q in l)z=l[Q],q=a[Q],!l.hasOwnProperty(Q)||z===q||z==null&&q==null||We(t,n,Q,z,l,q)}function $y(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,_=h.initiatorType,T=h.duration;if(f&&T&&$y(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var x=a[l],U=x.startTime;if(U>T)break;var Y=x.transferSize,Q=x.initiatorType;Y&&$y(Q)&&(x=x.responseEnd,_+=Y*(x<T?1:(T-U)/(x-U)))}if(--l,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var md=null,pd=null;function gu(t){return t.nodeType===9?t:t.ownerDocument}function Wy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function XS(){var t=window.event;return t&&t.type==="popstate"?t===yd?!1:(yd=t,!0):(yd=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,JS=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,$S=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(t){return t_.resolve(null).then(t).catch(WS)}:e_;function WS(t){setTimeout(function(){throw t})}function xr(t){return t==="head"}function n_(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),La(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")so(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,so(a);for(var f=a.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[si]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&so(t.ownerDocument.body);a=h}while(a);La(n)}function i_(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function _d(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_d(a),Zs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ZS(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function e1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Dn(t.nextSibling),t===null))return null;return t}function r_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Dn(t.nextSibling),t===null))return null;return t}function vd(t){return t.data==="$?"||t.data==="$~"}function Ed(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function t1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Td=null;function s_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Dn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function a_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function l_(t,n,a){switch(n=gu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function so(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Zs(t)}var On=new Map,o_=new Set;function yu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ki=te.d;te.d={f:n1,r:i1,D:r1,C:s1,L:a1,m:l1,X:c1,S:o1,M:u1};function n1(){var t=Ki.f(),n=ou();return t||n}function i1(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?wg(n):Ki.r(t)}var Ma=typeof document>"u"?null:document;function c_(t,n,a){var l=Ma;if(l&&typeof n=="string"&&n){var h=tn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),o_.has(h)||(o_.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),qt(n,"link",t),Et(n),l.head.appendChild(n)))}}function r1(t){Ki.D(t),c_("dns-prefetch",t,null)}function s1(t,n){Ki.C(t,n),c_("preconnect",t,n)}function a1(t,n,a){Ki.L(t,n,a);var l=Ma;if(l&&t&&n){var h='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+tn(a.imageSizes)+'"]')):h+='[href="'+tn(t)+'"]';var f=h;switch(n){case"style":f=Va(t);break;case"script":f=ja(t)}On.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),On.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(ao(f))||n==="script"&&l.querySelector(lo(f))||(n=l.createElement("link"),qt(n,"link",t),Et(n),l.head.appendChild(n)))}}function l1(t,n){Ki.m(t,n);var a=Ma;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ja(t)}if(!On.has(f)&&(t=w({rel:"modulepreload",href:t},n),On.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(lo(f)))return}l=a.createElement("link"),qt(l,"link",t),Et(l),a.head.appendChild(l)}}}function o1(t,n,a){Ki.S(t,n,a);var l=Ma;if(l&&t){var h=li(l).hoistableStyles,f=Va(t);n=n||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(ao(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=On.get(f))&&Sd(t,a);var x=_=l.createElement("link");Et(x),qt(x,"link",t),x._p=new Promise(function(U,Y){x.onload=U,x.onerror=Y}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,_u(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function c1(t,n){Ki.X(t,n);var a=Ma;if(a&&t){var l=li(a).hoistableScripts,h=ja(t),f=l.get(h);f||(f=a.querySelector(lo(h)),f||(t=w({src:t,async:!0},n),(n=On.get(h))&&bd(t,n),f=a.createElement("script"),Et(f),qt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function u1(t,n){Ki.M(t,n);var a=Ma;if(a&&t){var l=li(a).hoistableScripts,h=ja(t),f=l.get(h);f||(f=a.querySelector(lo(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=On.get(h))&&bd(t,n),f=a.createElement("script"),Et(f),qt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function u_(t,n,a,l){var h=(h=Ce.current)?yu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Va(a.href),a=li(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Va(a.href);var f=li(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(ao(t)))&&!f._p&&(_.instance=f,_.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),f||h1(h,t,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(a),a=li(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Va(t){return'href="'+tn(t)+'"'}function ao(t){return'link[rel="stylesheet"]['+t+"]"}function h_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function h1(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qt(n,"link",a),Et(n),t.head.appendChild(n))}function ja(t){return'[src="'+tn(t)+'"]'}function lo(t){return"script[async]"+t}function f_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return n.instance=l,Et(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),qt(l,"style",h),_u(l,a.precedence,t),n.instance=l;case"stylesheet":h=Va(a.href);var f=t.querySelector(ao(h));if(f)return n.state.loading|=4,n.instance=f,Et(f),f;l=h_(a),(h=On.get(h))&&Sd(l,h),f=(t.ownerDocument||t).createElement("link"),Et(f);var _=f;return _._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),qt(f,"link",l),n.state.loading|=4,_u(f,a.precedence,t),n.instance=f;case"script":return f=ja(a.src),(h=t.querySelector(lo(f)))?(n.instance=h,Et(h),h):(l=a,(h=On.get(f))&&(l=w({},a),bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),qt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,_u(l,a.precedence,t));return n.instance}function _u(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var vu=null;function d_(t,n,a){if(vu===null){var l=new Map,h=vu=new Map;h.set(a,l)}else h=vu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[si]||f[vt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var T=l.get(_);T?T.push(f):l.set(_,[f])}}return l}function m_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function f1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function d1(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Va(l.href),f=n.querySelector(ao(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Eu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Et(f);return}f=n.ownerDocument||n,l=h_(l),(h=On.get(h))&&Sd(l,h),f=f.createElement("link"),Et(f);var _=f;_._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),qt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Eu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ad=0;function m1(t,n){return t.stylesheets&&t.count===0&&Su(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Su(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ad===0&&(Ad=62500*QS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Su(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ad?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Eu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Su(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tu=null;function Su(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tu=new Map,n.forEach(p1,t),Tu=null,Eu.call(t))}function p1(t,n){if(!(n.state.loading&4)){var a=Tu.get(t);if(a)var l=a.get(null);else{a=new Map,Tu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,h),a.set(_,h),this.count++,l=Eu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var oo={$$typeof:G,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function g1(t,n,a,l,h,f,_,T,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function g_(t,n,a,l,h,f,_,T,x,U,Y,Q){return t=new g1(t,n,a,_,x,U,Y,Q,T),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),t.current=f,f.stateNode=t,n=nf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},lf(f),t}function y_(t){return t?(t=da,t):da}function __(t,n,a,l,h,f){h=y_(h),l.context===null?l.context=h:l.pendingContext=h,l=vr(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Er(t,l,n),a!==null&&(on(a,t,n),zl(a,t,n))}function v_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function wd(t,n){v_(t,n),(t=t.alternate)&&v_(t,n)}function E_(t){if(t.tag===13||t.tag===31){var n=vs(t,67108864);n!==null&&on(n,t,67108864),wd(t,67108864)}}function T_(t){if(t.tag===13||t.tag===31){var n=_n();n=ls(n);var a=vs(t,n);a!==null&&on(a,t,n),wd(t,n)}}var bu=!0;function y1(t,n,a,l){var h=F.T;F.T=null;var f=te.p;try{te.p=2,Rd(t,n,a,l)}finally{te.p=f,F.T=h}}function _1(t,n,a,l){var h=F.T;F.T=null;var f=te.p;try{te.p=8,Rd(t,n,a,l)}finally{te.p=f,F.T=h}}function Rd(t,n,a,l){if(bu){var h=Cd(l);if(h===null)fd(t,n,l,Au,a),b_(t,l);else if(E1(h,t,n,a,l))l.stopPropagation();else if(b_(t,l),n&4&&-1<v1.indexOf(t)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ti(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var x=1<<31-ft(_);T.entanglements[1]|=x,_&=~x}Ei(f),(Ge&6)===0&&(au=Wt()+500,no(0))}}break;case 31:case 13:T=vs(f,2),T!==null&&on(T,f,2),ou(),wd(f,2)}if(f=Cd(l),f===null&&fd(t,n,l,Au,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else fd(t,n,l,null,a)}}function Cd(t){return t=bn(t),Nd(t)}var Au=null;function Nd(t){if(Au=null,t=ai(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Au=t,null}function S_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(is()){case hl:return 2;case fl:return 8;case rr:case Oh:return 32;case nc:return 268435456;default:return 32}default:return 32}}var Id=!1,kr=null,Dr=null,Or=null,co=new Map,uo=new Map,Mr=[],v1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(t,n){switch(t){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":co.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(n.pointerId)}}function ho(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&E_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function E1(t,n,a,l,h){switch(n){case"focusin":return kr=ho(kr,t,n,a,l,h),!0;case"dragenter":return Dr=ho(Dr,t,n,a,l,h),!0;case"mouseover":return Or=ho(Or,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return co.set(f,ho(co.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,uo.set(f,ho(uo.get(f)||null,t,n,a,l,h)),!0}return!1}function A_(t){var n=ai(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Un(t.priority,function(){T_(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Un(t.priority,function(){T_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Cd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Al=l,a.target.dispatchEvent(l),Al=null}else return n=Sn(a),n!==null&&E_(n),t.blockedOn=a,!1;n.shift()}return!0}function w_(t,n,a){wu(t)&&a.delete(n)}function T1(){Id=!1,kr!==null&&wu(kr)&&(kr=null),Dr!==null&&wu(Dr)&&(Dr=null),Or!==null&&wu(Or)&&(Or=null),co.forEach(w_),uo.forEach(w_)}function Ru(t,n){t.blockedOn===n&&(t.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,T1)))}var Cu=null;function R_(t){Cu!==t&&(Cu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Cu===t&&(Cu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Nd(l||a)===null)continue;break}var f=Sn(a);f!==null&&(t.splice(n,3),n-=3,Cf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function La(t){function n(x){return Ru(x,t)}kr!==null&&Ru(kr,t),Dr!==null&&Ru(Dr,t),Or!==null&&Ru(Or,t),co.forEach(n),uo.forEach(n);for(var a=0;a<Mr.length;a++){var l=Mr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Mr.length&&(a=Mr[0],a.blockedOn===null);)A_(a),a.blockedOn===null&&Mr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],_=h[Ot]||null;if(typeof f=="function")_||R_(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Ot]||null)T=_.formAction;else if(Nd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),R_(a)}}}function C_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(t){this._internalRoot=t}Nu.prototype.render=xd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=_n();__(a,l,t,n,null,null)},Nu.prototype.unmount=xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;__(t.current,2,null,t,null,null),ou(),n[ri]=null}};function Nu(t){this._internalRoot=t}Nu.prototype.unstable_scheduleHydration=function(t){if(t){var n=oc();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Mr.length&&n!==0&&n<Mr[a].priority;a++);Mr.splice(a,0,t),a===0&&A_(t)}};var N_=e.version;if(N_!=="19.2.4")throw Error(s(527,N_,"19.2.4"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var S1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{Ln=Iu.inject(S1),Pt=Iu}catch{}}return mo.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=Vg,f=jg,_=Lg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=g_(t,1,!1,null,null,a,l,null,h,f,_,C_),t[ri]=n.current,hd(t),new xd(n)},mo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=Vg,_=jg,T=Lg,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),n=g_(t,1,!0,n,a??null,l,h,x,f,_,T,C_),n.context=y_(null),a=n.current,l=_n(),l=ls(l),h=vr(l),h.callback=null,Er(a,h,l),a=l,n.current.lanes=a,ss(n,a),Ei(n),t[ri]=n.current,hd(t),new Nu(n)},mo.version="19.2.4",mo}var P_;function D1(){if(P_)return Od.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Od.exports=k1(),Od.exports}var O1=D1();const M1=()=>{};var U_={};const y0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},V1=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[i++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[i++],d=r[i++],g=r[i++],y=((o&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},_0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,g=d?r[o+1]:0,y=o+2<r.length,v=y?r[o+2]:0,S=u>>2,w=(u&3)<<4|g>>4;let D=(g&15)<<2|v>>6,H=v&63;y||(H=64,d||(D=64)),s.push(i[S],i[w],i[D],i[H])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(y0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):V1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const w=o<r.length?i[r.charAt(o)]:64;if(++o,u==null||g==null||v==null||w==null)throw new j1;const D=u<<2|g>>4;if(s.push(D),v!==64){const H=g<<4&240|v>>2;if(s.push(H),w!==64){const Z=v<<6&192|w;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class j1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L1=function(r){const e=y0(r);return _0.encodeByteArray(e,!0)},Yu=function(r){return L1(r).replace(/\./g,"")},v0=function(r){try{return _0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function P1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const U1=()=>P1().__FIREBASE_DEFAULTS__,z1=()=>{if(typeof process>"u"||typeof U_>"u")return;const r=U_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},B1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&v0(r[1]);return e&&JSON.parse(e)},dh=()=>{try{return M1()||U1()||z1()||B1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},E0=r=>dh()?.emulatorHosts?.[r],H1=r=>{const e=E0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},T0=()=>dh()?.config,S0=r=>dh()?.[`_${r}`];class q1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function tl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b0(r){return(await fetch(r,{credentials:"include"})).ok}function G1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yu(JSON.stringify(i)),Yu(JSON.stringify(d)),""].join(".")}const Ao={};function F1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ao))Ao[e]?r.emulator.push(e):r.prod.push(e);return r}function Y1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let z_=!1;function A0(r,e){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||Ao[r]===e||Ao[r]||z_)return;Ao[r]=e;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",u=F1().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,H){D.setAttribute("width","24"),D.setAttribute("id",H),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function v(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{z_=!0,d()},D}function S(D,H){D.setAttribute("id",H),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function w(){const D=Y1(s),H=i("text"),Z=document.getElementById(H)||document.createElement("span"),$=i("learnmore"),W=document.getElementById($)||document.createElement("a"),le=i("preprendIcon"),fe=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const G=D.element;g(G),S(W,$);const oe=v();y(fe,le),G.append(fe,Z,W,oe),document.body.appendChild(G)}u?(Z.innerText="Preview backend disconnected.",fe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(fe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function Q1(){const r=dh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W1(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Z1(){return!Q1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eb(){try{return typeof indexedDB=="object"}catch{return!1}}function tb(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const nb="FirebaseError";class nr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=nb,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?ib(u,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new nr(o,g,s)}}function ib(r,e){return r.replace(rb,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const rb=/\{\$([^}]+)}/g;function sb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function js(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const u=r[o],d=e[o];if(B_(u)&&B_(d)){if(!js(u,d))return!1}else if(u!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function B_(r){return r!==null&&typeof r=="object"}function Go(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function _o(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function vo(r){const e=r.indexOf("?");if(!e)return"";const i=r.indexOf("#",e);return r.substring(e,i>0?i:void 0)}function ab(r,e){const i=new lb(r,e);return i.subscribe.bind(i)}class lb{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let o;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");ob(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:s},o.next===void 0&&(o.next=Ld),o.error===void 0&&(o.error=Ld),o.complete===void 0&&(o.complete=Ld);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ob(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ld(){}function En(r){return r&&r._delegate?r._delegate:r}class Ls{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ds="[DEFAULT]";class cb{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new q1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hb(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ub(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ub(r){return r===Ds?void 0:r}function hb(r){return r.instantiationMode==="EAGER"}class fb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new cb(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const db={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},mb=Oe.INFO,pb={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},gb=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=pb[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tm{constructor(e){this.name=e,this._logLevel=mb,this._logHandler=gb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?db[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const yb=(r,e)=>e.some(i=>r instanceof i);let H_,q_;function _b(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vb(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w0=new WeakMap,Xd=new WeakMap,R0=new WeakMap,Pd=new WeakMap,Sm=new WeakMap;function Eb(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{i(Hr(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&w0.set(i,r)}).catch(()=>{}),Sm.set(e,r),e}function Tb(r){if(Xd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});Xd.set(r,e)}let Jd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Xd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||R0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Sb(r){Jd=r(Jd)}function bb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Ud(this),e,...i);return R0.set(s,e.sort?e.sort():[e]),Hr(s)}:vb().includes(r)?function(...e){return r.apply(Ud(this),e),Hr(w0.get(this))}:function(...e){return Hr(r.apply(Ud(this),e))}}function Ab(r){return typeof r=="function"?bb(r):(r instanceof IDBTransaction&&Tb(r),yb(r,_b())?new Proxy(r,Jd):r)}function Hr(r){if(r instanceof IDBRequest)return Eb(r);if(Pd.has(r))return Pd.get(r);const e=Ab(r);return e!==r&&(Pd.set(r,e),Sm.set(e,r)),e}const Ud=r=>Sm.get(r);function wb(r,e,{blocked:i,upgrade:s,blocking:o,terminated:u}={}){const d=indexedDB.open(r,e),g=Hr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Hr(d.result),y.oldVersion,y.newVersion,Hr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const Rb=["get","getKey","getAll","getAllKeys","count"],Cb=["put","add","delete","clear"],zd=new Map;function G_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=Cb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Rb.includes(i)))return;const u=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&y.done]))[0]};return zd.set(e,u),u}Sb(r=>({...r,get:(e,i,s)=>G_(e,i)||r.get(e,i,s),has:(e,i)=>!!G_(e,i)||r.has(e,i)}));class Nb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Ib(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Ib(r){return r.getComponent()?.type==="VERSION"}const $d="@firebase/app",F_="0.14.8";const Wi=new Tm("@firebase/app"),xb="@firebase/app-compat",kb="@firebase/analytics-compat",Db="@firebase/analytics",Ob="@firebase/app-check-compat",Mb="@firebase/app-check",Vb="@firebase/auth",jb="@firebase/auth-compat",Lb="@firebase/database",Pb="@firebase/data-connect",Ub="@firebase/database-compat",zb="@firebase/functions",Bb="@firebase/functions-compat",Hb="@firebase/installations",qb="@firebase/installations-compat",Gb="@firebase/messaging",Fb="@firebase/messaging-compat",Yb="@firebase/performance",Kb="@firebase/performance-compat",Qb="@firebase/remote-config",Xb="@firebase/remote-config-compat",Jb="@firebase/storage",$b="@firebase/storage-compat",Wb="@firebase/firestore",Zb="@firebase/ai",eA="@firebase/firestore-compat",tA="firebase",nA="12.9.0";const Wd="[DEFAULT]",iA={[$d]:"fire-core",[xb]:"fire-core-compat",[Db]:"fire-analytics",[kb]:"fire-analytics-compat",[Mb]:"fire-app-check",[Ob]:"fire-app-check-compat",[Vb]:"fire-auth",[jb]:"fire-auth-compat",[Lb]:"fire-rtdb",[Pb]:"fire-data-connect",[Ub]:"fire-rtdb-compat",[zb]:"fire-fn",[Bb]:"fire-fn-compat",[Hb]:"fire-iid",[qb]:"fire-iid-compat",[Gb]:"fire-fcm",[Fb]:"fire-fcm-compat",[Yb]:"fire-perf",[Kb]:"fire-perf-compat",[Qb]:"fire-rc",[Xb]:"fire-rc-compat",[Jb]:"fire-gcs",[$b]:"fire-gcs-compat",[Wb]:"fire-fst",[eA]:"fire-fst-compat",[Zb]:"fire-vertex","fire-js":"fire-js",[tA]:"fire-js-all"};const Ku=new Map,rA=new Map,Zd=new Map;function Y_(r,e){try{r.container.addComponent(e)}catch(i){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Qa(r){const e=r.name;if(Zd.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;Zd.set(e,r);for(const i of Ku.values())Y_(i,r);for(const i of rA.values())Y_(i,r);return!0}function bm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Mn(r){return r==null?!1:r.settings!==void 0}const sA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new qo("app","Firebase",sA);class aA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const nl=nA;function C0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Wd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw qr.create("bad-app-name",{appName:String(o)});if(i||(i=T0()),!i)throw qr.create("no-options");const u=Ku.get(o);if(u){if(js(i,u.options)&&js(s,u.config))return u;throw qr.create("duplicate-app",{appName:o})}const d=new fb(o);for(const y of Zd.values())d.addComponent(y);const g=new aA(i,s,d);return Ku.set(o,g),g}function N0(r=Wd){const e=Ku.get(r);if(!e&&r===Wd&&T0())return C0();if(!e)throw qr.create("no-app",{appName:r});return e}function Gr(r,e,i){let s=iA[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Qa(new Ls(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const lA="firebase-heartbeat-database",oA=1,Do="firebase-heartbeat-store";let Bd=null;function I0(){return Bd||(Bd=wb(lA,oA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Do)}catch(i){console.warn(i)}}}}).catch(r=>{throw qr.create("idb-open",{originalErrorMessage:r.message})})),Bd}async function cA(r){try{const i=(await I0()).transaction(Do),s=await i.objectStore(Do).get(x0(r));return await i.done,s}catch(e){if(e instanceof nr)Wi.warn(e.message);else{const i=qr.create("idb-get",{originalErrorMessage:e?.message});Wi.warn(i.message)}}}async function K_(r,e){try{const s=(await I0()).transaction(Do,"readwrite");await s.objectStore(Do).put(e,x0(r)),await s.done}catch(i){if(i instanceof nr)Wi.warn(i.message);else{const s=qr.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(s.message)}}}function x0(r){return`${r.name}!${r.options.appId}`}const uA=1024,hA=30;class fA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Q_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>hA){const o=pA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Q_(),{heartbeatsToSend:i,unsentEntries:s}=dA(this._heartbeatsCache.heartbeats),o=Yu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Wi.warn(e),""}}}function Q_(){return new Date().toISOString().substring(0,10)}function dA(r,e=uA){const i=[];let s=r.slice();for(const o of r){const u=i.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),X_(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),X_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class mA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eb()?tb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await cA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return K_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return K_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function X_(r){return Yu(JSON.stringify({version:2,heartbeats:r})).length}function pA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function gA(r){Qa(new Ls("platform-logger",e=>new Nb(e),"PRIVATE")),Qa(new Ls("heartbeat",e=>new fA(e),"PRIVATE")),Gr($d,F_,r),Gr($d,F_,"esm2020"),Gr("fire-js","")}gA("");var yA="firebase",_A="12.9.0";Gr(yA,_A,"app");function k0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vA=k0,D0=new qo("auth","Firebase",k0());const Qu=new Tm("@firebase/auth");function EA(r,...e){Qu.logLevel<=Oe.WARN&&Qu.warn(`Auth (${nl}): ${r}`,...e)}function ju(r,...e){Qu.logLevel<=Oe.ERROR&&Qu.error(`Auth (${nl}): ${r}`,...e)}function Wn(r,...e){throw Am(r,...e)}function Si(r,...e){return Am(r,...e)}function O0(r,e,i){const s={...vA(),[e]:i};return new qo("auth","Firebase",s).create(e,{appName:r.name})}function Ji(r){return O0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Am(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return D0.create(r,...e)}function ve(r,e,...i){if(!r)throw Am(e,...i)}function Qi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ju(e),new Error(e)}function Zi(r,e){r||Qi(e)}function em(){return typeof self<"u"&&self.location?.href||""}function TA(){return J_()==="http:"||J_()==="https:"}function J_(){return typeof self<"u"&&self.location?.protocol||null}function SA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TA()||J1()||"connection"in navigator)?navigator.onLine:!0}function bA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Fo{constructor(e,i){this.shortDelay=e,this.longDelay=i,Zi(i>e,"Short delay should be less than long delay!"),this.isMobile=K1()||$1()}get(){return SA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wm(r,e){Zi(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class M0{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RA=new Fo(3e4,6e4);function Zr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function es(r,e,i,s,o={}){return V0(r,o,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const g=Go({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const v={method:e,headers:y,...u};return X1()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&tl(r.emulatorConfig.host)&&(v.credentials="include"),M0.fetch()(await j0(r,r.config.apiHost,i,g),v)})}async function V0(r,e,i){r._canInitEmulator=!1;const s={...AA,...e};try{const o=new NA(r),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw xu(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,v]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw xu(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw xu(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw xu(r,"user-disabled",d);const S=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw O0(r,S,v);Wn(r,S)}}catch(o){if(o instanceof nr)throw o;Wn(r,"network-request-failed",{message:String(o)})}}async function Yo(r,e,i,s,o={}){const u=await es(r,e,i,s,o);return"mfaPendingCredential"in u&&Wn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function j0(r,e,i,s){const o=`${e}${i}?${s}`,u=r,d=u.config.emulator?wm(r.config,o):`${r.config.apiScheme}://${o}`;return wA.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function CA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Si(this.auth,"network-request-failed")),RA.get())})}}function xu(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const o=Si(r,e,s);return o.customData._tokenResponse=i,o}function $_(r){return r!==void 0&&r.enterprise!==void 0}class IA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return CA(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xA(r,e){return es(r,"GET","/v2/recaptchaConfig",Zr(r,e))}async function kA(r,e){return es(r,"POST","/v1/accounts:delete",e)}async function Xu(r,e){return es(r,"POST","/v1/accounts:lookup",e)}function wo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DA(r,e=!1){const i=En(r),s=await i.getIdToken(e),o=Rm(s);ve(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:s,authTime:wo(Hd(o.auth_time)),issuedAtTime:wo(Hd(o.iat)),expirationTime:wo(Hd(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Hd(r){return Number(r)*1e3}function Rm(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return ju("JWT malformed, contained fewer than 3 sections"),null;try{const o=v0(i);return o?JSON.parse(o):(ju("Failed to decode base64 JWT payload"),null)}catch(o){return ju("Caught error parsing JWT payload as JSON",o?.toString()),null}}function W_(r){const e=Rm(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Oo(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof nr&&OA(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function OA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class MA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wo(this.lastLoginAt),this.creationTime=wo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ju(r){const e=r.auth,i=await r.getIdToken(),s=await Oo(r,Xu(e,{idToken:i}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?L0(o.providerUserInfo):[],d=jA(r.providerData,u),g=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!d?.length,v=g?y:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(r,S)}async function VA(r){const e=En(r);await Ju(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jA(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function L0(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function LA(r,e){const i=await V0(r,{},async()=>{const s=Go({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await j0(r,o,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return r.emulatorConfig&&tl(r.emulatorConfig.host)&&(y.credentials="include"),M0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function PA(r,e){return es(r,"POST","/v2/accounts:revokeToken",Zr(r,e))}class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=W_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:o,expiresIn:u}=await LA(e,i);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:o,expirationTime:u}=i,d=new qa;return s&&(ve(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Qi("not implemented")}}function jr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:i,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new MA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Oo(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return DA(this,e)}reload(){return VA(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Ju(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await Oo(this,kA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,v=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:D,isAnonymous:H,providerData:Z,stsTokenManager:$}=i;ve(w&&$,e,"internal-error");const W=qa.fromJSON(this.name,$);ve(typeof w=="string",e,"internal-error"),jr(s,e.name),jr(o,e.name),ve(typeof D=="boolean",e,"internal-error"),ve(typeof H=="boolean",e,"internal-error"),jr(u,e.name),jr(d,e.name),jr(g,e.name),jr(y,e.name),jr(v,e.name),jr(S,e.name);const le=new Xn({uid:w,auth:e,email:o,emailVerified:D,displayName:s,isAnonymous:H,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:W,createdAt:v,lastLoginAt:S});return Z&&Array.isArray(Z)&&(le.providerData=Z.map(fe=>({...fe}))),y&&(le._redirectEventId=y),le}static async _fromIdTokenResponse(e,i,s=!1){const o=new qa;o.updateFromServerResponse(i);const u=new Xn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ju(u),u}static async _fromGetAccountInfoResponse(e,i,s){const o=i.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?L0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,g=new qa;g.updateFromIdToken(s);const y=new Xn({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,v),y}}const Z_=new Map;function Xi(r){Zi(r instanceof Function,"Expected a class definition");let e=Z_.get(r);return e?(Zi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Z_.set(r,e),e)}class P0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}P0.type="NONE";const ev=P0;function Lu(r,e,i){return`firebase:${r}:${e}:${i}`}class Ga{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Lu(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lu("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Xu(this.auth,{idToken:e}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Ga(Xi(ev),e,s);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||Xi(ev);const d=Lu(s,e.config.apiKey,e.name);let g=null;for(const v of i)try{const S=await v._get(d);if(S){let w;if(typeof S=="string"){const D=await Xu(e,{idToken:S}).catch(()=>{});if(!D)break;w=await Xn._fromGetAccountInfoResponse(e,D,S)}else w=Xn._fromJSON(e,S);v!==u&&(g=w),u=v;break}}catch{}const y=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Ga(u,e,s):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==u)try{await v._remove(d)}catch{}})),new Ga(u,e,s))}}function tv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(U0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(G0(e))return"Blackberry";if(F0(e))return"Webos";if(z0(e))return"Safari";if((e.includes("chrome/")||B0(e))&&!e.includes("edge/"))return"Chrome";if(q0(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function U0(r=$t()){return/firefox\//i.test(r)}function z0(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function B0(r=$t()){return/crios\//i.test(r)}function H0(r=$t()){return/iemobile/i.test(r)}function q0(r=$t()){return/android/i.test(r)}function G0(r=$t()){return/blackberry/i.test(r)}function F0(r=$t()){return/webos/i.test(r)}function Cm(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function UA(r=$t()){return Cm(r)&&!!window.navigator?.standalone}function zA(){return W1()&&document.documentMode===10}function Y0(r=$t()){return Cm(r)||q0(r)||F0(r)||G0(r)||/windows phone/i.test(r)||H0(r)}function K0(r,e=[]){let i;switch(r){case"Browser":i=tv($t());break;case"Worker":i=`${tv($t())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${nl}/${s}`}class BA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=u=>new Promise((d,g)=>{try{const y=e(u);d(y)}catch(y){g(y)}});s.onAbort=i,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function HA(r,e={}){return es(r,"GET","/v2/passwordPolicy",Zr(r,e))}const qA=6;class GA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??qA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class FA{constructor(e,i,s,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nv(this),this.idTokenSubscription=new nv(this),this.beforeStateQueue=new BA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Xu(this,{idToken:e}),s=await Xn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===d)&&g?.user&&(s=g.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Ju(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Ji(this));const i=e?En(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HA(this),i=new GA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qo("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await PA(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Xi(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,s,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=K0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&EA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function qs(r){return En(r)}class nv{constructor(e){this.auth=e,this.observer=null,this.addObserver=ab(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YA(r){mh=r}function Q0(r){return mh.loadJS(r)}function KA(){return mh.recaptchaEnterpriseScript}function QA(){return mh.gapiScript}function XA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class JA{constructor(){this.enterprise=new $A}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class $A{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const WA="recaptcha-enterprise",X0="NO_RECAPTCHA";class ZA{constructor(e){this.type=WA,this.auth=qs(e)}async verify(e="verify",i=!1){async function s(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{xA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new IA(y);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,d(v.siteKey)}}).catch(y=>{g(y)})})}function o(u,d,g){const y=window.grecaptcha;$_(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(v=>{d(v)}).catch(()=>{d(X0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JA().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(g=>{if(!i&&$_(window.grecaptcha))o(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=KA();y.length!==0&&(y+=g),Q0(y).then(()=>{o(g,u,d)}).catch(v=>{d(v)})}}).catch(g=>{d(g)})})}}async function iv(r,e,i,s=!1,o=!1){const u=new ZA(r);let d;if(o)d=X0;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,v=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function nm(r,e,i,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await iv(r,e,i,i==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await iv(r,e,i,i==="getOobCode");return s(r,d)}else return Promise.reject(u)})}function ew(r,e){const i=bm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(js(u,e??{}))return o;Wn(o,"already-initialized")}return i.initialize({options:e})}function tw(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Xi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function nw(r,e,i){const s=qs(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=J0(e),{host:d,port:g}=iw(e),y=g===null?"":`:${g}`,v={url:`${u}//${d}${y}/`},S=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(js(v,s.config.emulator)&&js(S,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=S,s.settings.appVerificationDisabledForTesting=!0,tl(d)?(b0(`${u}//${d}${y}`),A0("Auth",!0)):rw()}function J0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function iw(r){const e=J0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:rv(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:rv(d)}}}function rv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function rw(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Nm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,i){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}async function sw(r,e){return es(r,"POST","/v1/accounts:signUp",e)}async function aw(r,e){return Yo(r,"POST","/v1/accounts:signInWithPassword",Zr(r,e))}async function lw(r,e){return Yo(r,"POST","/v1/accounts:signInWithEmailLink",Zr(r,e))}async function ow(r,e){return Yo(r,"POST","/v1/accounts:signInWithEmailLink",Zr(r,e))}class Mo extends Nm{constructor(e,i,s,o=null){super("password",s),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new Mo(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new Mo(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nm(e,i,"signInWithPassword",aw);case"emailLink":return lw(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nm(e,s,"signUpPassword",sw);case"emailLink":return ow(e,{idToken:i,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Fa(r,e){return Yo(r,"POST","/v1/accounts:signInWithIdp",Zr(r,e))}const cw="http://localhost";class Ps extends Nm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Wn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=i;if(!s||!o)return null;const d=new Ps(s,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Fa(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Fa(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Fa(e,i)}buildRequest(){const e={requestUri:cw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Go(i)}return e}}function uw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hw(r){const e=_o(vo(r)).link,i=e?_o(vo(e)).deep_link_id:null,s=_o(vo(r)).deep_link_id;return(s?_o(vo(s)).link:null)||s||i||e||r}class Im{constructor(e){const i=_o(vo(e)),s=i.apiKey??null,o=i.oobCode??null,u=uw(i.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=hw(e);try{return new Im(i)}catch{return null}}}class il{constructor(){this.providerId=il.PROVIDER_ID}static credential(e,i){return Mo._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=Im.parseLink(i);return ve(s,"argument-error"),Mo._fromEmailAndCode(e,s.code,s.tenantId)}}il.PROVIDER_ID="password";il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class $0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ko extends $0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Lr extends Ko{constructor(){super("facebook.com")}static credential(e){return Ps._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";class Pr extends Ko{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ps._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return Pr.credential(i,s)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";class Ur extends Ko{constructor(){super("github.com")}static credential(e){return Ps._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";class zr extends Ko{constructor(){super("twitter.com")}static credential(e,i){return Ps._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return zr.credential(i,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";async function fw(r,e){return Yo(r,"POST","/v1/accounts:signUp",Zr(r,e))}class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,o=!1){const u=await Xn._fromIdTokenResponse(e,s,o),d=sv(s);return new Us({user:u,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const o=sv(s);return new Us({user:e,providerId:o,_tokenResponse:s,operationType:i})}}function sv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class $u extends nr{constructor(e,i,s,o){super(i.code,i.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,$u.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,o){return new $u(e,i,s,o)}}function W0(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?$u._fromErrorAndOperation(r,u,e,s):u})}async function dw(r,e,i=!1){const s=await Oo(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Us._forOperation(r,"link",s)}async function mw(r,e,i=!1){const{auth:s}=r;if(Mn(s.app))return Promise.reject(Ji(s));const o="reauthenticate";try{const u=await Oo(r,W0(s,o,e,r),i);ve(u.idToken,s,"internal-error");const d=Rm(u.idToken);ve(d,s,"internal-error");const{sub:g}=d;return ve(r.uid===g,s,"user-mismatch"),Us._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Wn(s,"user-mismatch"),u}}async function Z0(r,e,i=!1){if(Mn(r.app))return Promise.reject(Ji(r));const s="signIn",o=await W0(r,s,e),u=await Us._fromIdTokenResponse(r,s,o);return i||await r._updateCurrentUser(u.user),u}async function pw(r,e){return Z0(qs(r),e)}async function eE(r){const e=qs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gw(r,e,i){if(Mn(r.app))return Promise.reject(Ji(r));const s=qs(r),d=await nm(s,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fw).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&eE(r),y}),g=await Us._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(g.user),g}function yw(r,e,i){return Mn(r.app)?Promise.reject(Ji(r)):pw(En(r),il.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&eE(r),s})}function _w(r,e,i,s){return En(r).onIdTokenChanged(e,i,s)}function vw(r,e,i){return En(r).beforeAuthStateChanged(e,i)}function Ew(r,e,i,s){return En(r).onAuthStateChanged(e,i,s)}function Tw(r){return En(r).signOut()}const Wu="__sak";class tE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wu,"1"),this.storage.removeItem(Wu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sw=1e3,bw=10;class nE extends tE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),o=this.localCache[i];s!==o&&e(i,o,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const s=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);zA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bw):o()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},Sw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}nE.type="LOCAL";const Aw=nE;class iE extends tE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}iE.type="SESSION";const rE=iE;function ww(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const s=new ph(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:o,data:u}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(d).map(async v=>v(i.origin,u)),y=await ww(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function xm(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class Rw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const v=xm("",20);o.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(w){const D=w;if(D.data.eventId===v)switch(D.data.status){case"ack":clearTimeout(S),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(D.data.response);break;default:clearTimeout(S),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function bi(){return window}function Cw(r){bi().location.href=r}function sE(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function Nw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Iw(){return navigator?.serviceWorker?.controller||null}function xw(){return sE()?self:null}const aE="firebaseLocalStorageDb",kw=1,Zu="firebaseLocalStorage",lE="fbase_key";class Qo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gh(r,e){return r.transaction([Zu],e?"readwrite":"readonly").objectStore(Zu)}function Dw(){const r=indexedDB.deleteDatabase(aE);return new Qo(r).toPromise()}function im(){const r=indexedDB.open(aE,kw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Zu,{keyPath:lE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Zu)?e(s):(s.close(),await Dw(),e(await im()))})})}async function av(r,e,i){const s=gh(r,!0).put({[lE]:e,value:i});return new Qo(s).toPromise()}async function Ow(r,e){const i=gh(r,!1).get(e),s=await new Qo(i).toPromise();return s===void 0?null:s.value}function lv(r,e){const i=gh(r,!0).delete(e);return new Qo(i).toPromise()}const Mw=800,Vw=3;class oE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>Vw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(xw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Nw(),!this.activeServiceWorker)return;this.sender=new Rw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Iw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await im();return await av(e,Wu,"1"),await lv(e,Wu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>av(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>Ow(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>lv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=gh(o,!1).getAll();return new Qo(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oE.type="LOCAL";const jw=oE;new Fo(3e4,6e4);function Lw(r,e){return e?Xi(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class km extends Nm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Fa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Pw(r){return Z0(r.auth,new km(r),r.bypassAuthState)}function Uw(r){const{auth:e,user:i}=r;return ve(i,e,"internal-error"),mw(i,new km(r),r.bypassAuthState)}async function zw(r){const{auth:e,user:i}=r;return ve(i,e,"internal-error"),dw(i,new km(r),r.bypassAuthState)}class cE{constructor(e,i,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:o,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pw;case"linkViaPopup":case"linkViaRedirect":return zw;case"reauthViaPopup":case"reauthViaRedirect":return Uw;default:Wn(this.auth,"internal-error")}}resolve(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bw=new Fo(2e3,1e4);class Ha extends cE{constructor(e,i,s,o,u){super(e,i,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const e=xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Bw.get())};e()}}Ha.currentPopupAction=null;const Hw="pendingRedirect",Pu=new Map;class qw extends cE{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Pu.get(this.auth._key());if(!e){try{const s=await Gw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Pu.set(this.auth._key(),e)}return this.bypassAuthState||Pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gw(r,e){const i=Kw(e),s=Yw(r);if(!await s._isAvailable())return!1;const o=await s._get(i)==="true";return await s._remove(i),o}function Fw(r,e){Pu.set(r._key(),e)}function Yw(r){return Xi(r._redirectPersistence)}function Kw(r){return Lu(Hw,r.config.apiKey,r.name)}async function Qw(r,e,i=!1){if(Mn(r.app))return Promise.reject(Ji(r));const s=qs(r),o=Lw(s,e),d=await new qw(s,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const Xw=600*1e3;class Jw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$w(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!uE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Si(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xw&&this.cachedEventUids.clear(),this.cachedEventUids.has(ov(e))}saveEventToCache(e){this.cachedEventUids.add(ov(e)),this.lastProcessedEventTime=Date.now()}}function ov(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function uE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function $w(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uE(r);default:return!1}}async function Ww(r,e={}){return es(r,"GET","/v1/projects",e)}const Zw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eR=/^https?/;async function tR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Ww(r);for(const i of e)try{if(nR(i))return}catch{}Wn(r,"unauthorized-domain")}function nR(r){const e=em(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!eR.test(i))return!1;if(Zw.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const iR=new Fo(3e4,6e4);function cv(){const r=bi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function rR(r){return new Promise((e,i)=>{function s(){cv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cv(),i(Si(r,"network-request-failed"))},timeout:iR.get()})}if(bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bi().gapi?.load)s();else{const o=XA("iframefcb");return bi()[o]=()=>{gapi.load?s():i(Si(r,"network-request-failed"))},Q0(`${QA()}?onload=${o}`).catch(u=>i(u))}}).catch(e=>{throw Uu=null,e})}let Uu=null;function sR(r){return Uu=Uu||rR(r),Uu}const aR=new Fo(5e3,15e3),lR="__/auth/iframe",oR="emulator/auth/iframe",cR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hR(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?wm(e,oR):`https://${r.config.authDomain}/${lR}`,s={apiKey:e.apiKey,appName:r.name,v:nl},o=uR.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${i}?${Go(s).slice(1)}`}async function fR(r){const e=await sR(r),i=bi().gapi;return ve(i,r,"internal-error"),e.open({where:document.body,url:hR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cR,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const d=Si(r,"network-request-failed"),g=bi().setTimeout(()=>{u(d)},aR.get());function y(){bi().clearTimeout(g),o(s)}s.ping(y).then(y,()=>{u(d)})}))}const dR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mR=500,pR=600,gR="_blank",yR="http://localhost";class uv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _R(r,e,i,s=mR,o=pR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...dR,width:s.toString(),height:o.toString(),top:u,left:d},v=$t().toLowerCase();i&&(g=B0(v)?gR:i),U0(v)&&(e=e||yR,y.scrollbars="yes");const S=Object.entries(y).reduce((D,[H,Z])=>`${D}${H}=${Z},`,"");if(UA(v)&&g!=="_self")return vR(e||"",g),new uv(null);const w=window.open(e||"",g,S);ve(w,r,"popup-blocked");try{w.focus()}catch{}return new uv(w)}function vR(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const ER="__/auth/handler",TR="emulator/auth/handler",SR=encodeURIComponent("fac");async function hv(r,e,i,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:nl,eventId:o};if(e instanceof $0){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",sb(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(e instanceof Ko){const S=e.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const y=await r._getAppCheckToken(),v=y?`#${SR}=${encodeURIComponent(y)}`:"";return`${bR(r)}?${Go(g).slice(1)}${v}`}function bR({config:r}){return r.emulator?wm(r,TR):`https://${r.authDomain}/${ER}`}const qd="webStorageSupport";class AR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rE,this._completeRedirectFn=Qw,this._overrideRedirectResult=Fw}async _openPopup(e,i,s,o){Zi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await hv(e,i,s,em(),o);return _R(e,u,xm())}async _openRedirect(e,i,s,o){await this._originValidation(e);const u=await hv(e,i,s,em(),o);return Cw(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(Zi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await fR(e),s=new Jw(e);return i.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(qd,{type:qd},o=>{const u=o?.[0]?.[qd];u!==void 0&&i(!!u),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=tR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Y0()||z0()||Cm()}}const wR=AR;var fv="@firebase/auth",dv="1.12.0";class RR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function CR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NR(r){Qa(new Ls("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K0(r)},v=new FA(s,o,u,y);return tw(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),Qa(new Ls("auth-internal",e=>{const i=qs(e.getProvider("auth").getImmediate());return(s=>new RR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(fv,dv,CR(r)),Gr(fv,dv,"esm2020")}const IR=300,xR=S0("authIdTokenMaxAge")||IR;let mv=null;const kR=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>xR)return;const o=i?.token;mv!==o&&(mv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function DR(r=N0()){const e=bm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=ew(r,{popupRedirectResolver:wR,persistence:[jw,Aw,rE]}),s=S0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=kR(u.toString());vw(i,d,()=>d(i.currentUser)),_w(i,g=>d(g))}}const o=E0("auth");return o&&nw(i,`http://${o}`),i}function OR(){return document.getElementsByTagName("head")?.[0]??document}YA({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Si("internal-error");u.customData=o,i(u)},s.type="text/javascript",s.charset="UTF-8",OR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NR("Browser");var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fr,hE;(function(){var r;function e(R,A){function N(){}N.prototype=A.prototype,R.F=A.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(k,I,O){for(var C=Array(arguments.length-2),je=2;je<arguments.length;je++)C[je-2]=arguments[je];return A.prototype[I].apply(k,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,N){N||(N=0);const k=Array(16);if(typeof A=="string")for(var I=0;I<16;++I)k[I]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(I=0;I<16;++I)k[I]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=R.g[0],N=R.g[1],I=R.g[2];let O=R.g[3],C;C=A+(O^N&(I^O))+k[0]+3614090360&4294967295,A=N+(C<<7&4294967295|C>>>25),C=O+(I^A&(N^I))+k[1]+3905402710&4294967295,O=A+(C<<12&4294967295|C>>>20),C=I+(N^O&(A^N))+k[2]+606105819&4294967295,I=O+(C<<17&4294967295|C>>>15),C=N+(A^I&(O^A))+k[3]+3250441966&4294967295,N=I+(C<<22&4294967295|C>>>10),C=A+(O^N&(I^O))+k[4]+4118548399&4294967295,A=N+(C<<7&4294967295|C>>>25),C=O+(I^A&(N^I))+k[5]+1200080426&4294967295,O=A+(C<<12&4294967295|C>>>20),C=I+(N^O&(A^N))+k[6]+2821735955&4294967295,I=O+(C<<17&4294967295|C>>>15),C=N+(A^I&(O^A))+k[7]+4249261313&4294967295,N=I+(C<<22&4294967295|C>>>10),C=A+(O^N&(I^O))+k[8]+1770035416&4294967295,A=N+(C<<7&4294967295|C>>>25),C=O+(I^A&(N^I))+k[9]+2336552879&4294967295,O=A+(C<<12&4294967295|C>>>20),C=I+(N^O&(A^N))+k[10]+4294925233&4294967295,I=O+(C<<17&4294967295|C>>>15),C=N+(A^I&(O^A))+k[11]+2304563134&4294967295,N=I+(C<<22&4294967295|C>>>10),C=A+(O^N&(I^O))+k[12]+1804603682&4294967295,A=N+(C<<7&4294967295|C>>>25),C=O+(I^A&(N^I))+k[13]+4254626195&4294967295,O=A+(C<<12&4294967295|C>>>20),C=I+(N^O&(A^N))+k[14]+2792965006&4294967295,I=O+(C<<17&4294967295|C>>>15),C=N+(A^I&(O^A))+k[15]+1236535329&4294967295,N=I+(C<<22&4294967295|C>>>10),C=A+(I^O&(N^I))+k[1]+4129170786&4294967295,A=N+(C<<5&4294967295|C>>>27),C=O+(N^I&(A^N))+k[6]+3225465664&4294967295,O=A+(C<<9&4294967295|C>>>23),C=I+(A^N&(O^A))+k[11]+643717713&4294967295,I=O+(C<<14&4294967295|C>>>18),C=N+(O^A&(I^O))+k[0]+3921069994&4294967295,N=I+(C<<20&4294967295|C>>>12),C=A+(I^O&(N^I))+k[5]+3593408605&4294967295,A=N+(C<<5&4294967295|C>>>27),C=O+(N^I&(A^N))+k[10]+38016083&4294967295,O=A+(C<<9&4294967295|C>>>23),C=I+(A^N&(O^A))+k[15]+3634488961&4294967295,I=O+(C<<14&4294967295|C>>>18),C=N+(O^A&(I^O))+k[4]+3889429448&4294967295,N=I+(C<<20&4294967295|C>>>12),C=A+(I^O&(N^I))+k[9]+568446438&4294967295,A=N+(C<<5&4294967295|C>>>27),C=O+(N^I&(A^N))+k[14]+3275163606&4294967295,O=A+(C<<9&4294967295|C>>>23),C=I+(A^N&(O^A))+k[3]+4107603335&4294967295,I=O+(C<<14&4294967295|C>>>18),C=N+(O^A&(I^O))+k[8]+1163531501&4294967295,N=I+(C<<20&4294967295|C>>>12),C=A+(I^O&(N^I))+k[13]+2850285829&4294967295,A=N+(C<<5&4294967295|C>>>27),C=O+(N^I&(A^N))+k[2]+4243563512&4294967295,O=A+(C<<9&4294967295|C>>>23),C=I+(A^N&(O^A))+k[7]+1735328473&4294967295,I=O+(C<<14&4294967295|C>>>18),C=N+(O^A&(I^O))+k[12]+2368359562&4294967295,N=I+(C<<20&4294967295|C>>>12),C=A+(N^I^O)+k[5]+4294588738&4294967295,A=N+(C<<4&4294967295|C>>>28),C=O+(A^N^I)+k[8]+2272392833&4294967295,O=A+(C<<11&4294967295|C>>>21),C=I+(O^A^N)+k[11]+1839030562&4294967295,I=O+(C<<16&4294967295|C>>>16),C=N+(I^O^A)+k[14]+4259657740&4294967295,N=I+(C<<23&4294967295|C>>>9),C=A+(N^I^O)+k[1]+2763975236&4294967295,A=N+(C<<4&4294967295|C>>>28),C=O+(A^N^I)+k[4]+1272893353&4294967295,O=A+(C<<11&4294967295|C>>>21),C=I+(O^A^N)+k[7]+4139469664&4294967295,I=O+(C<<16&4294967295|C>>>16),C=N+(I^O^A)+k[10]+3200236656&4294967295,N=I+(C<<23&4294967295|C>>>9),C=A+(N^I^O)+k[13]+681279174&4294967295,A=N+(C<<4&4294967295|C>>>28),C=O+(A^N^I)+k[0]+3936430074&4294967295,O=A+(C<<11&4294967295|C>>>21),C=I+(O^A^N)+k[3]+3572445317&4294967295,I=O+(C<<16&4294967295|C>>>16),C=N+(I^O^A)+k[6]+76029189&4294967295,N=I+(C<<23&4294967295|C>>>9),C=A+(N^I^O)+k[9]+3654602809&4294967295,A=N+(C<<4&4294967295|C>>>28),C=O+(A^N^I)+k[12]+3873151461&4294967295,O=A+(C<<11&4294967295|C>>>21),C=I+(O^A^N)+k[15]+530742520&4294967295,I=O+(C<<16&4294967295|C>>>16),C=N+(I^O^A)+k[2]+3299628645&4294967295,N=I+(C<<23&4294967295|C>>>9),C=A+(I^(N|~O))+k[0]+4096336452&4294967295,A=N+(C<<6&4294967295|C>>>26),C=O+(N^(A|~I))+k[7]+1126891415&4294967295,O=A+(C<<10&4294967295|C>>>22),C=I+(A^(O|~N))+k[14]+2878612391&4294967295,I=O+(C<<15&4294967295|C>>>17),C=N+(O^(I|~A))+k[5]+4237533241&4294967295,N=I+(C<<21&4294967295|C>>>11),C=A+(I^(N|~O))+k[12]+1700485571&4294967295,A=N+(C<<6&4294967295|C>>>26),C=O+(N^(A|~I))+k[3]+2399980690&4294967295,O=A+(C<<10&4294967295|C>>>22),C=I+(A^(O|~N))+k[10]+4293915773&4294967295,I=O+(C<<15&4294967295|C>>>17),C=N+(O^(I|~A))+k[1]+2240044497&4294967295,N=I+(C<<21&4294967295|C>>>11),C=A+(I^(N|~O))+k[8]+1873313359&4294967295,A=N+(C<<6&4294967295|C>>>26),C=O+(N^(A|~I))+k[15]+4264355552&4294967295,O=A+(C<<10&4294967295|C>>>22),C=I+(A^(O|~N))+k[6]+2734768916&4294967295,I=O+(C<<15&4294967295|C>>>17),C=N+(O^(I|~A))+k[13]+1309151649&4294967295,N=I+(C<<21&4294967295|C>>>11),C=A+(I^(N|~O))+k[4]+4149444226&4294967295,A=N+(C<<6&4294967295|C>>>26),C=O+(N^(A|~I))+k[11]+3174756917&4294967295,O=A+(C<<10&4294967295|C>>>22),C=I+(A^(O|~N))+k[2]+718787259&4294967295,I=O+(C<<15&4294967295|C>>>17),C=N+(O^(I|~A))+k[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+I&4294967295,R.g[3]=R.g[3]+O&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const N=A-this.blockSize,k=this.C;let I=this.h,O=0;for(;O<A;){if(I==0)for(;O<=N;)o(this,R,O),O+=this.blockSize;if(typeof R=="string"){for(;O<A;)if(k[I++]=R.charCodeAt(O++),I==this.blockSize){o(this,k),I=0;break}}else for(;O<A;)if(k[I++]=R[O++],I==this.blockSize){o(this,k),I=0;break}}this.h=I,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)R[A++]=this.g[N]>>>k&255;return R};function u(R,A){var N=g;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=A(R)}function d(R,A){this.h=A;const N=[];let k=!0;for(let I=R.length-1;I>=0;I--){const O=R[I]|0;k&&O==A||(N[I]=O,k=!1)}this.g=N}var g={};function y(R){return-128<=R&&R<128?u(R,function(A){return new d([A|0],A<0?-1:0)}):new d([R|0],R<0?-1:0)}function v(R){if(isNaN(R)||!isFinite(R))return w;if(R<0)return W(v(-R));const A=[];let N=1;for(let k=0;R>=N;k++)A[k]=R/N|0,N*=4294967296;return new d(A,0)}function S(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return W(S(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=v(Math.pow(A,8));let k=w;for(let O=0;O<R.length;O+=8){var I=Math.min(8,R.length-O);const C=parseInt(R.substring(O,O+I),A);I<8?(I=v(Math.pow(A,I)),k=k.j(I).add(v(C))):(k=k.j(N),k=k.add(v(C)))}return k}var w=y(0),D=y(1),H=y(16777216);r=d.prototype,r.m=function(){if($(this))return-W(this).m();let R=0,A=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);R+=(k>=0?k:4294967296+k)*A,A*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(Z(this))return"0";if($(this))return"-"+W(this).toString(R);const A=v(Math.pow(R,6));var N=this;let k="";for(;;){const I=oe(N,A).g;N=le(N,I.j(A));let O=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=I,Z(N))return O+k;for(;O.length<6;)O="0"+O;k=O+k}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function Z(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function $(R){return R.h==-1}r.l=function(R){return R=le(this,R),$(R)?-1:Z(R)?0:1};function W(R){const A=R.g.length,N=[];for(let k=0;k<A;k++)N[k]=~R.g[k];return new d(N,~R.h).add(D)}r.abs=function(){return $(this)?W(this):this},r.add=function(R){const A=Math.max(this.g.length,R.g.length),N=[];let k=0;for(let I=0;I<=A;I++){let O=k+(this.i(I)&65535)+(R.i(I)&65535),C=(O>>>16)+(this.i(I)>>>16)+(R.i(I)>>>16);k=C>>>16,O&=65535,C&=65535,N[I]=C<<16|O}return new d(N,N[N.length-1]&-2147483648?-1:0)};function le(R,A){return R.add(W(A))}r.j=function(R){if(Z(this)||Z(R))return w;if($(this))return $(R)?W(this).j(W(R)):W(W(this).j(R));if($(R))return W(this.j(W(R)));if(this.l(H)<0&&R.l(H)<0)return v(this.m()*R.m());const A=this.g.length+R.g.length,N=[];for(var k=0;k<2*A;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let I=0;I<R.g.length;I++){const O=this.i(k)>>>16,C=this.i(k)&65535,je=R.i(I)>>>16,tt=R.i(I)&65535;N[2*k+2*I]+=C*tt,fe(N,2*k+2*I),N[2*k+2*I+1]+=O*tt,fe(N,2*k+2*I+1),N[2*k+2*I+1]+=C*je,fe(N,2*k+2*I+1),N[2*k+2*I+2]+=O*je,fe(N,2*k+2*I+2)}for(R=0;R<A;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=A;R<2*A;R++)N[R]=0;return new d(N,0)};function fe(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function G(R,A){this.g=R,this.h=A}function oe(R,A){if(Z(A))throw Error("division by zero");if(Z(R))return new G(w,w);if($(R))return A=oe(W(R),A),new G(W(A.g),W(A.h));if($(A))return A=oe(R,W(A)),new G(W(A.g),A.h);if(R.g.length>30){if($(R)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var N=D,k=A;k.l(R)<=0;)N=ie(N),k=ie(k);var I=re(N,1),O=re(k,1);for(k=re(k,2),N=re(N,2);!Z(k);){var C=O.add(k);C.l(R)<=0&&(I=I.add(N),O=C),k=re(k,1),N=re(N,1)}return A=le(R,I.j(A)),new G(I,A)}for(I=w;R.l(A)>=0;){for(N=Math.max(1,Math.floor(R.m()/A.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),O=v(N),C=O.j(A);$(C)||C.l(R)>0;)N-=k,O=v(N),C=O.j(A);Z(O)&&(O=D),I=I.add(O),R=le(R,C)}return new G(I,R)}r.B=function(R){return oe(this,R).h},r.and=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let k=0;k<A;k++)N[k]=this.i(k)&R.i(k);return new d(N,this.h&R.h)},r.or=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let k=0;k<A;k++)N[k]=this.i(k)|R.i(k);return new d(N,this.h|R.h)},r.xor=function(R){const A=Math.max(this.g.length,R.g.length),N=[];for(let k=0;k<A;k++)N[k]=this.i(k)^R.i(k);return new d(N,this.h^R.h)};function ie(R){const A=R.g.length+1,N=[];for(let k=0;k<A;k++)N[k]=R.i(k)<<1|R.i(k-1)>>>31;return new d(N,R.h)}function re(R,A){const N=A>>5;A%=32;const k=R.g.length-N,I=[];for(let O=0;O<k;O++)I[O]=A>0?R.i(O+N)>>>A|R.i(O+N+1)<<32-A:R.i(O+N);return new d(I,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,hE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Fr=d}).apply(typeof pv<"u"?pv:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fE,Eo,dE,zu,rm,mE,pE,gE;(function(){var r,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var p=0;p<c.length;++p){var E=c[p];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=i(this);function o(c,p){if(p)e:{var E=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in E))break e;E=E[L]}c=c[c.length-1],b=E[c],p=p(b),p!=b&&p!=null&&e(E,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var E=[],b;for(b in p)Object.prototype.hasOwnProperty.call(p,b)&&E.push([b,p[b]]);return E}});var u=u||{},d=this||self;function g(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function y(c,p,E){return c.call.apply(c.bind,arguments)}function v(c,p,E){return v=y,v.apply(null,arguments)}function S(c,p){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function w(c,p){function E(){}E.prototype=p.prototype,c.Z=p.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(b,L,B){for(var ne=Array(arguments.length-2),we=2;we<arguments.length;we++)ne[we-2]=arguments[we];return p.prototype[L].apply(b,ne)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function H(c){const p=c.length;if(p>0){const E=Array(p);for(let b=0;b<p;b++)E[b]=c[b];return E}return[]}function Z(c,p){for(let b=1;b<arguments.length;b++){const L=arguments[b];var E=typeof L;if(E=E!="object"?E:L?Array.isArray(L)?"array":E:"null",E=="array"||E=="object"&&typeof L.length=="number"){E=c.length||0;const B=L.length||0;c.length=E+B;for(let ne=0;ne<B;ne++)c[E+ne]=L[ne]}else c.push(L)}}class ${constructor(p,E){this.i=p,this.j=E,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function W(c){d.setTimeout(()=>{throw c},0)}function le(){var c=R;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class fe{constructor(){this.h=this.g=null}add(p,E){const b=G.get();b.set(p,E),this.h?this.h.next=b:this.g=b,this.h=b}}var G=new $(()=>new oe,c=>c.reset());class oe{constructor(){this.next=this.g=this.h=null}set(p,E){this.h=p,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,re=!1,R=new fe,A=()=>{const c=Promise.resolve(void 0);ie=()=>{c.then(N)}};function N(){for(var c;c=le();){try{c.h.call(c.g)}catch(E){W(E)}var p=G;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}re=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,p),d.removeEventListener("test",E,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function je(c,p){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}w(je,I),je.prototype.init=function(c,p){const E=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(E=="mouseover"?p=c.fromElement:E=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&je.Z.h.call(this)},je.prototype.h=function(){je.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var tt="closure_listenable_"+(Math.random()*1e6|0),F=0;function te(c,p,E,b,L){this.listener=c,this.proxy=null,this.src=p,this.type=E,this.capture=!!b,this.ha=L,this.key=++F,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,p,E){for(const b in c)p.call(E,c[b],b,c)}function Ye(c,p){for(const E in c)p.call(void 0,c[E],E,c)}function V(c){const p={};for(const E in c)p[E]=c[E];return p}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,p){let E,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(E in b)c[E]=b[E];for(let B=0;B<X.length;B++)E=X[B],Object.prototype.hasOwnProperty.call(b,E)&&(c[E]=b[E])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,p,E,b,L){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const ne=Ce(c,p,b,L);return ne>-1?(p=c[ne],E||(p.fa=!1)):(p=new te(p,this.src,B,!!b,L),p.fa=E,c.push(p)),p};function Te(c,p){const E=p.type;if(E in c.g){var b=c.g[E],L=Array.prototype.indexOf.call(b,p,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(ge(p),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ce(c,p,E,b){for(let L=0;L<c.length;++L){const B=c[L];if(!B.da&&B.listener==p&&B.capture==!!E&&B.ha==b)return L}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Nt={};function st(c,p,E,b,L){if(Array.isArray(p)){for(let B=0;B<p.length;B++)st(c,p[B],E,b,L);return null}return E=ul(E),c&&c[tt]?c.J(p,E,g(b)?!!b.capture:!1,L):ts(c,p,E,!1,b,L)}function ts(c,p,E,b,L,B){if(!p)throw Error("Invalid event type");const ne=g(L)?!!L.capture:!!L;let we=ns(c);if(we||(c[Pe]=we=new ue(c)),E=we.add(p,E,b,ne,B),E.proxy)return E;if(b=Qs(),E.proxy=b,b.src=c,b.listener=E,c.addEventListener)O||(L=ne),L===void 0&&(L=!1),c.addEventListener(p.toString(),b,L);else if(c.attachEvent)c.attachEvent(Zn(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Qs(){function c(E){return p.call(c.src,c.listener,E)}const p=ol;return c}function Xs(c,p,E,b,L){if(Array.isArray(p))for(var B=0;B<p.length;B++)Xs(c,p[B],E,b,L);else b=g(b)?!!b.capture:!!b,E=ul(E),c&&c[tt]?(c=c.i,B=String(p).toString(),B in c.g&&(p=c.g[B],E=Ce(p,E,b,L),E>-1&&(ge(p[E]),Array.prototype.splice.call(p,E,1),p.length==0&&(delete c.g[B],c.h--)))):c&&(c=ns(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ce(p,E,b,L)),(E=c>-1?p[c]:null)&&Js(E))}function Js(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[tt])Te(p.i,c);else{var E=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(E,b,c.capture):p.detachEvent?p.detachEvent(Zn(E),b):p.addListener&&p.removeListener&&p.removeListener(b),(E=ns(p))?(Te(E,c),E.h==0&&(E.src=null,p[Pe]=null)):ge(c)}}}function Zn(c){return c in Nt?Nt[c]:Nt[c]="on"+c}function ol(c,p){if(c.da)c=!0;else{p=new je(p,this);const E=c.listener,b=c.ha||c.src;c.fa&&Js(c),c=E.call(b,p)}return c}function ns(c){return c=c[Pe],c instanceof ue?c:null}var cl="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(c){return typeof c=="function"?c:(c[cl]||(c[cl]=function(p){return c.handleEvent(p)}),c[cl])}function yt(){k.call(this),this.i=new ue(this),this.M=this,this.G=null}w(yt,k),yt.prototype[tt]=!0,yt.prototype.removeEventListener=function(c,p,E,b){Xs(this,c,p,E,b)};function It(c,p){var E,b=c.G;if(b)for(E=[];b;b=b.G)E.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new I(p,c);else if(p instanceof I)p.target=p.target||c;else{var L=p;p=new I(b,c),ae(p,L)}L=!0;let B,ne;if(E)for(ne=E.length-1;ne>=0;ne--)B=p.g=E[ne],L=ir(B,b,!0,p)&&L;if(B=p.g=c,L=ir(B,b,!0,p)&&L,L=ir(B,b,!1,p)&&L,E)for(ne=0;ne<E.length;ne++)B=p.g=E[ne],L=ir(B,b,!1,p)&&L}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const E=c.g[p];for(let b=0;b<E.length;b++)ge(E[b]);delete c.g[p],c.h--}}this.G=null},yt.prototype.J=function(c,p,E,b){return this.i.add(String(c),p,!1,E,b)},yt.prototype.K=function(c,p,E,b){return this.i.add(String(c),p,!0,E,b)};function ir(c,p,E,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let B=0;B<p.length;++B){const ne=p[B];if(ne&&!ne.da&&ne.capture==E){const we=ne.listener,dt=ne.ha||ne.src;ne.fa&&Te(c.i,ne),L=we.call(dt,b)!==!1&&L}}return L&&!b.defaultPrevented}function Dh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:d.setTimeout(c,p||0)}function tc(c){c.g=Dh(()=>{c.g=null,c.i&&(c.i=!1,tc(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Wt extends k{constructor(p,E){super(),this.m=p,this.l=E,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:tc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(c){k.call(this),this.h=c,this.g={}}w(is,k);var hl=[];function fl(c){ze(c.g,function(p,E){this.g.hasOwnProperty(E)&&Js(p)},c),c.g={}}is.prototype.N=function(){is.Z.N.call(this),fl(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=d.JSON.stringify,Oh=d.JSON.parse,nc=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ic(){}function rc(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){I.call(this,"d")}w(Pt,I);function Tn(){I.call(this,"c")}w(Tn,I);var ft={},sc=null;function $s(){return sc=sc||new yt}ft.Ia="serverreachability";function ac(c){I.call(this,ft.Ia,c)}w(ac,I);function ei(c){const p=$s();It(p,new ac(p))}ft.STAT_EVENT="statevent";function rs(c,p){I.call(this,ft.STAT_EVENT,c),this.stat=p}w(rs,I);function _t(c){const p=$s();It(p,new rs(p,c))}ft.Ja="timingevent";function ti(c,p){I.call(this,ft.Ja,c),this.size=p}w(ti,I);function ni(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},p)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Mh(c,p,E,b,L,B){c.info(function(){if(c.g)if(B){var ne="",we=B.split("&");for(let qe=0;qe<we.length;qe++){var dt=we[qe].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const wn=at.split("_");ne=wn.length>=2&&wn[1]=="type"?ne+(at+"="+dt+"&"):ne+(at+"=redacted&")}}}else ne=null;else ne=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+p+`
`+E+`
`+ne})}function lc(c,p,E,b,L,B,ne){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+p+`
`+E+`
`+B+" "+ne})}function ii(c,p,E,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Vh(c,E)+(b?" "+b:"")})}function ss(c,p){c.info(function(){return"TIMEOUT: "+p})}Pn.prototype.info=function(){};function Vh(c,p){if(!c.g)return p;if(!p)return null;try{const B=JSON.parse(p);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var E=B[c];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ne=1;ne<b.length;ne++)b[ne]=""}}}}return rr(B)}catch{return p}}var as={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ml;function ls(){}w(ls,ic),ls.prototype.g=function(){return new XMLHttpRequest},ml=new ls;function Ii(c){return encodeURIComponent(String(c))}function oc(c){var p=1;c=c.split(":");const E=[];for(;p>0&&c.length;)E.push(c.shift()),p--;return c.length&&E.push(c.join(":")),E}function Un(c,p,E,b){this.j=c,this.i=p,this.l=E,this.S=b||1,this.V=new is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var vt={},Ot={};function ri(c,p,E){c.M=1,c.A=os(Tt(p)),c.u=E,c.R=!0,Ws(c,null)}function Ws(c,p){c.F=Date.now(),si(c),c.B=Tt(c.A);var E=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),na(E.i,"t",b),c.C=0,E=c.j.L,c.h=new zn,c.g=bc(c.j,E?p:null,!c.u),c.P>0&&(c.O=new Wt(v(c.Y,c,c.g),c.P)),p=c.V,E=c.g,b=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(hl[0]=L.toString()),L=hl);for(let B=0;B<L.length;B++){const ne=st(E,L[B],b||p.handleEvent,!1,p.h||p);if(!ne)break;p.g[ne.key]=ne}p=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ei(),Mh(c.i,c.v,c.B,c.l,c.S,c.u)}Un.prototype.ba=function(c){c=c.target;const p=this.O;p&&qn(c)==3?p.j():this.Y(c)},Un.prototype.Y=function(c){try{if(c==this.g)e:{const we=qn(this.g),dt=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ut(this.g)))){this.K||we!=4||dt==7||(dt==8||qe<=0?ei(3):ei(2)),ai(this);var p=this.g.ca();this.X=p;var E=jh(this);if(this.o=p==200,lc(this.i,this.v,this.B,this.l,this.S,we,p),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var B=b;break t}}B=null}if(c=B)ii(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,c);else{this.o=!1,this.m=3,_t(12),un(this),Sn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<E.length;)if(at=uc(this,E),at==Ot){we==4&&(this.m=4,_t(14),c=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(at==vt){this.m=4,_t(15),ii(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else ii(this.i,this.l,at,null),li(this,at);if(cc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||E.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)ii(this.i,this.l,E,"[Invalid Chunked Response]"),un(this),Sn(this);else if(E.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Il(ne),ne.P=!0,_t(11))}}else ii(this.i,this.l,E,null),li(this,E);we==4&&un(this),this.o&&!this.K&&(we==4?vc(this.j,this):(this.o=!1,si(this)))}else ki(this.g),p==400&&E.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),un(this),Sn(this)}}}catch{}};function jh(c){if(!cc(c))return c.g.la();const p=Ut(c.g);if(p==="")return"";let E="";const b=p.length,L=qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return un(c),Sn(c),"";c.h.i=new d.TextDecoder}for(let B=0;B<b;B++)c.h.h=!0,E+=c.h.i.decode(p[B],{stream:!(L&&B==b-1)});return p.length=0,c.h.g+=E,c.C=0,c.h.g}function cc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function uc(c,p){var E=c.C,b=p.indexOf(`
`,E);return b==-1?Ot:(E=Number(p.substring(E,b)),isNaN(E)?vt:(b+=1,b+E>p.length?Ot:(p=p.slice(b,b+E),c.C=b+E,p)))}Un.prototype.cancel=function(){this.K=!0,un(this)};function si(c){c.T=Date.now()+c.H,Zs(c,c.H)}function Zs(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ni(v(c.aa,c),p)}function ai(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Un.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ss(this.i,this.B),this.M!=2&&(ei(),_t(17)),un(this),this.m=2,Sn(this)):Zs(this,this.T-c)};function Sn(c){c.j.I==0||c.K||vc(c.j,c)}function un(c){ai(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,fl(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function li(c,p){try{var E=c.j;if(E.I!=0&&(E.g==c||ci(E.h,c))){if(!c.L&&ci(E.h,c)&&E.I==3){try{var b=E.Ba.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)la(E),fr(E);else break e;ps(E),_t(18)}}else E.xa=L[1],0<E.xa-E.K&&L[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ni(v(E.Va,E),6e3));oi(E.h)<=1&&E.ta&&(E.ta=void 0)}else pi(E,11)}else if((c.L||E.g==c)&&la(E),!C(p))for(L=E.Ba.g.parse(p),p=0;p<L.length;p++){let qe=L[p];const at=qe[0];if(!(at<=E.K))if(E.K=at,qe=qe[1],E.I==2)if(qe[0]=="c"){E.M=qe[1],E.ba=qe[2];const wn=qe[3];wn!=null&&(E.ka=wn,E.j.info("VER="+E.ka));const gi=qe[4];gi!=null&&(E.za=gi,E.j.info("SVER="+E.za));const Gn=qe[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(b=1.5*Gn,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const Fn=c.g;if(Fn){const gs=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gs){var B=b.h;B.g||gs.indexOf("spdy")==-1&&gs.indexOf("quic")==-1&&gs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(yl(B,B.h),B.h=null))}if(b.G){const oa=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(b.wa=oa,Ke(b.J,b.G,oa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var ne=c;if(b.na=Sc(b,b.L?b.ba:null,b.W),ne.L){_l(b.h,ne);var we=ne,dt=b.O;dt&&(we.H=dt),we.D&&(ai(we),si(we)),b.g=ne}else yc(b);E.i.length>0&&mi(E)}else qe[0]!="stop"&&qe[0]!="close"||pi(E,7);else E.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?pi(E,7):Cl(E):qe[0]!="noop"&&E.l&&E.l.qa(qe),E.A=0)}}ei(4)}catch{}}var Et=class{constructor(c,p){this.g=c,this.map=p}};function pl(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function oi(c){return c.h?1:c.g?c.g.size:0}function ci(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function yl(c,p){c.g?c.g.add(p):c.h=p}function _l(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}pl.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function vl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const E of c.g.values())p=p.concat(E.G);return p}return H(c.i)}var hc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(c,p){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const b=c[E].indexOf("=");let L,B=null;b>=0?(L=c[E].substring(0,b),B=c[E].substring(b+1)):L=c[E],p(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function hn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof hn?(this.l=c.l,Mt(this,c.j),this.o=c.o,this.g=c.g,sr(this,c.u),this.h=c.h,El(this,pc(c.i)),this.m=c.m):c&&(p=String(c).match(hc))?(this.l=!1,Mt(this,p[1]||"",!0),this.o=ui(p[2]||""),this.g=ui(p[3]||"",!0),sr(this,p[4]),this.h=ui(p[5]||"",!0),El(this,p[6]||"",!0),this.m=ui(p[7]||"")):(this.l=!1,this.i=new lr(null,this.l))}hn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(cs(p,ta,!0),":");var E=this.g;return(E||p=="file")&&(c.push("//"),(p=this.o)&&c.push(cs(p,ta,!0),"@"),c.push(Ii(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(cs(E,E.charAt(0)=="/"?Tl:fc,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",cs(E,dc)),c.join("")},hn.prototype.resolve=function(c){const p=Tt(this);let E=!!c.j;E?Mt(p,c.j):E=!!c.o,E?p.o=c.o:E=!!c.g,E?p.g=c.g:E=c.u!=null;var b=c.h;if(E)sr(p,c.u);else if(E=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=p.h.lastIndexOf("/");L!=-1&&(b=p.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ne=0;ne<L.length;){const we=L[ne++];we=="."?b&&ne==L.length&&B.push(""):we==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&ne==L.length&&B.push("")):(B.push(we),b=!0)}b=B.join("/")}else b=L}return E?p.h=b:E=c.i.toString()!=="",E?El(p,pc(c.i)):E=!!c.m,E&&(p.m=c.m),p};function Tt(c){return new hn(c)}function Mt(c,p,E){c.j=E?ui(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function sr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function El(c,p,E){p instanceof lr?(c.i=p,ia(c.i,c.l)):(E||(p=cs(p,ar)),c.i=new lr(p,c.l))}function Ke(c,p,E){c.i.set(p,E)}function os(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ui(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function cs(c,p,E){return typeof c=="string"?(c=encodeURI(c).replace(p,tn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function tn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ta=/[#\/\?@]/g,fc=/[#\?:]/g,Tl=/[#\?]/g,ar=/[#\?@]/g,dc=/#/g;function lr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function nn(c){c.g||(c.g=new Map,c.h=0,c.i&&ea(c.i,function(p,E){c.add(decodeURIComponent(p.replace(/\+/g," ")),E)}))}r=lr.prototype,r.add=function(c,p){nn(this),this.i=null,c=or(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(p),this.h+=1,this};function mc(c,p){nn(c),p=or(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Sl(c,p){return nn(c),p=or(c,p),c.g.has(p)}r.forEach=function(c,p){nn(this),this.g.forEach(function(E,b){E.forEach(function(L){c.call(p,L,b,this)},this)},this)};function bl(c,p){nn(c);let E=[];if(typeof p=="string")Sl(c,p)&&(E=E.concat(c.g.get(or(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)E=E.concat(c[p]);return E}r.set=function(c,p){return nn(this),this.i=null,c=or(this,c),Sl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=bl(this,c),c.length>0?String(c[0]):p):p};function na(c,p,E){mc(c,p),E.length>0&&(c.i=null,c.g.set(or(c,p),H(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let b=0;b<p.length;b++){var E=p[b];const L=Ii(E);E=bl(this,E);for(let B=0;B<E.length;B++){let ne=L;E[B]!==""&&(ne+="="+Ii(E[B])),c.push(ne)}}return this.i=c.join("&")};function pc(c){const p=new lr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function or(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ia(c,p){p&&!c.j&&(nn(c),c.i=null,c.g.forEach(function(E,b){const L=b.toLowerCase();b!=L&&(mc(this,b),na(this,L,E))},c)),c.j=p}function Bn(c,p){const E=new Pn;if(d.Image){const b=new Image;b.onload=S(bn,E,"TestLoadImage: loaded",!0,p,b),b.onerror=S(bn,E,"TestLoadImage: error",!1,p,b),b.onabort=S(bn,E,"TestLoadImage: abort",!1,p,b),b.ontimeout=S(bn,E,"TestLoadImage: timeout",!1,p,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function Al(c,p){const E=new Pn,b=new AbortController,L=setTimeout(()=>{b.abort(),bn(E,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?bn(E,"TestPingServer: ok",!0,p):bn(E,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),bn(E,"TestPingServer: error",!1,p)})}function bn(c,p,E,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(E)}catch{}}function cr(){this.g=new nc}function hi(c){this.i=c.Sb||null,this.h=c.ab||!1}w(hi,ic),hi.prototype.g=function(){return new us(this.i,this.h)};function us(c,p){yt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(us,yt),r=us.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Hn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||d).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ur(this):Hn(this),this.readyState==3&&ra(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,ur(this))},r.Na=function(c){this.g&&(this.response=c,ur(this))},r.ga=function(){this.g&&ur(this)};function ur(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var E=p.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=p.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function An(c){let p="";return ze(c,function(E,b){p+=b,p+=":",p+=E,p+=`\r
`}),p}function hs(c,p,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=An(E),typeof c=="string"?E!=null&&Ii(E):Ke(c,p,E))}function Je(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Je,yt);var fi=/^https?$/i,wl=["POST","PUT"];r=Je.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ml.g(),this.g.onreadystatechange=D(v(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(B){fs(this,B);return}if(c=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)E.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())E.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(wl,p,void 0)>=0)||b||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of E)this.g.setRequestHeader(B,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){fs(this,B)}};function fs(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Rl(c),xi(c)}function Rl(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,It(this,"complete"),It(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ds(this):this.Xa())},r.Xa=function(){ds(this)};function ds(c){if(c.h&&typeof u<"u"){if(c.v&&qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(It(c,"readystatechange"),qn(c)==4){c.h=!1;try{const B=c.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var E;if(!(E=p)){var b;if(b=B===0){let ne=String(c.D).match(hc)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),b=!fi.test(ne?ne.toLowerCase():"")}E=b}if(E)It(c,"complete"),It(c,"success");else{c.o=6;try{var L=qn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Rl(c)}}finally{xi(c)}}}}function xi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,p||It(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Oh(p)}};function Ut(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(c){const p={};c=(c.g&&qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(C(c[b]))continue;var E=oc(c[b]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const B=p[L]||[];p[L]=B,B.push(E)}Ye(p,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(c,p,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||p}function hr(c){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,c),this.Za=di("retryDelaySeedMs",1e4,c),this.Ta=di("forwardChannelMaxRetries",2,c),this.va=di("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new pl(c&&c.concurrentRequestLimit),this.Ba=new cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=hr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,E,b){_t(0),this.W=c,this.H=p||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=Sc(this,null,this.W),mi(this)};function Cl(c){if(sa(c),c.I==3){var p=c.V++,E=Tt(c.J);if(Ke(E,"SID",c.M),Ke(E,"RID",p),Ke(E,"TYPE","terminate"),ms(c,E),p=new Un(c,c.j,p),p.M=2,p.A=os(Tt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(p.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=p.A,E=!0),E||(p.g=bc(p.j,null),p.g.ea(p.A)),p.F=Date.now(),si(p)}Tc(c)}function fr(c){c.g&&(Il(c),c.g.cancel(),c.g=null)}function sa(c){fr(c),c.v&&(d.clearTimeout(c.v),c.v=null),la(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function mi(c){if(!gl(c.h)&&!c.m){c.m=!0;var p=c.Ea;ie||A(),re||(ie(),re=!0),R.add(p,c),c.D=0}}function aa(c,p){return oi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ni(v(c.Ea,c,p),Ec(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Un(this,this.j,c);let B=this.o;if(this.U&&(B?(B=V(B),ae(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var p=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,p>4096){p=E;break e}if(p===4096||E===this.i.length-1){p=E+1;break e}}p=1e3}else p=1e3;p=gc(this,L,p),E=Tt(this.J),Ke(E,"RID",c),Ke(E,"CVER",22),this.G&&Ke(E,"X-HTTP-Session-Id",this.G),ms(this,E),B&&(this.R?p="headers="+Ii(An(B))+"&"+p:this.u&&hs(E,this.u,B)),yl(this.h,L),this.Ra&&Ke(E,"TYPE","init"),this.S?(Ke(E,"$req",p),Ke(E,"SID","null"),L.U=!0,ri(L,E,null)):ri(L,E,p),this.I=2}}else this.I==3&&(c?Nl(this,c):this.i.length==0||gl(this.h)||Nl(this))};function Nl(c,p){var E;p?E=p.l:E=c.V++;const b=Tt(c.J);Ke(b,"SID",c.M),Ke(b,"RID",E),Ke(b,"AID",c.K),ms(c,b),c.u&&c.o&&hs(b,c.u,c.o),E=new Un(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),p&&(c.i=p.G.concat(c.i)),p=gc(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),yl(c.h,E),ri(E,b,p)}function ms(c,p){c.H&&ze(c.H,function(E,b){Ke(p,b,E)}),c.l&&ze({},function(E,b){Ke(p,b,E)})}function gc(c,p,E){E=Math.min(c.i.length,E);const b=c.l?v(c.l.Ka,c.l,c):null;e:{var L=c.i;let we=-1;for(;;){const dt=["count="+E];we==-1?E>0?(we=L[0].g,dt.push("ofs="+we)):we=0:dt.push("ofs="+we);let qe=!0;for(let at=0;at<E;at++){var B=L[at].g;const wn=L[at].map;if(B-=we,B<0)we=Math.max(0,L[at].g-100),qe=!1;else try{B="req"+B+"_"||"";try{var ne=wn instanceof Map?wn:Object.entries(wn);for(const[gi,Gn]of ne){let Fn=Gn;g(Gn)&&(Fn=rr(Gn)),dt.push(B+gi+"="+encodeURIComponent(Fn))}}catch(gi){throw dt.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{b&&b(wn)}}if(qe){ne=dt.join("&");break e}}ne=void 0}return c=c.i.splice(0,E),p.G=c,ne}function yc(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;ie||A(),re||(ie(),re=!0),R.add(p,c),c.A=0}}function ps(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ni(v(c.Da,c),Ec(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,_c(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ni(v(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),fr(this),_c(this))};function Il(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function _c(c){c.g=new Un(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Tt(c.na);Ke(p,"RID","rpc"),Ke(p,"SID",c.M),Ke(p,"AID",c.K),Ke(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(p,"TO",c.ia),Ke(p,"TYPE","xmlhttp"),ms(c,p),c.u&&c.o&&hs(p,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=os(Tt(p)),E.u=null,E.R=!0,Ws(E,c)}r.Va=function(){this.C!=null&&(this.C=null,fr(this),ps(this),_t(19))};function la(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function vc(c,p){var E=null;if(c.g==p){la(c),Il(c),c.g=null;var b=2}else if(ci(c.h,p))E=p.G,_l(c.h,p),b=1;else return;if(c.I!=0){if(p.o)if(b==1){E=p.u?p.u.length:0,p=Date.now()-p.F;var L=c.D;b=$s(),It(b,new ti(b,E)),mi(c)}else yc(c);else if(L=p.m,L==3||L==0&&p.X>0||!(b==1&&aa(c,p)||b==2&&ps(c)))switch(E&&E.length>0&&(p=c.h,p.i=p.i.concat(E)),L){case 1:pi(c,5);break;case 4:pi(c,10);break;case 3:pi(c,6);break;default:pi(c,2)}}}function Ec(c,p){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*p}function pi(c,p){if(c.j.info("Error code "+p),p==2){var E=v(c.bb,c),b=c.Ua;const L=!b;b=new hn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Mt(b,"https"),os(b),L?Bn(b.toString(),E):Al(b.toString(),E)}else _t(2);c.I=0,c.l&&c.l.pa(p),Tc(c),sa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Tc(c){if(c.I=0,c.ja=[],c.l){const p=vl(c.h);(p.length!=0||c.i.length!=0)&&(Z(c.ja,p),Z(c.ja,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.oa()}}function Sc(c,p,E){var b=E instanceof hn?Tt(E):new hn(E);if(b.g!="")p&&(b.g=p+"."+b.g),sr(b,b.u);else{var L=d.location;b=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const B=new hn(null);b&&Mt(B,b),p&&(B.g=p),L&&sr(B,L),E&&(B.h=E),b=B}return E=c.G,p=c.wa,E&&p&&Ke(b,E,p),Ke(b,"VER",c.ka),ms(c,b),b}function bc(c,p,E){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Je(new hi({ab:E})):new Je(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ac(){}r=Ac.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function dr(){}dr.prototype.g=function(c,p){return new Zt(c,p)};function Zt(c,p){yt.call(this),this.g=new hr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Di(this)}w(Zt,yt),Zt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Cl(this.g)},Zt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=rr(c),c=E);p.i.push(new Et(p.Ya++,c)),p.I==3&&mi(p)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,Zt.Z.N.call(this)};function wc(c){Pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const E in p){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}w(wc,Pt);function Rc(){Tn.call(this),this.status=1}w(Rc,Tn);function Di(c){this.g=c}w(Di,Ac),Di.prototype.ra=function(){It(this.g,"a")},Di.prototype.qa=function(c){It(this.g,new wc(c))},Di.prototype.pa=function(c){It(this.g,new Rc)},Di.prototype.oa=function(){It(this.g,"b")},dr.prototype.createWebChannel=dr.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,gE=function(){return new dr},pE=function(){return $s()},mE=ft,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,zu=as,dl.COMPLETE="complete",dE=dl,rc.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",yt.prototype.listen=yt.prototype.J,Eo=rc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,fE=Je}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");let rl="12.9.0";function MR(r){rl=r}const zs=new Tm("@firebase/firestore");function Pa(){return zs.logLevel}function ce(r,...e){if(zs.logLevel<=Oe.DEBUG){const i=e.map(Dm);zs.debug(`Firestore (${rl}): ${r}`,...i)}}function er(r,...e){if(zs.logLevel<=Oe.ERROR){const i=e.map(Dm);zs.error(`Firestore (${rl}): ${r}`,...i)}}function Bs(r,...e){if(zs.logLevel<=Oe.WARN){const i=e.map(Dm);zs.warn(`Firestore (${rl}): ${r}`,...i)}}function Dm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Ee(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,yE(r,s,i)}function yE(r,e,i){let s=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw er(s),new Error(s)}function Fe(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||yE(e,o,s)}function Ae(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends nr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class _E{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xt.UNAUTHENTICATED)))}shutdown(){}}class jR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class LR{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Fe(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let u=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Yr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Yr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new _E(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class PR{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class UR{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new PR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Fe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=BR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<i&&(s+=e.charAt(o[u]%62))}return s}}function Me(r,e){return r<e?-1:r>e?1:0}function sm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Gd(o)===Gd(u)?Me(o,u):Gd(o)?1:-1}return Me(r.length,e.length)}const HR=55296,qR=57343;function Gd(r){const e=r.charCodeAt(0);return e>=HR&&e<=qR}function Xa(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}const yv="__name__";class Ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Ee(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const u=Ti.compareSegments(e.get(o),i.get(o));if(u!==0)return u}return Me(e.length,i.length)}static compareSegments(e,i){const s=Ti.isNumericId(e),o=Ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ti.extractNumericId(e).compare(Ti.extractNumericId(i)):sm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fr.fromString(e.substring(4,e.length-2))}}class ot extends Ti{construct(e,i,s){return new ot(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ot(i)}static emptyPath(){return new ot([])}}const GR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Ti{construct(e,i,s){return new Ft(e,i,s)}static isValidIdentifier(e){return GR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yv}static keyField(){return new Ft([yv])}static fromServerFormat(e){const i=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new me(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new me(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(u(),o++)}if(u(),d)throw new me(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(i)}static emptyPath(){return new Ft([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ot.fromString(e))}static fromName(e){return new ye(ot.fromString(e).popFirst(5))}static empty(){return new ye(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ot.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ot(e.slice()))}}function FR(r,e,i){if(!i)throw new me(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function YR(r,e,i,s){if(e===!0&&s===!0)throw new me(ee.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function _v(r){if(!ye.isDocumentKey(r))throw new me(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function vE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Mm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Vo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Mm(r);throw new me(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ct(r,e){const i={typeString:r};return e&&(i.value=e),i}function Xo(r,e){if(!vE(r))throw new me(ee.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${s}' field to equal '${u.value}'`;break}}if(i)throw new me(ee.INVALID_ARGUMENT,i);return!0}const vv=-62135596800,Ev=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Ev);return new rt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<vv)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ev}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xo(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ct("string",rt._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new rt(0,0))}static max(){return new Se(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jo=-1;function KR(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new rt(i+1,0):new rt(i,s));return new Kr(o,ye.empty(),e)}function QR(r){return new Kr(r.readTime,r.key,jo)}class Kr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Kr(Se.min(),ye.empty(),jo)}static max(){return new Kr(Se.max(),ye.empty(),jo)}}function XR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(r.documentKey,e.documentKey),i!==0?i:Me(r.largestBatchId,e.largestBatchId))}const JR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function sl(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==JR)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,s)=>{i(e)}))}static reject(e){return new J(((i,s)=>{s(e)}))}static waitFor(e){return new J(((i,s)=>{let o=0,u=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++u,d&&u===o&&i()}),(y=>s(y)))})),d=!0,u===o&&i()}))}static or(e){let i=J.resolve(!1);for(const s of e)i=i.next((o=>o?J.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,u)=>{s.push(i.call(this,o,u))})),this.waitFor(s)}static mapArray(e,i){return new J(((s,o)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const v=y;i(e[v]).next((S=>{d[v]=S,++g,g===u&&s(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new J(((s,o)=>{const u=()=>{e()===!0?i().next((()=>{u()}),o):s()};u()}))}}function WR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function al(r){return r.name==="IndexedDbTransactionError"}class yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const Vm=-1;function _h(r){return r==null}function eh(r){return r===0&&1/r==-1/0}function ZR(r){return typeof r=="number"&&Number.isInteger(r)&&!eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const EE="";function eC(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Tv(e)),e=tC(r.get(i),e);return Tv(e)}function tC(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":i+="";break;case EE:i+="";break;default:i+=u}}return i}function Tv(r){return r+EE+""}function Sv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Gs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function TE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ct{constructor(e,i){this.comparator=e,this.root=i||Gt.EMPTY}insert(e,i){return new ct(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Du(this.root,e,this.comparator,!1)}getReverseIterator(){return new Du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Du(this.root,e,this.comparator,!0)}}class Du{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?s(e.key,i):1,i&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,i,s,o,u){this.key=e,this.value=i,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,u){return new Gt(e??this.key,i??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,i,s),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,s,o,u){return this}insert(e,i,s){return new Gt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new bv(this.data.getIterator())}getIteratorFrom(e){return new bv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Dt(this.comparator);return i.data=e,i}}class bv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Jn([])}unionWith(e){let i=new Dt(Ft.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class SE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new SE("Invalid base64 string: "+u):u}})(e);return new Yt(i)}static fromUint8Array(e){const i=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new Yt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const nC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const i=nC.exec(r);if(Fe(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xr(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const bE="server_timestamp",AE="__type__",wE="__previous_value__",RE="__local_write_time__";function jm(r){return(r?.mapValue?.fields||{})[AE]?.stringValue===bE}function vh(r){const e=r.mapValue.fields[wE];return jm(e)?vh(e):e}function Lo(r){const e=Qr(r.mapValue.fields[RE].timestampValue);return new rt(e.seconds,e.nanos)}class iC{constructor(e,i,s,o,u,d,g,y,v,S,w){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=S,this.apiKey=w}}const th="(default)";class Po{constructor(e,i){this.projectId=e,this.database=i||th}static empty(){return new Po("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof Po&&e.projectId===this.projectId&&e.database===this.database}}function rC(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new me(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(r.options.projectId,e)}const CE="__type__",sC="__max__",Ou={mapValue:{}},NE="__vector__",nh="value";function Jr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jm(r)?4:lC(r)?9007199254740991:aC(r)?10:11:Ee(28295,{value:r})}function Ci(r,e){if(r===e)return!0;const i=Jr(r);if(i!==Jr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Lo(r).isEqual(Lo(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=Qr(o.timestampValue),g=Qr(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Xr(o.bytesValue).isEqual(Xr(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=gt(o.doubleValue),g=gt(u.doubleValue);return d===g?eh(d)===eh(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return Xa(r.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},g=u.mapValue.fields||{};if(Sv(d)!==Sv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ci(d[y],g[y])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function Uo(r,e){return(r.values||[]).find((i=>Ci(i,e)))!==void 0}function Ja(r,e){if(r===e)return 0;const i=Jr(r),s=Jr(e);if(i!==s)return Me(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=gt(u.integerValue||u.doubleValue),y=gt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,e);case 3:return Av(r.timestampValue,e.timestampValue);case 4:return Av(Lo(r),Lo(e));case 5:return sm(r.stringValue,e.stringValue);case 6:return(function(u,d){const g=Xr(u),y=Xr(d);return g.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let v=0;v<g.length&&v<y.length;v++){const S=Me(g[v],y[v]);if(S!==0)return S}return Me(g.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=Me(gt(u.latitude),gt(d.latitude));return g!==0?g:Me(gt(u.longitude),gt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return wv(r.arrayValue,e.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},v=g[nh]?.arrayValue,S=y[nh]?.arrayValue,w=Me(v?.values?.length||0,S?.values?.length||0);return w!==0?w:wv(v,S)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Ou.mapValue&&d===Ou.mapValue)return 0;if(u===Ou.mapValue)return 1;if(d===Ou.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),v=d.fields||{},S=Object.keys(v);y.sort(),S.sort();for(let w=0;w<y.length&&w<S.length;++w){const D=sm(y[w],S[w]);if(D!==0)return D;const H=Ja(g[y[w]],v[S[w]]);if(H!==0)return H}return Me(y.length,S.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function Av(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const i=Qr(r),s=Qr(e),o=Me(i.seconds,s.seconds);return o!==0?o:Me(i.nanos,s.nanos)}function wv(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const u=Ja(i[o],s[o]);if(u)return u}return Me(i.length,s.length)}function $a(r){return am(r)}function am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Qr(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Xr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ye.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const u of i.values||[])o?o=!1:s+=",",s+=am(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const d of s)u?u=!1:o+=",",o+=`${d}:${am(i.fields[d])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function Bu(r){switch(Jr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(r);return e?16+Bu(e):16;case 5:return 2*r.stringValue.length;case 6:return Xr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Bu(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Gs(s.fields,((u,d)=>{o+=u.length+Bu(d)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function lm(r){return!!r&&"integerValue"in r}function Lm(r){return!!r&&"arrayValue"in r}function Rv(r){return!!r&&"nullValue"in r}function Cv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Hu(r){return!!r&&"mapValue"in r}function aC(r){return(r?.mapValue?.fields||{})[CE]?.stringValue===NE}function Ro(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Gs(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Ro(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ro(r.arrayValue.values[i]);return e}return{...r}}function lC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===sC}class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Hu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ro(i)}setAll(e){let i=Ft.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Ro(d):o.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,s,o)}delete(e){const i=this.field(e.popLast());Hu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Hu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Gs(i,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Vn(Ro(this.value))}}function IE(r){const e=[];return Gs(r.fields,((i,s)=>{const o=new Ft([i]);if(Hu(s)){const u=IE(s.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new Jn(e)}class Jt{constructor(e,i,s,o,u,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Jt(e,0,Se.min(),Se.min(),Se.min(),Vn.empty(),0)}static newFoundDocument(e,i,s,o){return new Jt(e,1,i,Se.min(),s,o,0)}static newNoDocument(e,i){return new Jt(e,2,i,Se.min(),Se.min(),Vn.empty(),0)}static newUnknownDocument(e,i){return new Jt(e,3,i,Se.min(),Se.min(),Vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ih{constructor(e,i){this.position=e,this.inclusive=i}}function Nv(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],d=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(d.referenceValue),i.key):s=Ja(d,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Iv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],e.position[i]))return!1;return!0}class rh{constructor(e,i="asc"){this.field=e,this.dir=i}}function oC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class xE{}class kt extends xE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new uC(e,i,s):i==="array-contains"?new dC(e,s):i==="in"?new mC(e,s):i==="not-in"?new pC(e,s):i==="array-contains-any"?new gC(e,s):new kt(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new hC(e,s):new fC(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&Jr(this.value)===Jr(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends xE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ni(e,i)}matches(e){return kE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kE(r){return r.op==="and"}function DE(r){return cC(r)&&kE(r)}function cC(r){for(const e of r.filters)if(e instanceof Ni)return!1;return!0}function om(r){if(r instanceof kt)return r.field.canonicalString()+r.op.toString()+$a(r.value);if(DE(r))return r.filters.map((e=>om(e))).join(",");{const e=r.filters.map((i=>om(i))).join(",");return`${r.op}(${e})`}}function OE(r,e){return r instanceof kt?(function(s,o){return o instanceof kt&&s.op===o.op&&s.field.isEqual(o.field)&&Ci(s.value,o.value)})(r,e):r instanceof Ni?(function(s,o){return o instanceof Ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,d,g)=>u&&OE(d,o.filters[g])),!0):!1})(r,e):void Ee(19439)}function ME(r){return r instanceof kt?(function(i){return`${i.field.canonicalString()} ${i.op} ${$a(i.value)}`})(r):r instanceof Ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(ME).join(" ,")+"}"})(r):"Filter"}class uC extends kt{constructor(e,i,s){super(e,i,s),this.key=ye.fromName(s.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class hC extends kt{constructor(e,i){super(e,"in",i),this.keys=VE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class fC extends kt{constructor(e,i){super(e,"not-in",i),this.keys=VE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function VE(r,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class dC extends kt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Lm(i)&&Uo(i.arrayValue,this.value)}}class mC extends kt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Uo(this.value.arrayValue,i)}}class pC extends kt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Uo(this.value.arrayValue,i)}}class gC extends kt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Lm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Uo(this.value.arrayValue,s)))}}class yC{constructor(e,i=null,s=[],o=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function xv(r,e=null,i=[],s=[],o=null,u=null,d=null){return new yC(r,e,i,s,o,u,d)}function Pm(r){const e=Ae(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>om(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),_h(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>$a(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>$a(s))).join(",")),e.Te=i}return e.Te}function Um(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!oC(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!OE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Iv(r.startAt,e.startAt)&&Iv(r.endAt,e.endAt)}function cm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Eh{constructor(e,i=null,s=[],o=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function _C(r,e,i,s,o,u,d,g){return new Eh(r,e,i,s,o,u,d,g)}function zm(r){return new Eh(r)}function kv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function vC(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function EC(r){return r.collectionGroup!==null}function Co(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Dt(Ft.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new rh(u,s))})),i.has(Ft.keyField().canonicalString())||e.Ie.push(new rh(Ft.keyField(),s))}return e.Ie}function Ai(r){const e=Ae(r);return e.Ee||(e.Ee=TC(e,Co(r))),e.Ee}function TC(r,e){if(r.limitType==="F")return xv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new rh(o.field,u)}));const i=r.endAt?new ih(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ih(r.startAt.position,r.startAt.inclusive):null;return xv(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function um(r,e,i){return new Eh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Th(r,e){return Um(Ai(r),Ai(e))&&r.limitType===e.limitType}function jE(r){return`${Pm(Ai(r))}|lt:${r.limitType}`}function Ua(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>ME(o))).join(", ")}]`),_h(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>$a(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>$a(o))).join(",")),`Target(${s})`})(Ai(r))}; limitType=${r.limitType})`}function Sh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Co(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,y){const v=Nv(d,g,y);return d.inclusive?v<=0:v<0})(s.startAt,Co(s),o)||s.endAt&&!(function(d,g,y){const v=Nv(d,g,y);return d.inclusive?v>=0:v>0})(s.endAt,Co(s),o))})(r,e)}function SC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function LE(r){return(e,i)=>{let s=!1;for(const o of Co(r)){const u=bC(o,e,i);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function bC(r,e,i){const s=r.field.isKeyField()?ye.comparator(e.key,i.key):(function(u,d,g){const y=d.data.field(u),v=g.data.field(u);return y!==null&&v!==null?Ja(y,v):Ee(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class Fs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,((i,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return TE(this.inner)}size(){return this.innerSize}}const AC=new ct(ye.comparator);function tr(){return AC}const PE=new ct(ye.comparator);function To(...r){let e=PE;for(const i of r)e=e.insert(i.key,i);return e}function UE(r){let e=PE;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Ms(){return No()}function zE(){return No()}function No(){return new Fs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const wC=new ct(ye.comparator),RC=new Dt(ye.comparator);function Ve(...r){let e=RC;for(const i of r)e=e.add(i);return e}const CC=new Dt(Me);function NC(){return CC}function Bm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function BE(r){return{integerValue:""+r}}function IC(r,e){return ZR(e)?BE(e):Bm(r,e)}class bh{constructor(){this._=void 0}}function xC(r,e,i){return r instanceof sh?(function(o,u){const d={fields:{[AE]:{stringValue:bE},[RE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&jm(u)&&(u=vh(u)),u&&(d.fields[wE]=u),{mapValue:d}})(i,e):r instanceof zo?qE(r,e):r instanceof Bo?GE(r,e):(function(o,u){const d=HE(o,u),g=Dv(d)+Dv(o.Ae);return lm(d)&&lm(o.Ae)?BE(g):Bm(o.serializer,g)})(r,e)}function kC(r,e,i){return r instanceof zo?qE(r,e):r instanceof Bo?GE(r,e):i}function HE(r,e){return r instanceof ah?(function(s){return lm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class sh extends bh{}class zo extends bh{constructor(e){super(),this.elements=e}}function qE(r,e){const i=FE(e);for(const s of r.elements)i.some((o=>Ci(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Bo extends bh{constructor(e){super(),this.elements=e}}function GE(r,e){let i=FE(e);for(const s of r.elements)i=i.filter((o=>!Ci(o,s)));return{arrayValue:{values:i}}}class ah extends bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Dv(r){return gt(r.integerValue||r.doubleValue)}function FE(r){return Lm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function DC(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof zo&&o instanceof zo||s instanceof Bo&&o instanceof Bo?Xa(s.elements,o.elements,Ci):s instanceof ah&&o instanceof ah?Ci(s.Ae,o.Ae):s instanceof sh&&o instanceof sh})(r.transform,e.transform)}class OC{constructor(e,i){this.version=e,this.transformResults=i}}class $i{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ah{}function YE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new QE(r.key,$i.none()):new Jo(r.key,r.data,$i.none());{const i=r.data,s=Vn.empty();let o=new Dt(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?s.delete(u):s.set(u,d),o=o.add(u)}return new Ys(r.key,s,new Jn(o.toArray()),$i.none())}}function MC(r,e,i){r instanceof Jo?(function(o,u,d){const g=o.value.clone(),y=Mv(o.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof Ys?(function(o,u,d){if(!qu(o.precondition,u))return void u.convertToUnknownDocument(d.version);const g=Mv(o.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(KE(o)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Io(r,e,i,s){return r instanceof Jo?(function(u,d,g,y){if(!qu(u.precondition,d))return g;const v=u.value.clone(),S=Vv(u.fieldTransforms,y,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ys?(function(u,d,g,y){if(!qu(u.precondition,d))return g;const v=Vv(u.fieldTransforms,y,d),S=d.data;return S.setAll(KE(u)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,e,i,s):(function(u,d,g){return qu(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function VC(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=HE(s.transform,o||null);u!=null&&(i===null&&(i=Vn.empty()),i.set(s.field,u))}return i||null}function Ov(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Xa(s,o,((u,d)=>DC(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Jo extends Ah{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ys extends Ah{constructor(e,i,s,o,u=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function KE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function Mv(r,e,i){const s=new Map;Fe(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let o=0;o<i.length;o++){const u=r[o],d=u.transform,g=e.data.field(u.field);s.set(u.field,kC(d,g,i[o]))}return s}function Vv(r,e,i){const s=new Map;for(const o of r){const u=o.transform,d=i.data.field(o.field);s.set(o.field,xC(u,d,e))}return s}class QE extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jC extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class LC{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&MC(u,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Io(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Io(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=zE();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=i.has(o.key)?null:g;const y=YE(d,g);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,((i,s)=>Ov(i,s)))&&Xa(this.baseMutations,e.baseMutations,((i,s)=>Ov(i,s)))}}class Hm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return wC})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,s[d].version);return new Hm(e,i,s,o)}}class PC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UC{constructor(e,i){this.count=e,this.unchangedNames=i}}var Rt,Ue;function zC(r){switch(r){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function XE(r){if(r===void 0)return er("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Rt.OK:return ee.OK;case Rt.CANCELLED:return ee.CANCELLED;case Rt.UNKNOWN:return ee.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ee.INTERNAL;case Rt.UNAVAILABLE:return ee.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ee.NOT_FOUND;case Rt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Rt.ABORTED:return ee.ABORTED;case Rt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Rt.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:r})}}(Ue=Rt||(Rt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function BC(){return new TextEncoder}const HC=new Fr([4294967295,4294967295],0);function jv(r){const e=BC().encode(r),i=new hE;return i.update(e),new Uint8Array(i.digest())}function Lv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Fr([i,s],0),new Fr([o,u],0)]}class qm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new So(`Invalid padding: ${i}`);if(s<0)throw new So(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new So(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Fr.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Fr.fromNumber(s)));return o.compare(HC)===1&&(o=new Fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=jv(e),[s,o]=Lv(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new qm(u,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=jv(e),[s,o]=Lv(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class So extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(e,i,s,o,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,$o.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new wh(Se.min(),o,new ct(Me),tr(),Ve())}}class $o{constructor(e,i,s,o,u){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new $o(s,i,Ve(),Ve(),Ve())}}class Gu{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.De=o}}class JE{constructor(e,i){this.targetId=e,this.Ce=i}}class $E{constructor(e,i,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Pv{constructor(){this.ve=0,this.Fe=Uv(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),i=Ve(),s=Ve();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new $o(this.Me,this.xe,e,i,s)}Ke(){this.Oe=!1,this.Fe=Uv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class qC{constructor(e){this.Ge=e,this.ze=new Map,this.je=tr(),this.He=Mu(),this.Je=Mu(),this.Ze=new ct(Me)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const u=o.target;if(cm(u))if(s===0){const d=new ye(u.path);this.et(i,d,Jt.newNoDocument(d,Se.min()))}else Fe(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=i;let d,g;try{d=Xr(s).toUint8Array()}catch(y){if(y instanceof SE)return Bs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new qm(d,o,u)}catch(y){return Bs(y instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(i,u,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&cm(g.target)){const y=new ye(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Jt.newNoDocument(y,e))}u.Be&&(i.set(d,u.ke()),u.Ke())}}));let s=Ve();this.Je.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new wh(e,i,this.Ze,this.je,s);return this.je=tr(),this.He=Mu(),this.Je=Mu(),this.Ze=new ct(Me),o}Ye(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Pv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Dt(Me),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Dt(Me),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Pv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Mu(){return new ct(ye.comparator)}function Uv(){return new ct(ye.comparator)}const GC={asc:"ASCENDING",desc:"DESCENDING"},FC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YC={and:"AND",or:"OR"};class KC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function hm(r,e){return r.useProto3Json||_h(e)?e:{value:e}}function lh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function QC(r,e){return lh(r,e.toTimestamp())}function wi(r){return Fe(!!r,49232),Se.fromTimestamp((function(i){const s=Qr(i);return new rt(s.seconds,s.nanos)})(r))}function Gm(r,e){return fm(r,e).canonicalString()}function fm(r,e){const i=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function ZE(r){const e=ot.fromString(r);return Fe(rT(e),10190,{key:e.toString()}),e}function dm(r,e){return Gm(r.databaseId,e.path)}function Fd(r,e){const i=ZE(e);if(i.get(1)!==r.databaseId.projectId)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ye(tT(i))}function eT(r,e){return Gm(r.databaseId,e)}function XC(r){const e=ZE(r);return e.length===4?ot.emptyPath():tT(e)}function mm(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function tT(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function zv(r,e,i){return{name:dm(r,e),fields:i.value.mapValue.fields}}function JC(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ee(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(v,S){return v.useProto3Json?(Fe(S===void 0||typeof S=="string",58123),Yt.fromBase64String(S||"")):(Fe(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Yt.fromUint8Array(S||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(v){const S=v.code===void 0?ee.UNKNOWN:XE(v.code);return new me(S,v.message||"")})(d);i=new $E(s,o,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Fd(r,s.document.name),u=wi(s.document.updateTime),d=s.document.createTime?wi(s.document.createTime):Se.min(),g=new Vn({mapValue:{fields:s.document.fields}}),y=Jt.newFoundDocument(o,u,d,g),v=s.targetIds||[],S=s.removedTargetIds||[];i=new Gu(v,S,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Fd(r,s.document),u=s.readTime?wi(s.readTime):Se.min(),d=Jt.newNoDocument(o,u),g=s.removedTargetIds||[];i=new Gu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Fd(r,s.document),u=s.removedTargetIds||[];i=new Gu([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,d=new UC(o,u),g=s.targetId;i=new JE(g,d)}}return i}function $C(r,e){let i;if(e instanceof Jo)i={update:zv(r,e.key,e.value)};else if(e instanceof QE)i={delete:dm(r,e.key)};else if(e instanceof Ys)i={update:zv(r,e.key,e.data),updateMask:aN(e.fieldMask)};else{if(!(e instanceof jC))return Ee(16599,{dt:e.type});i={verify:dm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(u,d){const g=d.transform;if(g instanceof sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof zo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Bo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ah)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ee(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:QC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),i}function WC(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((i=>(function(o,u){let d=o.updateTime?wi(o.updateTime):wi(u);return d.isEqual(Se.min())&&(d=wi(u)),new OC(d,o.transformResults||[])})(i,e)))):[]}function ZC(r,e){return{documents:[eT(r,e.path)]}}function eN(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=eT(r,o);const u=(function(v){if(v.length!==0)return iT(Ni.create(v,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(v){if(v.length!==0)return v.map((S=>(function(D){return{field:za(D.field),direction:iN(D.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=hm(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function tN(r){let e=XC(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let u=[];i.where&&(u=(function(w){const D=nT(w);return D instanceof Ni&&DE(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((D=>(function(Z){return new rh(Ba(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let D;return D=typeof w=="object"?w.value:w,_h(D)?null:D})(i.limit));let y=null;i.startAt&&(y=(function(w){const D=!!w.before,H=w.values||[];return new ih(H,D)})(i.startAt));let v=null;return i.endAt&&(v=(function(w){const D=!w.before,H=w.values||[];return new ih(H,D)})(i.endAt)),_C(e,o,d,u,g,"F",y,v)}function nN(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function nT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ba(i.unaryFilter.field);return kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ba(i.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ba(i.unaryFilter.field);return kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return kt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(i){return kt.create(Ba(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ni.create(i.compositeFilter.filters.map((s=>nT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(r):Ee(30097,{filter:r})}function iN(r){return GC[r]}function rN(r){return FC[r]}function sN(r){return YC[r]}function za(r){return{fieldPath:r.canonicalString()}}function Ba(r){return Ft.fromServerFormat(r.fieldPath)}function iT(r){return r instanceof kt?(function(i){if(i.op==="=="){if(Cv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(Rv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Cv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(Rv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:rN(i.op),value:i.value}}})(r):r instanceof Ni?(function(i){const s=i.getFilters().map((o=>iT(o)));return s.length===1?s[0]:{compositeFilter:{op:sN(i.op),filters:s}}})(r):Ee(54877,{filter:r})}function aN(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function rT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function sT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Br{constructor(e,i,s,o,u=Se.min(),d=Se.min(),g=Yt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lN{constructor(e){this.yt=e}}function oN(r){const e=tN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?um(e,e.limit,"L"):e}class cN{constructor(){this.Sn=new uN}addToCollectionParentIndex(e,i){return this.Sn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Kr.min())}updateCollectionGroup(e,i,s){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class uN{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Dt(ot.comparator),u=!o.has(s);return this.index[i]=o.add(s),u}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(ot.comparator)).toArray()}}const Bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aT=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(aT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Wa{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Wa(0)}static ar(){return new Wa(-1)}}const Hv="LruGarbageCollector",hN=1048576;function qv([r,e],[i,s]){const o=Me(r,i);return o===0?Me(e,s):o}class fN{constructor(e){this.Pr=e,this.buffer=new Dt(qv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();qv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class dN{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(Hv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){al(i)?ce(Hv,"Ignoring IndexedDB error during garbage collection: ",i):await sl(i)}await this.Ar(3e5)}))}}class mN{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(yh.ce);const s=new fN(i);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Bv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let s,o,u,d,g,y,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,g=Date.now(),this.removeTargets(e,s,i)))).next((w=>(u=w,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(v=Date.now(),Pa()<=Oe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${w} documents in `+(v-y)+`ms
Total Duration: ${v-S}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function pN(r,e){return new mN(r,e)}class gN{constructor(){this.changes=new Fs((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?J.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yN{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class _N{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&Io(s.mutation,o,Jn.empty(),rt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Ve()){const o=Ms();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((u=>{let d=To();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Ms();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Ve())))}populateOverlays(e,i,s){const o=[];return s.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let u=tr();const d=No(),g=(function(){return No()})();return i.forEach(((y,v)=>{const S=s.get(v.key);o.has(v.key)&&(S===void 0||S.mutation instanceof Ys)?u=u.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),Io(S.mutation,v,S.mutation.getFieldMask(),rt.now())):d.set(v.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((v,S)=>d.set(v,S))),i.forEach(((v,S)=>g.set(v,new yN(S,d.get(v)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=No();let o=new ct(((d,g)=>d-g)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let S=s.get(y)||Jn.empty();S=g.applyToLocalView(v,S),s.set(y,S);const w=(o.get(g.batchId)||Ve()).add(y);o=o.insert(g.batchId,w)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,S=y.value,w=zE();S.forEach((D=>{if(!u.has(D)){const H=YE(i.get(D),s.get(D));H!==null&&w.set(D,H),u=u.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,w))}return J.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return vC(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):EC(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-u.size):J.resolve(Ms());let g=jo,y=u;return d.next((v=>J.forEach(v,((S,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),u.get(S)?J.resolve():this.remoteDocumentCache.getEntry(e,S).next((D=>{y=y.insert(S,D)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,y,v,Ve()))).next((S=>({batchId:g,changes:UE(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((s=>{let o=To();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const u=i.collectionGroup;let d=To();return this.indexManager.getCollectionParents(e,u).next((g=>J.forEach(g,(y=>{const v=(function(w,D){return new Eh(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((S=>{S.forEach(((w,D)=>{d=d.insert(w,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,u,o)))).next((d=>{u.forEach(((y,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,Jt.newInvalidDocument(S)))}));let g=To();return d.forEach(((y,v)=>{const S=u.get(y);S!==void 0&&Io(S.mutation,v,Jn.empty(),rt.now()),Sh(i,v)&&(g=g.insert(y,v))})),g}))}}class vN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:oN(o.bundledQuery),readTime:wi(o.readTime)}})(i)),J.resolve()}}class EN{constructor(){this.overlays=new ct(ye.comparator),this.Lr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ms();return J.forEach(i,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,u)=>{this.bt(e,i,u)})),J.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),J.resolve()}getOverlaysForCollection(e,i,s){const o=Ms(),u=i.length+1,d=new ye(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let u=new ct(((v,S)=>v-S));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let S=u.get(v.largestBatchId);S===null&&(S=Ms(),u=u.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const g=Ms(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,S)=>g.set(v,S))),!(g.size()>=o)););return J.resolve(g)}bt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new PC(i,s));let u=this.Lr.get(i);u===void 0&&(u=Ve(),this.Lr.set(i,u)),this.Lr.set(i,u.add(s.key))}}class TN{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class Fm{constructor(){this.kr=new Dt(jt.Kr),this.qr=new Dt(jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const s=new jt(e,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Wr(new jt(e,i))}Qr(e,i){e.forEach((s=>this.removeReference(s,i)))}Gr(e){const i=new ye(new ot([])),s=new jt(i,e),o=new jt(i,e+1),u=[];return this.qr.forEachInRange([s,o],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ye(new ot([])),s=new jt(i,e),o=new jt(i,e+1);let u=Ve();return this.qr.forEachInRange([s,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new jt(e,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ye.comparator(e.key,i.key)||Me(e.Hr,i.Hr)}static Ur(e,i){return Me(e.Hr,i.Hr)||ye.comparator(e.key,i.key)}}class SN{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Dt(jt.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new LC(u,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new jt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Vm:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new jt(i,0),o=new jt(i,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(d=>{const g=this.Zr(d.Hr);u.push(g)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Dt(Me);return i.forEach((o=>{const u=new jt(o,0),d=new jt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(g=>{s=s.add(g.Hr)}))})),J.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const d=new jt(new ye(u),0);let g=new Dt(Me);return this.Jr.forEachWhile((y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(y.Hr)),!0)}),d),J.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Fe(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return J.forEach(i.mutations,(o=>{const u=new jt(o.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,i){const s=new jt(i,0),o=this.Jr.firstAfterOrEqual(s);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class bN{constructor(e){this.ti=e,this.docs=(function(){return new ct(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),u=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return J.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(i))}getEntries(e,i){let s=tr();return i.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let u=tr();const d=i.path,g=new ye(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:S}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||XR(QR(S),s)<=0||(o.has(S.key)||Sh(i,S))&&(u=u.insert(S.key,S.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,i,s,o){Ee(9500)}ni(e,i){return J.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new AN(this)}getSize(e){return J.resolve(this.size)}}class AN extends gN{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),J.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class wN{constructor(e){this.persistence=e,this.ri=new Fs((i=>Pm(i)),Um),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new Fm,this.targetCount=0,this.oi=Wa._r()}forEachTarget(e,i){return this.ri.forEach(((s,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),J.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Wa(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.lr(i),J.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,s){let o=0;const u=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const s=this.ri.get(i)||null;return J.resolve(s)}addMatchingKeys(e,i,s){return this.si.$r(i,s),J.resolve()}removeMatchingKeys(e,i,s){this.si.Qr(i,s);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const s=this.si.jr(i);return J.resolve(s)}containsKey(e,i){return J.resolve(this.si.containsKey(i))}}class lT{constructor(e,i){this._i={},this.overlays={},this.ai=new yh(0),this.ui=!1,this.ui=!0,this.ci=new TN,this.referenceDelegate=e(this),this.li=new wN(this),this.indexManager=new cN,this.remoteDocumentCache=(function(o){return new bN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new lN(i),this.Pi=new vN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new EN,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this._i[e.toKey()];return s||(s=new SN(i,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,s){ce("MemoryPersistence","Starting transaction:",e);const o=new RN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,i){return J.or(Object.values(this._i).map((s=>()=>s.containsKey(e,i))))}}class RN extends $R{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Ri=new Fm,this.Ai=null}static Vi(e){return new Ym(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),J.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(s=>{const o=ye.fromPath(s);return this.mi(e,o).next((u=>{u||i.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class oh{constructor(e,i){this.persistence=e,this.fi=new Fs((s=>eC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=pN(this,i)}static Vi(e,i){return new oh(e,i)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}pr(e){let i=0;return this.mr(e,(s=>{i++})).next((()=>i))}mr(e,i){return J.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?J.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(s++,u.removeEntry(d,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Bu(e.data.value)),i}wr(e,i,s){return J.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Km{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Ts=s,this.Is=o}static Es(e,i){let s=Ve(),o=Ve();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Km(e,i.fromCache,s,o)}}class CN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class NN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Z1()?8:WR($t())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const u={result:null};return this.gs(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,i,o,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new CN;return this.ys(e,i,d).next((g=>{if(u.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>u.result))}ws(e,i,s,o){return s.documentReadCount<this.Vs?(Pa()<=Oe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ua(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Pa()<=Oe.DEBUG&&ce("QueryEngine","Query:",Ua(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Pa()<=Oe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ua(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(i))):J.resolve())}gs(e,i){if(kv(i))return J.resolve(null);let s=Ai(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=um(i,null,"F"),s=Ai(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const d=Ve(...u);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((y=>{const v=this.bs(i,g);return this.Ss(i,v,d,y.readTime)?this.gs(e,um(i,null,"F")):this.Ds(e,v,i,y)}))))})))))}ps(e,i,s,o){return kv(i)||o.isEqual(Se.min())?J.resolve(null):this.fs.getDocuments(e,s).next((u=>{const d=this.bs(i,u);return this.Ss(i,d,s,o)?J.resolve(null):(Pa()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ua(i)),this.Ds(e,d,i,KR(o,jo)).next((g=>g)))}))}bs(e,i){let s=new Dt(LE(e));return i.forEach(((o,u)=>{Sh(e,u)&&(s=s.add(u))})),s}Ss(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,i,s){return Pa()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ua(i)),this.fs.getDocumentsMatchingQuery(e,i,Kr.min(),s)}Ds(e,i,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const Qm="LocalStore",IN=3e8;class xN{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new ct(Me),this.Fs=new Fs((u=>Pm(u)),Um),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _N(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function kN(r,e,i,s){return new xN(r,e,i,s)}async function oT(r,e){const i=Ae(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,i.Os(e),i.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],g=[];let y=Ve();for(const v of o){d.push(v.batchId);for(const S of v.mutations)y=y.add(S.key)}for(const v of u){g.push(v.batchId);for(const S of v.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(s,y).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function DN(r,e){const i=Ae(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,y,v,S){const w=v.batch,D=w.keys();let H=J.resolve();return D.forEach((Z=>{H=H.next((()=>S.getEntry(y,Z))).next(($=>{const W=v.docVersions.get(Z);Fe(W!==null,48541),$.version.compareTo(W)<0&&(w.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),S.addEntry($)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(y,w)))})(i,s,e,u).next((()=>u.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=Ve();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(y=y.add(g.batch.mutations[v].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function cT(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function ON(r,e){const i=Ae(r),s=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];e.targetChanges.forEach(((S,w)=>{const D=o.get(w);if(!D)return;g.push(i.li.removeMatchingKeys(u,S.removedDocuments,w).next((()=>i.li.addMatchingKeys(u,S.addedDocuments,w))));let H=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?H=H.withResumeToken(Yt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,s)),o=o.insert(w,H),(function($,W,le){return $.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=IN?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0})(D,H,S)&&g.push(i.li.updateTargetData(u,H))}));let y=tr(),v=Ve();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,S))})),g.push(MN(u,d,e.documentUpdates).next((S=>{y=S.Bs,v=S.Ls}))),!s.isEqual(Se.min())){const S=i.li.getLastRemoteSnapshotVersion(u).next((w=>i.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(S)}return J.waitFor(g).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,y,v))).next((()=>y))})).then((u=>(i.vs=o,u)))}function MN(r,e,i){let s=Ve(),o=Ve();return i.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let d=tr();return i.forEach(((g,y)=>{const v=u.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Se.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ce(Qm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)})),{Bs:d,Ls:o}}))}function VN(r,e){const i=Ae(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Vm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function jN(r,e){const i=Ae(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.li.getTargetData(s,e).next((u=>u?(o=u,J.resolve(o)):i.li.allocateTargetId(s).next((d=>(o=new Br(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(e,s.targetId)),s}))}async function pm(r,e,i){const s=Ae(r),o=s.vs.get(e),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!al(d))throw d;ce(Qm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function Gv(r,e,i){const s=Ae(r);let o=Se.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,S){const w=Ae(y),D=w.Fs.get(S);return D!==void 0?J.resolve(w.vs.get(D)):w.li.getTargetData(v,S)})(s,d,Ai(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:Se.min(),i?u:Ve()))).next((g=>(LN(s,SC(e),g),{documents:g,ks:u})))))}function LN(r,e,i){let s=r.Ms.get(e)||Se.min();i.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class Fv{constructor(){this.activeTargetIds=NC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PN{constructor(){this.vo=new Fv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,s){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Fv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UN{Mo(e){}shutdown(){}}const Yv="ConnectivityMonitor";class Kv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(Yv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(Yv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vu=null;function gm(){return Vu===null?Vu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vu++,"0x"+Vu.toString(16)}const Yd="RestConnection",zN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class BN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,u){const d=gm(),g=this.Qo(e,i.toUriEncodedString());ce(Yd,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,u);const{host:v}=new URL(g),S=tl(v);return this.zo(e,g,y,s,S).then((w=>(ce(Yd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Bs(Yd,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",s),w}))}jo(e,i,s,o,u,d){return this.Wo(e,i,s,o,u)}Go(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,i){const s=zN[e];let o=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class HN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Qt="WebChannelConnection",po=(r,e,i)=>{r.listen(e,(s=>{try{i(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ya extends BN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ya.c_){const e=pE();po(e,mE.STAT_EVENT,(i=>{i.stat===rm.PROXY?ce(Qt,"STAT_EVENT: detected buffering proxy"):i.stat===rm.NOPROXY&&ce(Qt,"STAT_EVENT: detected no buffering proxy")})),Ya.c_=!0}}zo(e,i,s,o,u){const d=gm();return new Promise(((g,y)=>{const v=new fE;v.setWithCredentials(!0),v.listenOnce(dE.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case zu.NO_ERROR:const w=v.getResponseJson();ce(Qt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case zu.TIMEOUT:ce(Qt,`RPC '${e}' ${d} timed out`),y(new me(ee.DEADLINE_EXCEEDED,"Request time out"));break;case zu.HTTP_ERROR:const D=v.getStatus();if(ce(Qt,`RPC '${e}' ${d} failed with status:`,D,"response text:",v.getResponseText()),D>0){let H=v.getResponseJson();Array.isArray(H)&&(H=H[0]);const Z=H?.error;if(Z&&Z.status&&Z.message){const $=(function(le){const fe=le.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(fe)>=0?fe:ee.UNKNOWN})(Z.status);y(new me($,Z.message))}else y(new me(ee.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new me(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ce(Qt,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);ce(Qt,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",S,s,15)}))}T_(e,i,s){const o=gm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const v=u.join("");ce(Qt,`Creating RPC '${e}' stream ${o}: ${v}`,g);const S=d.createWebChannel(v,g);this.I_(S);let w=!1,D=!1;const H=new HN({Ho:Z=>{D?ce(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(w||(ce(Qt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),ce(Qt,`RPC '${e}' stream ${o} sending:`,Z),S.send(Z))},Jo:()=>S.close()});return po(S,Eo.EventType.OPEN,(()=>{D||(ce(Qt,`RPC '${e}' stream ${o} transport opened.`),H.i_())})),po(S,Eo.EventType.CLOSE,(()=>{D||(D=!0,ce(Qt,`RPC '${e}' stream ${o} transport closed`),H.o_(),this.E_(S))})),po(S,Eo.EventType.ERROR,(Z=>{D||(D=!0,Bs(Qt,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),H.o_(new me(ee.UNAVAILABLE,"The operation could not be completed")))})),po(S,Eo.EventType.MESSAGE,(Z=>{if(!D){const $=Z.data[0];Fe(!!$,16349);const W=$,le=W?.error||W[0]?.error;if(le){ce(Qt,`RPC '${e}' stream ${o} received error:`,le);const fe=le.status;let G=(function(re){const R=Rt[re];if(R!==void 0)return XE(R)})(fe),oe=le.message;fe==="NOT_FOUND"&&oe.includes("database")&&oe.includes("does not exist")&&oe.includes(this.databaseId.database)&&Bs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),G===void 0&&(G=ee.INTERNAL,oe="Unknown error status: "+fe+" with message "+le.message),D=!0,H.o_(new me(G,oe)),S.close()}else ce(Qt,`RPC '${e}' stream ${o} received:`,$),H.__($)}})),Ya.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,s){super.Go(e,i,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return gE()}}function qN(r){return new Ya(r)}function Kd(){return typeof document<"u"?document:null}function Rh(r){return new KC(r,!0)}Ya.c_=!1;class uT{constructor(e,i,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=i,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Qv="PersistentStream";class hT{constructor(e,i,s,o,u,d,g,y){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(er(i.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new me(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(Qv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ce(Qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GN extends hT{constructor(e,i,s,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=JC(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?wi(d.readTime):Se.min()})(e);return this.listener.J_(i,s)}Z_(e){const i={};i.database=mm(this.serializer),i.addTarget=(function(u,d){let g;const y=d.target;if(g=cm(y)?{documents:ZC(u,y)}:{query:eN(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=WE(u,d.resumeToken);const v=hm(u,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Se.min())>0){g.readTime=lh(u,d.snapshotVersion.toTimestamp());const v=hm(u,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const s=nN(this.serializer,e);s&&(i.labels=s),this.K_(i)}X_(e){const i={};i.database=mm(this.serializer),i.removeTarget=e,this.K_(i)}}class FN extends hT{constructor(e,i,s,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=WC(e.writeResults,e.commitTime),s=wi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=mm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>$C(this.serializer,s)))};this.K_(i)}}class YN{}class KN extends YN{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,fm(i,s),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ee.UNKNOWN,u.toString())}))}jo(e,i,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,fm(i,s),o,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new me(ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function QN(r,e,i,s){return new KN(r,e,i,s)}class XN{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(er(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hs="RemoteStore";class JN{constructor(e,i,s,o,u){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Ks(this)&&(ce(Hs,"Restarting streams for network reachability change."),await(async function(y){const v=Ae(y);v.Ea.add(4),await Wo(v),v.Va.set("Unknown"),v.Ea.delete(4),await Ch(v)})(this))}))})),this.Va=new XN(s,o)}}async function Ch(r){if(Ks(r))for(const e of r.Ra)await e(!0)}async function Wo(r){for(const e of r.Ra)await e(!1)}function fT(r,e){const i=Ae(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Wm(i)?$m(i):ll(i).O_()&&Jm(i,e))}function Xm(r,e){const i=Ae(r),s=ll(i);i.Ia.delete(e),s.O_()&&dT(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ks(i)&&i.Va.set("Unknown"))}function Jm(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ll(r).Z_(e)}function dT(r,e){r.da.$e(e),ll(r).X_(e)}function $m(r){r.da=new qC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ll(r).start(),r.Va.ua()}function Wm(r){return Ks(r)&&!ll(r).x_()&&r.Ia.size>0}function Ks(r){return Ae(r).Ea.size===0}function mT(r){r.da=void 0}async function $N(r){r.Va.set("Online")}async function WN(r){r.Ia.forEach(((e,i)=>{Jm(r,e)}))}async function ZN(r,e){mT(r),Wm(r)?(r.Va.ha(e),$m(r)):r.Va.set("Unknown")}async function e2(r,e,i){if(r.Va.set("Online"),e instanceof $E&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(r,e)}catch(s){ce(Hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ch(r,s)}else if(e instanceof Gu?r.da.Xe(e):e instanceof JE?r.da.st(e):r.da.tt(e),!i.isEqual(Se.min()))try{const s=await cT(r.localStore);i.compareTo(s)>=0&&await(function(u,d){const g=u.da.Tt(d);return g.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const S=u.Ia.get(v);S&&u.Ia.set(v,S.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,v)=>{const S=u.Ia.get(y);if(!S)return;u.Ia.set(y,S.withResumeToken(Yt.EMPTY_BYTE_STRING,S.snapshotVersion)),dT(u,y);const w=new Br(S.target,y,v,S.sequenceNumber);Jm(u,w)})),u.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){ce(Hs,"Failed to raise snapshot:",s),await ch(r,s)}}async function ch(r,e,i){if(!al(e))throw e;r.Ea.add(1),await Wo(r),r.Va.set("Offline"),i||(i=()=>cT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(Hs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ch(r)}))}function pT(r,e){return e().catch((i=>ch(r,i,e)))}async function Nh(r){const e=Ae(r),i=$r(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vm;for(;t2(e);)try{const o=await VN(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,n2(e,o)}catch(o){await ch(e,o)}gT(e)&&yT(e)}function t2(r){return Ks(r)&&r.Ta.length<10}function n2(r,e){r.Ta.push(e);const i=$r(r);i.O_()&&i.Y_&&i.ea(e.mutations)}function gT(r){return Ks(r)&&!$r(r).x_()&&r.Ta.length>0}function yT(r){$r(r).start()}async function i2(r){$r(r).ra()}async function r2(r){const e=$r(r);for(const i of r.Ta)e.ea(i.mutations)}async function s2(r,e,i){const s=r.Ta.shift(),o=Hm.from(s,e,i);await pT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Nh(r)}async function a2(r,e){e&&$r(r).Y_&&await(async function(s,o){if((function(d){return zC(d)&&d!==ee.ABORTED})(o.code)){const u=s.Ta.shift();$r(s).B_(),await pT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Nh(s)}})(r,e),gT(r)&&yT(r)}async function Xv(r,e){const i=Ae(r);i.asyncQueue.verifyOperationInProgress(),ce(Hs,"RemoteStore received new credentials");const s=Ks(i);i.Ea.add(3),await Wo(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ch(i)}async function l2(r,e){const i=Ae(r);e?(i.Ea.delete(2),await Ch(i)):e||(i.Ea.add(2),await Wo(i),i.Va.set("Unknown"))}function ll(r){return r.ma||(r.ma=(function(i,s,o){const u=Ae(i);return u.sa(),new GN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:$N.bind(null,r),Yo:WN.bind(null,r),t_:ZN.bind(null,r),J_:e2.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Wm(r)?$m(r):r.Va.set("Unknown")):(await r.ma.stop(),mT(r))}))),r.ma}function $r(r){return r.fa||(r.fa=(function(i,s,o){const u=Ae(i);return u.sa(),new FN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:i2.bind(null,r),t_:a2.bind(null,r),ta:r2.bind(null,r),na:s2.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Nh(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(Hs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Zm{constructor(e,i,s,o,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,u){const d=Date.now()+s,g=new Zm(e,i,d,o,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ep(r,e){if(er("AsyncQueue",`${e}: ${r}`),al(r))return new me(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class Ka{static emptySet(e){return new Ka(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ye.comparator(i.key,s.key):(i,s)=>ye.comparator(i.key,s.key),this.keyedMap=To(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ka;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class Jv{constructor(){this.ga=new ct(ye.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Za{constructor(e,i,s,o,u,d,g,y,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,u){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Za(e,i,Ka.emptySet(i),d,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class o2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class c2{constructor(){this.queries=$v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Ae(i),u=o.queries;o.queries=$v(),u.forEach(((d,g)=>{for(const y of g.ba)y.onError(s)}))})(this,new me(ee.ABORTED,"Firestore shutting down"))}}function $v(){return new Fs((r=>jE(r)),Th)}async function u2(r,e){const i=Ae(r);let s=3;const o=e.query;let u=i.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new o2,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=ep(d,`Initialization of query '${Ua(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,u),u.ba.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&tp(i)}async function h2(r,e){const i=Ae(r),s=e.query;let o=3;const u=i.queries.get(s);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function f2(r,e){const i=Ae(r);let s=!1;for(const o of e){const u=o.query,d=i.queries.get(u);if(d){for(const g of d.ba)g.Fa(o)&&(s=!0);d.wa=o}}s&&tp(i)}function d2(r,e,i){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(i);s.queries.delete(e)}function tp(r){r.Ca.forEach((e=>{e.next()}))}var ym,Wv;(Wv=ym||(ym={})).Ma="default",Wv.Cache="cache";class m2{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Za(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ym.Cache}}class _T{constructor(e){this.key=e}}class vT{constructor(e){this.key=e}}class p2{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=LE(e),this.tu=new Ka(this.eu)}get nu(){return this.Za}ru(e,i){const s=i?i.iu:new Jv,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,w)=>{const D=o.get(S),H=Sh(this.query,w)?w:null,Z=!!D&&this.mutatedKeys.has(D.key),$=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let W=!1;D&&H?D.data.isEqual(H.data)?Z!==$&&(s.track({type:3,doc:H}),W=!0):this.su(D,H)||(s.track({type:2,doc:H}),W=!0,(y&&this.eu(H,y)>0||v&&this.eu(H,v)<0)&&(g=!0)):!D&&H?(s.track({type:0,doc:H}),W=!0):D&&!H&&(s.track({type:1,doc:D}),W=!0,(y||v)&&(g=!0)),W&&(H?(d=d.add(H),u=$?u.add(S):u.delete(S)):(d=d.delete(S),u=u.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),u=u.delete(S.key),s.track({type:1,doc:S})}return{tu:d,iu:s,Ss:g,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,w)=>(function(H,Z){const $=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:W})}};return $(H)-$(Z)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,v=y!==this.Xa;return this.Xa=y,d.length!==0||v?{snapshot:new Za(this.query,e.tu,u,d,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Jv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return e.forEach((s=>{this.Ya.has(s)||i.push(new vT(s))})),this.Ya.forEach((s=>{e.has(s)||i.push(new _T(s))})),i}cu(e){this.Za=e.ks,this.Ya=Ve();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const np="SyncEngine";class g2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class y2{constructor(e){this.key=e,this.hu=!1}}class _2{constructor(e,i,s,o,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fs((g=>jE(g)),Th),this.Iu=new Map,this.Eu=new Set,this.Ru=new ct(ye.comparator),this.Au=new Map,this.Vu=new Fm,this.du={},this.mu=new Map,this.fu=Wa.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function v2(r,e,i=!0){const s=wT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await ET(s,e,i,!0),o}async function E2(r,e){const i=wT(r);await ET(i,e,!0,!1)}async function ET(r,e,i,s){const o=await jN(r.localStore,Ai(e)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,i);let g;return s&&(g=await T2(r,e,u,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&fT(r.remoteStore,o),g}async function T2(r,e,i,s,o){r.pu=(w,D,H)=>(async function($,W,le,fe){let G=W.view.ru(le);G.Ss&&(G=await Gv($.localStore,W.query,!1).then((({documents:R})=>W.view.ru(R,G))));const oe=fe&&fe.targetChanges.get(W.targetId),ie=fe&&fe.targetMismatches.get(W.targetId)!=null,re=W.view.applyChanges(G,$.isPrimaryClient,oe,ie);return e0($,W.targetId,re.au),re.snapshot})(r,w,D,H);const u=await Gv(r.localStore,e,!0),d=new p2(e,u.ks),g=d.ru(u.documents),y=$o.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),v=d.applyChanges(g,r.isPrimaryClient,y);e0(r,i,v.au);const S=new g2(e,i,d);return r.Tu.set(e,S),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),v.snapshot}async function S2(r,e,i){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((d=>!Th(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Xm(s.remoteStore,o.targetId),_m(s,o.targetId)})).catch(sl)):(_m(s,o.targetId),await pm(s.localStore,o.targetId,!0))}async function b2(r,e){const i=Ae(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Xm(i.remoteStore,s.targetId))}async function A2(r,e,i){const s=k2(r);try{const o=await(function(d,g){const y=Ae(d),v=rt.now(),S=g.reduce(((H,Z)=>H.add(Z.key)),Ve());let w,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let Z=tr(),$=Ve();return y.xs.getEntries(H,S).next((W=>{Z=W,Z.forEach(((le,fe)=>{fe.isValidDocument()||($=$.add(le))}))})).next((()=>y.localDocuments.getOverlayedDocuments(H,Z))).next((W=>{w=W;const le=[];for(const fe of g){const G=VC(fe,w.get(fe.key).overlayedDocument);G!=null&&le.push(new Ys(fe.key,G,IE(G.value.mapValue),$i.exists(!0)))}return y.mutationQueue.addMutationBatch(H,v,le,g)})).next((W=>{D=W;const le=W.applyToLocalDocumentSet(w,$);return y.documentOverlayCache.saveOverlays(H,W.batchId,le)}))})).then((()=>({batchId:D.batchId,changes:UE(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let v=d.du[d.currentUser.toKey()];v||(v=new ct(Me)),v=v.insert(g,y),d.du[d.currentUser.toKey()]=v})(s,o.batchId,i),await Zo(s,o.changes),await Nh(s.remoteStore)}catch(o){const u=ep(o,"Failed to persist write");i.reject(u)}}async function TT(r,e){const i=Ae(r);try{const s=await ON(i.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=i.Au.get(u);d&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Fe(d.hu,14607):o.removedDocuments.size>0&&(Fe(d.hu,42227),d.hu=!1))})),await Zo(i,s,e)}catch(s){await sl(s)}}function Zv(r,e,i){const s=Ae(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((u,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=Ae(d);y.onlineState=g;let v=!1;y.queries.forEach(((S,w)=>{for(const D of w.ba)D.va(g)&&(v=!0)})),v&&tp(y)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function w2(r,e,i){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),u=o&&o.key;if(u){let d=new ct(ye.comparator);d=d.insert(u,Jt.newNoDocument(u,Se.min()));const g=Ve().add(u),y=new wh(Se.min(),new Map,new ct(Me),d,g);await TT(s,y),s.Ru=s.Ru.remove(u),s.Au.delete(e),ip(s)}else await pm(s.localStore,e,!1).then((()=>_m(s,e,i))).catch(sl)}async function R2(r,e){const i=Ae(r),s=e.batch.batchId;try{const o=await DN(i.localStore,e);bT(i,s,null),ST(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Zo(i,o)}catch(o){await sl(o)}}async function C2(r,e,i){const s=Ae(r);try{const o=await(function(d,g){const y=Ae(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let S;return y.mutationQueue.lookupMutationBatch(v,g).next((w=>(Fe(w!==null,37113),S=w.keys(),y.mutationQueue.removeMutationBatch(v,w)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,S,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S))).next((()=>y.localDocuments.getDocuments(v,S)))}))})(s.localStore,e);bT(s,e,i),ST(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Zo(s,o)}catch(o){await sl(o)}}function ST(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function bT(r,e,i){const s=Ae(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(i?u.reject(i):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function _m(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||AT(r,s)}))}function AT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.Ru.get(e);i!==null&&(Xm(r.remoteStore,i),r.Ru=r.Ru.remove(e),r.Au.delete(i),ip(r))}function e0(r,e,i){for(const s of i)s instanceof _T?(r.Vu.addReference(s.key,e),N2(r,s)):s instanceof vT?(ce(np,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||AT(r,s.key)):Ee(19791,{wu:s})}function N2(r,e){const i=e.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(ce(np,"New document in limbo: "+i),r.Eu.add(s),ip(r))}function ip(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ye(ot.fromString(e)),s=r.fu.next();r.Au.set(s,new y2(i)),r.Ru=r.Ru.insert(i,s),fT(r.remoteStore,new Br(Ai(zm(i.path)),s,"TargetPurposeLimboResolution",yh.ce))}}async function Zo(r,e,i){const s=Ae(r),o=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,e,i).then((v=>{if((v||i)&&s.isPrimaryClient){const S=v?!v.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(v){o.push(v);const S=Km.Es(y.targetId,v);u.push(S)}})))})),await Promise.all(d),s.Pu.J_(o),await(async function(y,v){const S=Ae(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(v,(D=>J.forEach(D.Ts,(H=>S.persistence.referenceDelegate.addReference(w,D.targetId,H))).next((()=>J.forEach(D.Is,(H=>S.persistence.referenceDelegate.removeReference(w,D.targetId,H)))))))))}catch(w){if(!al(w))throw w;ce(Qm,"Failed to update sequence numbers: "+w)}for(const w of v){const D=w.targetId;if(!w.fromCache){const H=S.vs.get(D),Z=H.snapshotVersion,$=H.withLastLimboFreeSnapshotVersion(Z);S.vs=S.vs.insert(D,$)}}})(s.localStore,u))}async function I2(r,e){const i=Ae(r);if(!i.currentUser.isEqual(e)){ce(np,"User change. New user:",e.toKey());const s=await oT(i.localStore,e);i.currentUser=e,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new me(ee.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Zo(i,s.Ns)}}function x2(r,e){const i=Ae(r),s=i.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=i.Iu.get(e);if(!u)return o;for(const d of u){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function wT(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=TT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w2.bind(null,e),e.Pu.J_=f2.bind(null,e.eventManager),e.Pu.yu=d2.bind(null,e.eventManager),e}function k2(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C2.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return kN(this.persistence,new NN,e.initialUser,this.serializer)}Cu(e){return new lT(Ym.Vi,this.serializer)}Du(e){return new PN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class D2 extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Fe(this.persistence.referenceDelegate instanceof oh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dN(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new lT((s=>oh.Vi(s,i)),this.serializer)}}class vm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Zv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=I2.bind(null,this.syncEngine),await l2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new c2})()}createDatastore(e){const i=Rh(e.databaseInfo.databaseId),s=qN(e.databaseInfo);return QN(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,u,d,g){return new JN(s,o,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Zv(this.syncEngine,i,0)),(function(){return Kv.v()?new Kv:new UN})())}createSyncEngine(e,i){return(function(o,u,d,g,y,v,S){const w=new _2(o,u,d,g,y,v);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Ae(i);ce(Hs,"RemoteStore shutting down."),s.Ea.add(5),await Wo(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};class O2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Wr="FirestoreClient";class M2{constructor(e,i,s,o,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{ce(Wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ce(Wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=ep(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Qd(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Wr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await oT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function t0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await V2(r);ce(Wr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>Xv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Xv(e.remoteStore,o))),r._onlineComponents=e}async function V2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Wr,"Using user provided OfflineComponentProvider");try{await Qd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Bs("Error using user provided cache. Falling back to memory cache: "+i),await Qd(r,new uh)}}else ce(Wr,"Using default OfflineComponentProvider"),await Qd(r,new D2(void 0));return r._offlineComponents}async function RT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Wr,"Using user provided OnlineComponentProvider"),await t0(r,r._uninitializedComponentsProvider._online)):(ce(Wr,"Using default OnlineComponentProvider"),await t0(r,new vm))),r._onlineComponents}function j2(r){return RT(r).then((e=>e.syncEngine))}async function L2(r){const e=await RT(r),i=e.eventManager;return i.onListen=v2.bind(null,e.syncEngine),i.onUnlisten=S2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=E2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=b2.bind(null,e.syncEngine),i}function P2(r,e,i={}){const s=new Yr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,v){const S=new O2({next:D=>{S.Nu(),d.enqueueAndForget((()=>h2(u,w)));const H=D.docs.has(g);!H&&D.fromCache?v.reject(new me(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&D.fromCache&&y&&y.source==="server"?v.reject(new me(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(D)},error:D=>v.reject(D)}),w=new m2(zm(g.path),S,{includeMetadataChanges:!0,Ka:!0});return u2(u,w)})(await L2(r),r.asyncQueue,e,i,s))),s.promise}function U2(r,e){const i=new Yr;return r.asyncQueue.enqueueAndForget((async()=>A2(await j2(r),e,i))),i.promise}function CT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const z2="ComponentProvider",n0=new Map;function B2(r,e,i,s,o){return new iC(r,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,CT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const NT="firestore.googleapis.com",i0=!0;class r0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NT,this.ssl=i0}else this.host=e.host,this.ssl=e.ssl??i0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hN)throw new me(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rp{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new VR;switch(s.type){case"firstParty":return new UR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=n0.get(i);s&&(ce(z2,"Removing Datastore"),n0.delete(i),s.terminate())})(this),Promise.resolve()}}function H2(r,e,i,s={}){r=Vo(r,rp);const o=tl(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(b0(`https://${g}`),A0("Firestore",!0)),u.host!==NT&&u.host!==g&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:o,emulatorOptions:s};if(!js(y,d)&&(r._setSettings(y),s.mockUserToken)){let v,S;if(typeof s.mockUserToken=="string")v=s.mockUserToken,S=Xt.MOCK_USER;else{v=G1(s.mockUserToken,r._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new me(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Xt(w)}r._authCredentials=new jR(new _E(v,S))}}class sp{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new sp(this.firestore,e,this._query)}}class Lt{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Xo(i,Lt._jsonSchema))return new Lt(e,s||null,new ye(ot.fromString(i.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Ct("string",Lt._jsonSchemaVersion),referencePath:Ct("string")};class Ho extends sp{constructor(e,i,s){super(e,i,zm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new ye(e))}withConverter(e){return new Ho(this.firestore,e,this._path)}}function IT(r,e,...i){if(r=En(r),arguments.length===1&&(e=Om.newId()),FR("doc","path",e),r instanceof rp){const s=ot.fromString(e,...i);return _v(s),new Lt(r,null,new ye(s))}{if(!(r instanceof Lt||r instanceof Ho))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...i));return _v(s),new Lt(r.firestore,r instanceof Ho?r.converter:null,new ye(s))}}const s0="AsyncQueue";class a0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uT(this,"async_queue_retry"),this._c=()=>{const s=Kd();s&&ce(s0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!al(e))throw e;ce(s0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,er("INTERNAL UNHANDLED ERROR: ",l0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Zm.createAndSchedule(this,e,i,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:l0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function l0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ap extends rp{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new a0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a0(e),this._firestoreClient=void 0,await e}}}function q2(r,e){const i=typeof r=="object"?r:N0(),s=typeof r=="string"?r:th,o=bm(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=H1("firestore");u&&H2(o,...u)}return o}function xT(r){if(r._terminated)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||G2(r),r._firestoreClient}function G2(r){const e=r._freezeSettings(),i=B2(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new M2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Yt.fromBase64String(e))}catch(i){throw new me(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new jn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xo(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ct("string",jn._jsonSchemaVersion),bytes:Ct("string")};class kT{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new me(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class DT{constructor(e){this._methodName=e}}class Ri{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new me(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new me(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(e){if(Xo(e,Ri._jsonSchema))return new Ri(e.latitude,e.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Ct("string",Ri._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class $n{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xo(e,$n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new $n(e.vectorValues);throw new me(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$n._jsonSchemaVersion="firestore/vectorValue/1.0",$n._jsonSchema={type:Ct("string",$n._jsonSchemaVersion),vectorValues:Ct("object")};const F2=/^__.*__$/;class Y2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,i,this.fieldTransforms):new Jo(e,this.data,i,this.fieldTransforms)}}function OT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:r})}}class lp{constructor(e,i,s,o,u,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new lp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return hh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(OT(this.dataSource)&&F2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class K2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Rh(e)}createContext(e,i,s,o=!1){return new lp({dataSource:e,methodName:i,targetDoc:s,path:Ft.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Q2(r){const e=r._freezeSettings(),i=Rh(r._databaseId);return new K2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function X2(r,e,i,s,o,u={}){const d=r.createContext(u.merge||u.mergeFields?2:0,e,i,o);LT("Data must be an object, but it was:",d,s);const g=VT(s,d);let y,v;if(u.merge)y=new Jn(d.fieldMask),v=d.fieldTransforms;else if(u.mergeFields){const S=[];for(const w of u.mergeFields){const D=op(e,w,i);if(!d.contains(D))throw new me(ee.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);W2(S,D)||S.push(D)}y=new Jn(S),v=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,v=d.fieldTransforms;return new Y2(new Vn(g),y,v)}function MT(r,e){if(jT(r=En(r)))return LT("Unsupported field value:",e,r),VT(r,e);if(r instanceof DT)return(function(s,o){if(!OT(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let d=0;for(const g of s){let y=MT(g,o.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=En(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:lh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lh(o.serializer,u)}}if(s instanceof Ri)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:WE(o.serializer,s._byteString)};if(s instanceof Lt){const u=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof $n)return(function(d,g){const y=d instanceof $n?d.toArray():d;return{mapValue:{fields:{[CE]:{stringValue:NE},[nh]:{arrayValue:{values:y.map((S=>{if(typeof S!="number")throw g.createError("VectorValues must only contain numeric values.");return Bm(g.serializer,S)}))}}}}}})(s,o);if(sT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Mm(s)}`)})(r,e)}function VT(r,e){const i={};return TE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(r,((s,o)=>{const u=MT(o,e.childContextForField(s));u!=null&&(i[s]=u)})),{mapValue:{fields:i}}}function jT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Ri||r instanceof jn||r instanceof Lt||r instanceof DT||r instanceof $n||sT(r))}function LT(r,e,i){if(!jT(i)||!vE(i)){const s=Mm(i);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function op(r,e,i){if((e=En(e))instanceof kT)return e._internalPath;if(typeof e=="string")return $2(r,e);throw hh("Field path arguments must be of type string or ",r,!1,void 0,i)}const J2=new RegExp("[~\\*/\\[\\]]");function $2(r,e,i){if(e.search(J2)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new kT(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function hh(r,e,i,s,o){const u=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new me(ee.INVALID_ARGUMENT,g+r+y)}function W2(r,e){return r.some((i=>i.isEqual(e)))}class Z2{convertValue(e,i="none"){switch(Jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Gs(e,((o,u)=>{s[o]=this.convertValue(u,i)})),s}convertVectorValue(e){const i=e.fields?.[nh].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new $n(i)}convertGeoPoint(e){return new Ri(gt(e.latitude),gt(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=vh(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Lo(e));default:return null}}convertTimestamp(e){const i=Qr(e);return new rt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ot.fromString(e);Fe(rT(s),9688,{name:e});const o=new Po(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(i)||er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}class eI extends Z2{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,i)}}const o0="@firebase/firestore",c0="4.11.0";class PT{constructor(e,i,s,o,u){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(op("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tI extends PT{data(){return super.data()}}function nI(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class bo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vs extends PT{constructor(e,i,s,o,u,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(op("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Vs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vs._jsonSchema={type:Ct("string",Vs._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Fu extends Vs{data(e={}){return super.data(e)}}class xo{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new bo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Fu(this._firestore,this._userDataWriter,s.key,s,new bo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new me(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new Fu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new bo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new Fu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new bo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,S=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:iI(g.type),doc:y,oldIndex:v,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}xo._jsonSchemaVersion="firestore/querySnapshot/1.0",xo._jsonSchema={type:Ct("string",xo._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};function rI(r){r=Vo(r,Lt);const e=Vo(r.firestore,ap),i=xT(e);return P2(i,r._key).then((s=>aI(e,r,s)))}function UT(r,e,i){r=Vo(r,Lt);const s=Vo(r.firestore,ap),o=nI(r.converter,e),u=Q2(s);return sI(s,[X2(u,"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,$i.none())])}function sI(r,e){const i=xT(r);return U2(i,e)}function aI(r,e,i){const s=i.docs.get(e._key),o=new eI(r);return new Vs(r,o,e._key,s,new bo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){MR(nl),Qa(new Ls("firestore",((s,{instanceIdentifier:o,options:u})=>{const d=s.getProvider("app").getImmediate(),g=new ap(new LR(s.getProvider("auth-internal")),new zR(d,s.getProvider("app-check-internal")),rC(d,o),d);return u={useFetchStreams:i,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Gr(o0,c0,e),Gr(o0,c0,"esm2020")})();const lI={apiKey:"AIzaSyD2Qhwi5OEgRsUNviWk8P2e7ySJqhc0kZw",authDomain:"guitar-68cef.firebaseapp.com",projectId:"guitar-68cef",storageBucket:"guitar-68cef.firebasestorage.app",messagingSenderId:"683415808555",appId:"1:683415808555:web:c7d13922458e75a306586e"},zT=C0(lI),fh=DR(zT),BT=q2(zT);function oI({onLogin:r,onClose:e}){const[i,s]=se.useState(""),[o,u]=se.useState(""),[d,g]=se.useState(!1),[y,v]=se.useState(""),[S,w]=se.useState(!1),[D,H]=se.useState(!1);se.useEffect(()=>{H(!0)},[]);const[Z,$]=se.useState(0),W=()=>{const re=Z+1;$(re),re>=3&&r("Ynetici",!0)},le=re=>`${re.toLowerCase().replace(/[^a-z0-9._-]/g,"")}@strumflow.app`,fe=re=>{switch(re){case"auth/email-already-in-use":return"Bu kullanici adi zaten alinmis.";case"auth/invalid-credential":case"auth/wrong-password":return"Yanlis sifre.";case"auth/user-not-found":return"Kullanici bulunamadi.";case"auth/weak-password":return"Sifre en az 6 karakter olmali.";case"auth/invalid-email":return"Gecersiz kullanici adi. Sadece harf, rakam, nokta ve tire kullanin.";case"auth/too-many-requests":return"Cok fazla deneme. Biraz bekleyin.";default:return"Bir hata olustu. Tekrar deneyin."}},G=async re=>{if(re.preventDefault(),!i.trim()||!o.trim())return;v(""),w(!0);const R=le(i.trim());try{d?await gw(fh,R,o):await yw(fh,R,o)}catch(A){v(fe(A.code))}finally{w(!1)}},oe=()=>{H(!1),setTimeout(e,300)},ie=i.trim()&&o.trim()&&!S;return m.jsx("div",{className:`login-modal-overlay ${D?"visible":""}`,onClick:oe,children:m.jsxs("div",{className:`login-modal-content ${D?"visible":""}`,onClick:re=>re.stopPropagation(),children:[m.jsx("div",{className:"login-strings",children:[0,1,2,3,4,5].map(re=>m.jsx("div",{className:"login-string",style:{"--ls-i":re}},re))}),m.jsx("button",{className:"modal-close",onClick:oe,children:""}),m.jsxs("div",{className:"login-container",children:[m.jsxs("div",{className:"login-header",children:[m.jsx("div",{className:"logo-large",onClick:W,style:{cursor:"pointer"},children:"StrumFlow"}),m.jsxs("div",{className:"login-label",children:[m.jsx("span",{className:"label-wire"}),m.jsx("span",{children:"Gitar Toplulugu"}),m.jsx("span",{className:"label-wire"})]})]}),m.jsxs("form",{className:"login-form",onSubmit:G,children:[m.jsx("h2",{children:d?"Kayit Ol":"Hos Geldin"}),m.jsx("p",{className:"form-description",children:d?"Topluluga katilmak icin bilgilerini gir":"Hesabina giris yap"}),y&&m.jsx("div",{className:"login-error",children:y}),m.jsxs("div",{className:"input-wrapper",children:[m.jsx("input",{type:"text",className:"login-input",placeholder:"Kullanici adi...",value:i,onChange:re=>{s(re.target.value),v("")},autoFocus:!0,autoComplete:"username"}),m.jsx("div",{className:"input-line"})]}),m.jsxs("div",{className:"input-wrapper",children:[m.jsx("input",{type:"password",className:"login-input",placeholder:"Sifre...",value:o,onChange:re=>{u(re.target.value),v("")},autoComplete:d?"new-password":"current-password"}),m.jsx("div",{className:"input-line"})]}),m.jsx("button",{type:"submit",className:"login-button",disabled:!ie,children:S?m.jsx("span",{className:"btn-text",children:"Yukleniyor..."}):m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"btn-text",children:d?"Kayit Ol":"Giris Yap"}),m.jsx("span",{className:"btn-icon",children:""})]})}),m.jsx("button",{type:"button",className:"login-mode-toggle",onClick:()=>{g(!d),v("")},children:d?"Zaten hesabin var mi? Giris Yap":"Hesabin yok mu? Kayit Ol"})]}),m.jsx("div",{className:"login-features",children:[{label:"Teknik Makaleler",accent:"var(--accent-amber)"},{label:"Ritim Kutuphanesi",accent:"var(--accent-sage)"},{label:"Gelismis Metronom",accent:"var(--accent-rose)"}].map((re,R)=>m.jsxs("div",{className:"feature-item",style:{"--feature-delay":`${.5+R*.1}s`,"--feature-accent":re.accent},children:[m.jsx("span",{className:"feature-dot"}),m.jsx("span",{children:re.label})]},R))}),m.jsx("div",{className:"login-quote",children:m.jsx("p",{children:'"Muzik, kelimelerin bittigi yerde baslar."'})})]})]})})}const u0=[{text:"Muzik, kelimelerin bittigi yerde baslar.",author:"Hans Christian Andersen"},{text:"Gitar benim icin ikinci bir ses gibi.",author:"B.B. King"},{text:"Her gun pratik yap, bir gun ustalasirsin.",author:"Jimi Hendrix"},{text:"Muzik evrensel bir dildir.",author:"Henry Wadsworth Longfellow"},{text:"Bir gitar tum bir orkestranin yerine gecer.",author:"Beethoven"},{text:"Basit cal ama kalpten cal.",author:"Eric Clapton"},{text:"Muzik ruhun gidasidir.",author:"Platon"},{text:"Hata yapmaktan korkma, calmaktan korkma.",author:"Miles Davis"}],cI=[{type:"note",top:"8%",left:"5%",size:28,duration:7,delay:0},{type:"pick",top:"15%",right:"8%",size:22,duration:5.5,delay:1.2},{type:"note2",top:"40%",left:"3%",size:20,duration:6.5,delay:.8},{type:"pick",top:"55%",right:"4%",size:26,duration:8,delay:2},{type:"note",top:"72%",left:"7%",size:18,duration:6,delay:1.5},{type:"note2",top:"80%",right:"6%",size:24,duration:7.5,delay:.5}];function uI(){return m.jsx("div",{className:"floating-particles",children:cI.map((r,e)=>m.jsxs("div",{className:"floating-particle",style:{top:r.top,left:r.left,right:r.right,"--f-size":`${r.size}px`,"--f-duration":`${r.duration}s`,"--f-delay":`${r.delay}s`},children:[r.type==="note"&&m.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{color:"var(--accent-amber)"},children:m.jsx("path",{d:"M12 3v10.55A4 4 0 1014 17V7h4V3h-6z"})}),r.type==="note2"&&m.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{color:"var(--accent-sage)"},children:m.jsx("path",{d:"M12 3v10.55A4 4 0 1014 17V7h4V3h-6z"})}),r.type==="pick"&&m.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{color:"var(--accent-rose)"},children:m.jsx("path",{d:"M12 2C9.5 2 7 4 7 7c0 4 5 13 5 13s5-9 5-13c0-3-2.5-5-5-5z"})})]},e))})}function hI({text:r}){const e=r.split("");return m.jsx("h1",{className:"home-title",children:e.map((i,s)=>m.jsx("span",{className:"hero-word",style:{"--word-delay":`${.15+s*.06}s`},children:i},s))})}function h0(r,e=1500){const[i,s]=se.useState(0),o=se.useRef(null),u=se.useRef(!1),d=se.useCallback(()=>{if(u.current)return;u.current=!0;const g=performance.now(),y=v=>{const S=v-g,w=Math.min(S/e,1),D=1-Math.pow(1-w,3);s(Math.round(D*r)),w<1&&requestAnimationFrame(y)};requestAnimationFrame(y)},[r,e]);return se.useEffect(()=>{const g=o.current;if(!g)return;const y=new IntersectionObserver(([v])=>{v.isIntersecting&&d()},{threshold:.5});return y.observe(g),()=>y.disconnect()},[d]),{count:i,ref:o}}function fI(){return m.jsxs("svg",{viewBox:"0 0 400 320",fill:"none",className:"feature-illustration",children:[m.jsx("rect",{x:"60",y:"40",width:"180",height:"100",rx:"16",fill:"var(--accent-amber)",fillOpacity:"0.1",stroke:"var(--accent-amber)",strokeWidth:"1.5",strokeOpacity:"0.3"}),m.jsx("rect",{x:"80",y:"65",width:"100",height:"8",rx:"4",fill:"var(--accent-amber)",fillOpacity:"0.25"}),m.jsx("rect",{x:"80",y:"85",width:"140",height:"8",rx:"4",fill:"var(--accent-amber)",fillOpacity:"0.15"}),m.jsx("rect",{x:"80",y:"105",width:"80",height:"8",rx:"4",fill:"var(--accent-amber)",fillOpacity:"0.2"}),m.jsx("rect",{x:"160",y:"170",width:"180",height:"90",rx:"16",fill:"var(--accent-sage)",fillOpacity:"0.1",stroke:"var(--accent-sage)",strokeWidth:"1.5",strokeOpacity:"0.3"}),m.jsx("rect",{x:"180",y:"195",width:"120",height:"8",rx:"4",fill:"var(--accent-sage)",fillOpacity:"0.25"}),m.jsx("rect",{x:"180",y:"215",width:"90",height:"8",rx:"4",fill:"var(--accent-sage)",fillOpacity:"0.15"}),m.jsx("path",{d:"M40 220 L60 280 L20 280 Z",fill:"var(--accent-amber)",fillOpacity:"0.15",stroke:"var(--accent-amber)",strokeWidth:"1.5",strokeOpacity:"0.4",strokeLinejoin:"round"}),m.jsx("circle",{cx:"150",cy:"155",r:"4",fill:"var(--accent-amber)",fillOpacity:"0.4"}),m.jsx("circle",{cx:"170",cy:"165",r:"3",fill:"var(--accent-sage)",fillOpacity:"0.4"}),m.jsx("text",{x:"310",y:"60",fontSize:"24",fill:"var(--accent-amber)",fillOpacity:"0.2",fontFamily:"serif",children:""}),m.jsx("text",{x:"350",y:"120",fontSize:"18",fill:"var(--accent-sage)",fillOpacity:"0.15",fontFamily:"serif",children:""})]})}function dI(){return m.jsxs("svg",{viewBox:"0 0 400 320",fill:"none",className:"feature-illustration",children:[m.jsx("path",{d:"M180 280 L220 280 L210 80 L190 80 Z",fill:"var(--accent-sage)",fillOpacity:"0.08",stroke:"var(--accent-sage)",strokeWidth:"1.5",strokeOpacity:"0.3"}),m.jsx("line",{x1:"200",y1:"260",x2:"160",y2:"100",stroke:"var(--accent-sage)",strokeWidth:"2",strokeOpacity:"0.4",strokeLinecap:"round"}),m.jsx("circle",{cx:"160",cy:"100",r:"8",fill:"var(--accent-sage)",fillOpacity:"0.3",stroke:"var(--accent-sage)",strokeWidth:"1.5",strokeOpacity:"0.4"}),m.jsx("rect",{x:"160",y:"275",width:"80",height:"12",rx:"4",fill:"var(--accent-sage)",fillOpacity:"0.15",stroke:"var(--accent-sage)",strokeWidth:"1",strokeOpacity:"0.2"}),m.jsxs("g",{opacity:"0.35",children:[m.jsx("rect",{x:"260",y:"140",width:"3",height:"40",rx:"1.5",fill:"var(--accent-sage)"}),m.jsx("rect",{x:"272",y:"120",width:"3",height:"80",rx:"1.5",fill:"var(--accent-sage)"}),m.jsx("rect",{x:"284",y:"150",width:"3",height:"30",rx:"1.5",fill:"var(--accent-sage)"}),m.jsx("rect",{x:"296",y:"130",width:"3",height:"60",rx:"1.5",fill:"var(--accent-sage)"}),m.jsx("rect",{x:"308",y:"145",width:"3",height:"35",rx:"1.5",fill:"var(--accent-sage)"}),m.jsx("rect",{x:"320",y:"125",width:"3",height:"70",rx:"1.5",fill:"var(--accent-sage)"}),m.jsx("rect",{x:"332",y:"140",width:"3",height:"40",rx:"1.5",fill:"var(--accent-sage)"}),m.jsx("rect",{x:"344",y:"155",width:"3",height:"20",rx:"1.5",fill:"var(--accent-sage)"})]}),m.jsx("rect",{x:"60",y:"130",width:"70",height:"36",rx:"8",fill:"var(--accent-sage)",fillOpacity:"0.08",stroke:"var(--accent-sage)",strokeWidth:"1",strokeOpacity:"0.25"}),m.jsx("text",{x:"95",y:"153",textAnchor:"middle",fontSize:"14",fill:"var(--accent-sage)",fillOpacity:"0.5",fontFamily:"Space Grotesk, sans-serif",fontWeight:"600",children:"BPM"}),m.jsx("circle",{cx:"75",cy:"200",r:"4",fill:"var(--accent-amber)",fillOpacity:"0.3"}),m.jsx("circle",{cx:"95",cy:"200",r:"4",fill:"var(--accent-sage)",fillOpacity:"0.5"}),m.jsx("circle",{cx:"115",cy:"200",r:"4",fill:"var(--accent-amber)",fillOpacity:"0.3"}),m.jsx("circle",{cx:"135",cy:"200",r:"4",fill:"var(--accent-sage)",fillOpacity:"0.5"})]})}function mI(){return m.jsxs("svg",{viewBox:"0 0 400 320",fill:"none",className:"feature-illustration",children:[m.jsx("rect",{x:"120",y:"40",width:"160",height:"240",rx:"8",fill:"var(--accent-rose)",fillOpacity:"0.05",stroke:"var(--accent-rose)",strokeWidth:"1.5",strokeOpacity:"0.2"}),[0,1,2,3,4,5].map(r=>m.jsx("line",{x1:140+r*24,y1:"60",x2:140+r*24,y2:"260",stroke:"var(--accent-rose)",strokeWidth:.8+r*.15,strokeOpacity:"0.2"},`s${r}`)),[0,1,2,3,4].map(r=>m.jsx("line",{x1:"130",y1:80+r*45,x2:"270",y2:80+r*45,stroke:"var(--accent-rose)",strokeWidth:"1",strokeOpacity:"0.15"},`f${r}`)),m.jsx("circle",{cx:"164",cy:"102",r:"10",fill:"var(--accent-rose)",fillOpacity:"0.4",stroke:"var(--accent-rose)",strokeWidth:"1.5",strokeOpacity:"0.5"}),m.jsx("circle",{cx:"212",cy:"147",r:"10",fill:"var(--accent-rose)",fillOpacity:"0.4",stroke:"var(--accent-rose)",strokeWidth:"1.5",strokeOpacity:"0.5"}),m.jsx("circle",{cx:"236",cy:"147",r:"10",fill:"var(--accent-rose)",fillOpacity:"0.4",stroke:"var(--accent-rose)",strokeWidth:"1.5",strokeOpacity:"0.5"}),m.jsx("circle",{cx:"140",cy:"50",r:"5",stroke:"var(--accent-rose)",strokeWidth:"1",strokeOpacity:"0.3",fill:"none"}),m.jsx("circle",{cx:"188",cy:"50",r:"5",stroke:"var(--accent-rose)",strokeWidth:"1",strokeOpacity:"0.3",fill:"none"}),m.jsx("text",{x:"256",y:"55",textAnchor:"middle",fontSize:"14",fill:"var(--accent-rose)",fillOpacity:"0.3",fontWeight:"bold",children:"x"}),m.jsx("rect",{x:"300",y:"80",width:"60",height:"32",rx:"8",fill:"var(--accent-rose)",fillOpacity:"0.1",stroke:"var(--accent-rose)",strokeWidth:"1",strokeOpacity:"0.25"}),m.jsx("text",{x:"330",y:"101",textAnchor:"middle",fontSize:"16",fill:"var(--accent-rose)",fillOpacity:"0.6",fontFamily:"Syne, sans-serif",fontWeight:"700",children:"Am"}),m.jsx("rect",{x:"300",y:"130",width:"60",height:"32",rx:"8",fill:"var(--accent-amber)",fillOpacity:"0.08",stroke:"var(--accent-amber)",strokeWidth:"1",strokeOpacity:"0.2"}),m.jsx("text",{x:"330",y:"151",textAnchor:"middle",fontSize:"16",fill:"var(--accent-amber)",fillOpacity:"0.4",fontFamily:"Syne, sans-serif",fontWeight:"700",children:"G"}),m.jsx("rect",{x:"300",y:"180",width:"60",height:"32",rx:"8",fill:"var(--accent-sage)",fillOpacity:"0.08",stroke:"var(--accent-sage)",strokeWidth:"1",strokeOpacity:"0.2"}),m.jsx("text",{x:"330",y:"201",textAnchor:"middle",fontSize:"16",fill:"var(--accent-sage)",fillOpacity:"0.4",fontFamily:"Syne, sans-serif",fontWeight:"700",children:"E"})]})}function pI(){return m.jsxs("svg",{viewBox:"0 0 600 200",fill:"none",className:"hero-illustration",children:[m.jsx("path",{d:"M300 100 Q 250 60, 200 100 Q 250 140, 300 100",stroke:"var(--accent-amber)",strokeWidth:"1",strokeOpacity:"0.15",fill:"none"}),m.jsx("path",{d:"M300 100 Q 230 40, 160 100 Q 230 160, 300 100",stroke:"var(--accent-amber)",strokeWidth:"1",strokeOpacity:"0.12",fill:"none"}),m.jsx("path",{d:"M300 100 Q 210 20, 120 100 Q 210 180, 300 100",stroke:"var(--accent-amber)",strokeWidth:"1",strokeOpacity:"0.08",fill:"none"}),m.jsx("path",{d:"M300 100 Q 350 60, 400 100 Q 350 140, 300 100",stroke:"var(--accent-sage)",strokeWidth:"1",strokeOpacity:"0.15",fill:"none"}),m.jsx("path",{d:"M300 100 Q 370 40, 440 100 Q 370 160, 300 100",stroke:"var(--accent-sage)",strokeWidth:"1",strokeOpacity:"0.12",fill:"none"}),m.jsx("path",{d:"M300 100 Q 390 20, 480 100 Q 390 180, 300 100",stroke:"var(--accent-sage)",strokeWidth:"1",strokeOpacity:"0.08",fill:"none"}),m.jsxs("g",{className:"hero-center-glow",children:[m.jsx("circle",{cx:"300",cy:"100",r:"20",stroke:"var(--accent-amber)",strokeWidth:"1.5",strokeOpacity:"0.25",fill:"var(--accent-amber)",fillOpacity:"0.05"}),m.jsx("circle",{cx:"300",cy:"100",r:"8",fill:"var(--accent-amber)",fillOpacity:"0.15"})]})]})}function f0({onNavigate:r}){const[e,i]=se.useState(!1),[s]=se.useState(()=>u0[Math.floor(Math.random()*u0.length)]),o=se.useRef([]),u=h0(50,1400),d=h0(999,1800);se.useEffect(()=>{setTimeout(()=>i(!0),80)},[]),se.useEffect(()=>{const y=new IntersectionObserver(v=>{v.forEach(S=>{S.isIntersecting&&S.target.classList.add("visible")})},{threshold:.15,rootMargin:"0px 0px -40px 0px"});return o.current.forEach(v=>{v&&y.observe(v)}),()=>y.disconnect()},[]);const g=y=>{y&&!o.current.includes(y)&&o.current.push(y)};return m.jsxs("section",{className:"home-screen",children:[m.jsx(uI,{}),m.jsx("div",{className:"home-strings-bg",children:[0,1,2,3,4,5].map(y=>m.jsx("div",{className:"bg-string",style:{"--s-i":y}},y))}),m.jsxs("div",{className:`home-container ${e?"loaded":""}`,children:[m.jsxs("div",{className:"home-hero",children:[m.jsx("div",{className:"hero-label",children:"Gitar Toplulugu & Ritim Kutuphanesi"}),m.jsx(hI,{text:"StrumFlow"}),m.jsx("p",{className:"home-subtitle",children:"Gitar tekniklerini ogren, ritimlerini paylas, birlikte cal"}),m.jsx(pI,{}),m.jsxs("div",{className:"string-divider",children:[m.jsx("span",{className:"divider-wire"}),m.jsx("span",{className:"divider-node"}),m.jsx("span",{className:"divider-wire"})]}),m.jsxs("div",{className:"hero-quote",children:[m.jsx("p",{className:"quote-text",children:s.text}),m.jsx("span",{className:"quote-author",children:s.author})]})]}),m.jsxs("div",{className:"feature-section",ref:g,children:[m.jsxs("div",{className:"feature-content",children:[m.jsx("span",{className:"feature-tag amber",children:"Topluluk"}),m.jsx("h2",{className:"feature-title",children:"Forum"}),m.jsx("p",{className:"feature-desc",children:"Kesme, susturma, rasguido ve daha fazlasi... Gitar teknikleri hakkinda detayli makaleler oku, kendi deneyimlerini paylas."}),m.jsxs("ul",{className:"feature-bullets",children:[m.jsx("li",{children:"Teknik makaleler ve rehberler"}),m.jsx("li",{children:"Topluluk tartismalari"}),m.jsx("li",{children:"Deneyimlerini paylas"})]}),m.jsxs("button",{className:"feature-cta amber",onClick:()=>r("education"),children:["Forumu Kesfet ",m.jsx("span",{className:"cta-arrow",children:""})]})]}),m.jsx("div",{className:"feature-illust-wrap amber-glow",children:m.jsx(fI,{})})]}),m.jsxs("div",{className:"feature-section reversed",ref:g,children:[m.jsxs("div",{className:"feature-content",children:[m.jsx("span",{className:"feature-tag sage",children:"Pratik"}),m.jsx("h2",{className:"feature-title",children:"Ritimler"}),m.jsx("p",{className:"feature-desc",children:"Kendi ritimlerini olustur, akorlarini ekle ve gelismis metronom ile pratik yap. Paylas ve topluluktan geri bildirim al."}),m.jsxs("ul",{className:"feature-bullets",children:[m.jsx("li",{children:"Ritim olusturucu"}),m.jsx("li",{children:"Gelismis metronom"}),m.jsx("li",{children:"Akor progresyonlari"})]}),m.jsxs("button",{className:"feature-cta sage",onClick:()=>r("library"),children:["Ritimlere Bak ",m.jsx("span",{className:"cta-arrow",children:""})]})]}),m.jsx("div",{className:"feature-illust-wrap sage-glow",children:m.jsx(dI,{})})]}),m.jsxs("div",{className:"feature-section",ref:g,children:[m.jsxs("div",{className:"feature-content",children:[m.jsx("span",{className:"feature-tag rose",children:"Ogren"}),m.jsx("h2",{className:"feature-title",children:"Akorlar"}),m.jsx("p",{className:"feature-desc",children:"Am, E, G ve daha fazlasi... Gorsel akor semalari ile tum akorlari kesfet, parmak pozisyonlarini ogren."}),m.jsxs("ul",{className:"feature-bullets",children:[m.jsx("li",{children:"Gorsel akor semalari"}),m.jsx("li",{children:"Seviyeye gore filtreleme"}),m.jsx("li",{children:"Detayli parmak rehberi"})]}),m.jsxs("button",{className:"feature-cta rose",onClick:()=>r("chords"),children:["Akorlari Incele ",m.jsx("span",{className:"cta-arrow",children:""})]})]}),m.jsx("div",{className:"feature-illust-wrap rose-glow",children:m.jsx(mI,{})})]}),m.jsxs("div",{className:"stats-bar",ref:g,children:[m.jsxs("div",{className:"stat-item",ref:u.ref,children:[m.jsxs("span",{className:"stat-number",children:[u.count,"+"]}),m.jsx("span",{className:"stat-label",children:"Akor"})]}),m.jsx("div",{className:"stat-divider"}),m.jsxs("div",{className:"stat-item",ref:d.ref,children:[m.jsx("span",{className:"stat-number",children:d.count===999?"":d.count}),m.jsx("span",{className:"stat-label",children:"Ritim"})]}),m.jsx("div",{className:"stat-divider"}),m.jsxs("div",{className:"stat-item",children:[m.jsx("span",{className:"stat-number",children:""}),m.jsx("span",{className:"stat-label",children:"Topluluk Forumu"})]})]}),m.jsxs("div",{className:"home-footer",children:[m.jsx("span",{className:"footer-wire"}),m.jsx("span",{className:"footer-text",children:"Muzik bir yolculuktur"}),m.jsx("span",{className:"footer-wire"})]})]})]})}const vn={RHYTHMS:"strumflow_rhythms",ARTICLES:"strumflow_user_articles",COMMENTS:"strumflow_comments",PROFILE:"strumflow_profile",CHORDS:"strumflow_user_chords"};function ko(){try{const r=localStorage.getItem(vn.CHORDS);return r?JSON.parse(r):{mastered:[],learning:[]}}catch{return{mastered:[],learning:[]}}}async function gI(r){if(!r)return ko();try{const e=IT(BT,"users",r,"data","chords"),i=await rI(e);if(i.exists()){const o=i.data();return localStorage.setItem(vn.CHORDS,JSON.stringify(o)),o}const s=ko();return(s.mastered.length>0||s.learning.length>0)&&await UT(e,s),s}catch(e){return console.warn("Firestore okunamadi, localStorage kullaniliyor:",e),ko()}}function d0(){return ko()}async function m0(r,e,i){const s=ko();if(s.mastered=s.mastered.filter(o=>o!==e),s.learning=s.learning.filter(o=>o!==e),i==="mastered"?(s.mastered.push(e),kh(5)):i==="learning"&&s.learning.push(e),localStorage.setItem(vn.CHORDS,JSON.stringify(s)),window.dispatchEvent(new Event("chordsUpdated")),r)try{const o=IT(BT,"users",r,"data","chords");await UT(o,{mastered:s.mastered,learning:s.learning})}catch(o){console.warn("Firestore yazilamadi:",o)}return s}function yI(r){const e=xh().filter(o=>o.id!==r);localStorage.setItem(vn.ARTICLES,JSON.stringify(e));const s=JSON.parse(localStorage.getItem(vn.COMMENTS)||"[]").filter(o=>o.articleId!==r);localStorage.setItem(vn.COMMENTS,JSON.stringify(s)),window.dispatchEvent(new Event("articleDeleted"))}function _I(r,e){const i=xh(),s=i.findIndex(o=>o.id===r);return s!==-1?(i[s]={...i[s],...e},localStorage.setItem(vn.ARTICLES,JSON.stringify(i)),window.dispatchEvent(new Event("articleUpdated")),i[s]):null}function el(){try{const r=localStorage.getItem(vn.RHYTHMS);return r?JSON.parse(r):[]}catch{return[]}}function HT(r){localStorage.setItem(vn.RHYTHMS,JSON.stringify(r))}function p0(){return el()}function vI(r){const e=r.toLowerCase().trim();return e?el().filter(i=>i.title.toLowerCase().includes(e)||i.chords.some(s=>s.name.toLowerCase().includes(e))||i.author&&i.author.toLowerCase().includes(e)):el()}function EI(r){const e=el(),i={...r,id:Date.now().toString(),createdAt:new Date().toISOString()};return e.unshift(i),HT(e),i}function TI(r){return el().find(e=>e.id===r)||null}function SI(r){const e=el().filter(i=>i.id!==r);HT(e)}function ec(){try{const r=localStorage.getItem(vn.COMMENTS);return r?JSON.parse(r):[]}catch{return[]}}function Ih(r){localStorage.setItem(vn.COMMENTS,JSON.stringify(r))}function go(r){return ec().filter(e=>e.articleId===r).sort((e,i)=>new Date(i.createdAt)-new Date(e.createdAt))}function bI(r){const e=ec(),i={...r,id:Date.now().toString(),createdAt:new Date().toISOString(),replies:[]};return e.push(i),Ih(e),i}function AI(r,e){const i=ec(),s=i.find(o=>o.id===r);if(s){const o={...e,id:Date.now().toString(),createdAt:new Date().toISOString()};return s.replies||(s.replies=[]),s.replies.push(o),Ih(i),o}return null}function wI(r){const e=ec().filter(i=>i.id!==r);Ih(e)}function RI(r,e){const i=ec(),s=i.find(o=>o.id===r);s&&s.replies&&(s.replies=s.replies.filter(o=>o.id!==e),Ih(i))}function qT(){try{const r=localStorage.getItem(vn.ARTICLES);return r?JSON.parse(r):[]}catch{return[]}}function CI(r){localStorage.setItem(vn.ARTICLES,JSON.stringify(r))}function xh(){return[...qT()]}function NI(r){const e=qT(),i={...r,id:"user_"+Date.now().toString(),createdAt:new Date().toISOString(),isUserCreated:!0};return e.unshift(i),CI(e),i}const II=[{level:1,xp:0,title:"aylak Gitarist"},{level:2,xp:100,title:"Ritim Merakls"},{level:3,xp:300,title:"Gitar ra"},{level:4,xp:600,title:"Sahne Tozu Yutmu"},{level:5,xp:1e3,title:"Ritim Ustas"},{level:6,xp:1500,title:"Virtz Aday"},{level:7,xp:2200,title:"Gitar Efsanesi"}];function GT(){try{const r=localStorage.getItem("strumflow_profile");return r?JSON.parse(r):{xp:0,level:1,badges:[]}}catch{return{xp:0,level:1,badges:[]}}}function xI(r){localStorage.setItem("strumflow_profile",JSON.stringify(r)),window.dispatchEvent(new Event("profileUpdated"))}function kh(r){const e=GT(),i=e.level;e.xp+=r;const s=II.slice().reverse().find(o=>e.xp>=o.xp);return s&&s.level>e.level&&(e.level=s.level,console.log(`Level Up! New Level: ${e.level}`)),xI(e),{newXP:e.xp,newLevel:e.level,leveledUp:e.level>i,amountAdded:r}}function kI({onNavigate:r,onBack:e}){const i=xh();return m.jsx("section",{className:"education-page",children:m.jsxs("div",{className:"edu-container",children:[m.jsxs("div",{className:"edu-header",children:[m.jsx("span",{className:"edu-header-icon",children:""}),m.jsx("h1",{children:"Forum"}),m.jsx("p",{children:"Gitar tekniklerini derinlemesine ren ve toplulua katl"})]}),m.jsx("div",{className:"edu-actions",children:m.jsx("button",{className:"add-article-btn",onClick:()=>r("create-article"),children:" Makale Ekle"})}),m.jsx("div",{className:"articles-grid",children:i.map((s,o)=>m.jsxs("div",{className:"article-card",onClick:()=>r("article-view",{articleId:s.id}),style:{"--card-accent":s.color,"--article-i":o},children:[m.jsx("div",{className:"article-card-accent"}),m.jsxs("div",{className:"article-card-body",children:[m.jsx("div",{className:"article-icon",children:s.icon}),m.jsx("h2",{children:s.title}),m.jsx("p",{children:s.shortDesc}),s.isUserCreated&&m.jsx("div",{className:"article-author-tag",children:m.jsxs("span",{children:[" ",s.author||"Anonim"]})}),m.jsxs("div",{className:"article-read-more",children:[m.jsx("span",{children:"Makaleyi Oku"}),m.jsx("span",{className:"read-arrow",children:""})]})]})]},s.id))}),m.jsxs("div",{className:"edu-info-banner",children:[m.jsx("span",{className:"info-icon",children:""}),m.jsx("p",{children:"Her makalenin altnda topluluk yorumlar bulunur. Ritim kalbnz paylaarak sohbete katln!"})]})]})})}function FT({url:r,title:e}){if(!r)return null;const i=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,s=r.match(i),o=s&&s[2].length===11?s[2]:null;return o?m.jsx("div",{className:"video-responsive",children:m.jsx("iframe",{width:"853",height:"480",src:`https://www.youtube.com/embed/${o}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:e||"YouTube video player"})}):null}function DI({articleId:r,isLoggedIn:e,user:i,onBack:s,onRequestLogin:o,onNavigate:u}){const[d,g]=se.useState(null),[y,v]=se.useState([]),[S,w]=se.useState(""),[D,H]=se.useState(""),[Z,$]=se.useState(null),[W,le]=se.useState("");se.useEffect(()=>{const I=xh().find(O=>O.id===r);I&&(g(I),v(go(I.id)))},[r]);const fe=()=>{window.confirm("Bu makaleyi silmek istediinize emin misiniz?")&&(yI(d.id),s())},G=()=>{u("edit-article",{article:d})},oe=k=>{if(k.preventDefault(),!S.trim()||!D.trim())return;if(bI({articleId:d.id,author:i.name,rhythm:S.trim(),message:D.trim()})){const O=kh(10);O.leveledUp&&alert(` TEBRKLER!
Seviye Atladn: ${O.newLevel}`),v(go(d.id)),w(""),H("")}},ie=k=>{W.trim()&&(AI(k,{author:i.name,message:W.trim()}),v(go(d.id)),$(null),le(""))},re=k=>{window.confirm("Bu yorumu silmek istediinize emin misiniz?")&&(wI(k),v(go(d.id)))},R=(k,I)=>{window.confirm("Bu yant silmek istediinize emin misiniz?")&&(RI(k,I),v(go(d.id)))},A=k=>new Date(k).toLocaleDateString("tr-TR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),N=k=>{const I=k.split(`
`),O=[];let C=!1,je="";return I.forEach((tt,F)=>{if(tt.trim().startsWith("```")){C?(O.push(m.jsx("pre",{className:"article-code",children:m.jsx("code",{children:je.trim()})},`code-${F}`)),je="",C=!1):C=!0;return}if(C){je+=tt+`
`;return}const te=tt.trim();te?te.startsWith("## ")?O.push(m.jsx("h2",{className:"article-h2",children:te.slice(3)},F)):te.startsWith("### ")?O.push(m.jsx("h3",{className:"article-h3",children:te.slice(4)},F)):te.match(/^\d+\.\s/)?O.push(m.jsx("p",{className:"article-list-item numbered",children:te},F)):te.startsWith("- ")?O.push(m.jsx("p",{className:"article-list-item",children:te},F)):O.push(m.jsx("p",{className:"article-paragraph",children:te},F)):O.push(m.jsx("br",{},F))}),O};return d?m.jsx("section",{className:"article-page",children:m.jsxs("div",{className:"article-container",children:[m.jsxs("article",{className:"article-content",style:{"--article-accent":d.color},children:[m.jsxs("div",{className:"article-header-section",children:[m.jsxs("div",{className:"article-header-top",children:[m.jsx("span",{className:"article-big-icon",children:d.icon}),(i.isAdmin||i.name===d.author)&&m.jsxs("div",{className:"author-actions",children:[m.jsx("button",{className:"edit-btn",onClick:G,children:" Dzenle"}),m.jsx("button",{className:"delete-btn",onClick:fe,children:" Sil"})]})]}),m.jsx("h1",{children:d.title}),m.jsxs("div",{className:"article-meta-info",children:[m.jsxs("span",{children:[" ",d.author]}),m.jsxs("span",{children:[" ",new Date(d.createdAt).toLocaleDateString("tr-TR")]})]})]}),m.jsxs("div",{className:"article-body",children:[m.jsx(FT,{url:d.youtubeUrl,title:d.title}),N(d.content)]})]}),m.jsxs("div",{className:"comments-section",children:[m.jsxs("div",{className:"comments-header",children:[m.jsx("h2",{children:" Topluluk Yorumlar"}),m.jsxs("span",{className:"comment-count",children:[y.length," yorum"]})]}),e?m.jsxs("form",{className:"new-comment-form",onSubmit:oe,children:[m.jsxs("div",{className:"comment-form-header",children:[m.jsx("span",{className:"form-avatar",children:""}),m.jsx("span",{className:"form-username",children:i.name})]}),m.jsxs("div",{className:"form-field",children:[m.jsxs("label",{children:[" Ritim Kalb ",m.jsx("span",{className:"required",children:"*"})]}),m.jsx("input",{type:"text",value:S,onChange:k=>w(k.target.value),placeholder:"r:      veya D D U D U",className:"rhythm-input"})]}),m.jsxs("div",{className:"form-field",children:[m.jsxs("label",{children:[" Mesajnz ",m.jsx("span",{className:"required",children:"*"})]}),m.jsx("textarea",{value:D,onChange:k=>H(k.target.value),placeholder:"Bu teknikle ilgili deneyiminizi paylan...",rows:3,className:"message-input"})]}),m.jsx("button",{type:"submit",className:"submit-comment-btn",disabled:!S.trim()||!D.trim(),children:"Yorum Payla"})]}):m.jsxs("div",{className:"login-prompt",children:[m.jsx("p",{children:"Yorum yazmak iin giri yapmanz gerekiyor."}),m.jsx("button",{className:"login-prompt-btn",onClick:o,children:"Giri Yap"})]}),m.jsx("div",{className:"comments-list",children:y.length===0?m.jsxs("div",{className:"no-comments",children:[m.jsx("span",{children:""}),m.jsx("p",{children:"Henz yorum yok. lk yorumu siz yazn!"})]}):y.map(k=>m.jsxs("div",{className:"comment-thread",children:[m.jsxs("div",{className:"comment-item",children:[m.jsxs("div",{className:"comment-meta",children:[m.jsx("span",{className:"comment-avatar",children:""}),m.jsx("span",{className:"comment-author",children:k.author}),m.jsx("span",{className:"comment-date",children:A(k.createdAt)})]}),m.jsxs("div",{className:"comment-rhythm",children:[m.jsx("span",{className:"rhythm-label",children:" Ritim:"}),m.jsx("span",{className:"rhythm-value",children:k.rhythm})]}),m.jsx("p",{className:"comment-message",children:k.message}),e&&m.jsxs("div",{className:"comment-actions",children:[m.jsx("button",{className:"reply-btn",onClick:()=>$(Z===k.id?null:k.id),children:" Yantla"}),(i.isAdmin||i.name===k.author)&&m.jsx("button",{className:"comment-delete-btn",onClick:()=>re(k.id),children:" Sil"})]})]}),k.replies&&k.replies.length>0&&m.jsx("div",{className:"replies-list",children:k.replies.map(I=>m.jsxs("div",{className:"reply-item",children:[m.jsxs("div",{className:"comment-meta",children:[m.jsx("span",{className:"comment-avatar",children:""}),m.jsx("span",{className:"comment-author",children:I.author}),m.jsx("span",{className:"comment-date",children:A(I.createdAt)}),(i.isAdmin||i.name===I.author)&&m.jsx("button",{className:"reply-delete-btn",onClick:()=>R(k.id,I.id),children:""})]}),m.jsx("p",{className:"comment-message",children:I.message})]},I.id))}),Z===k.id&&m.jsxs("div",{className:"reply-form",children:[m.jsx("textarea",{value:W,onChange:I=>le(I.target.value),placeholder:"Yantnz yazn...",rows:2,className:"reply-input",autoFocus:!0}),m.jsxs("div",{className:"reply-actions",children:[m.jsx("button",{className:"cancel-reply-btn",onClick:()=>{$(null),le("")},children:"ptal"}),m.jsx("button",{className:"send-reply-btn",onClick:()=>ie(k.id),disabled:!W.trim(),children:"Gnder"})]})]})]},k.id))})]})]})}):m.jsx("div",{className:"loading",children:"Ykleniyor..."})}function OI({onNavigate:r,onBack:e,isLoggedIn:i,onRequestLogin:s}){const[o,u]=se.useState([]),[d,g]=se.useState("");se.useEffect(()=>{u(p0())},[]),se.useEffect(()=>{d.trim()?u(vI(d)):u(p0())},[d]);const y=()=>{if(!i){s();return}r("create")},v=S=>new Date(S).toLocaleDateString("tr-TR",{day:"numeric",month:"short",year:"numeric"});return m.jsx("section",{className:"library-page",children:m.jsxs("div",{className:"library-container",children:[m.jsxs("div",{className:"library-header",children:[m.jsx("span",{className:"library-header-icon",children:""}),m.jsx("h1",{children:"Ktphane"}),m.jsx("p",{children:"Topluluk ritimlerini kefet veya kendi ritimlerini olutur"})]}),m.jsxs("div",{className:"library-actions",children:[m.jsxs("div",{className:"search-bar",children:[m.jsx("span",{className:"search-icon",children:""}),m.jsx("input",{type:"text",value:d,onChange:S=>g(S.target.value),placeholder:"Ritim ara... (balk, akor veya kullanc)",className:"search-input"}),d&&m.jsx("button",{className:"clear-search",onClick:()=>g(""),children:""})]}),m.jsxs("button",{className:"create-btn",onClick:y,children:[m.jsx("span",{children:""})," Yeni Ritim"]})]}),m.jsx("div",{className:"rhythm-list",children:o.length===0?m.jsxs("div",{className:"empty-library",children:[m.jsx("span",{className:"empty-icon",children:""}),m.jsx("h3",{children:d?"Sonu bulunamad":"Henz ritim yok"}),m.jsx("p",{children:d?"Farkl bir arama deneyin":'lk ritmi oluturmak iin "Yeni Ritim" butonuna tklayn!'})]}):o.map((S,w)=>m.jsxs("div",{className:"rhythm-card",onClick:()=>r("rhythm-detail",{rhythmId:S.id}),style:{"--ri":w},children:[m.jsxs("div",{className:"rhythm-card-left",children:[m.jsx("h3",{children:S.title}),m.jsxs("div",{className:"rhythm-card-meta",children:[m.jsxs("span",{className:"meta-author",children:[" ",S.author]}),m.jsxs("span",{className:"meta-date",children:[" ",v(S.createdAt)]})]}),m.jsxs("div",{className:"rhythm-chords-preview",children:[S.chords.slice(0,6).map((D,H)=>m.jsxs("span",{className:"chord-badge",children:[D.name," ",D.repeat]},H)),S.chords.length>6&&m.jsxs("span",{className:"chord-badge more",children:["+",S.chords.length-6]})]})]}),m.jsx("div",{className:"rhythm-card-right",children:m.jsx("span",{className:"card-arrow",children:""})})]},S.id))})]})})}const yo={major:[{name:"C",fullName:"C Major",type:"major"},{name:"D",fullName:"D Major",type:"major"},{name:"E",fullName:"E Major",type:"major"},{name:"F",fullName:"F Major",type:"major"},{name:"G",fullName:"G Major",type:"major"},{name:"A",fullName:"A Major",type:"major"},{name:"B",fullName:"B Major",type:"major"}],minor:[{name:"Cm",fullName:"C Minor",type:"minor"},{name:"Dm",fullName:"D Minor",type:"minor"},{name:"Em",fullName:"E Minor",type:"minor"},{name:"Fm",fullName:"F Minor",type:"minor"},{name:"Gm",fullName:"G Minor",type:"minor"},{name:"Am",fullName:"A Minor",type:"minor"},{name:"Bm",fullName:"B Minor",type:"minor"}],seventh:[{name:"C7",fullName:"C Dominant 7th",type:"seventh"},{name:"D7",fullName:"D Dominant 7th",type:"seventh"},{name:"E7",fullName:"E Dominant 7th",type:"seventh"},{name:"F7",fullName:"F Dominant 7th",type:"seventh"},{name:"G7",fullName:"G Dominant 7th",type:"seventh"},{name:"A7",fullName:"A Dominant 7th",type:"seventh"},{name:"B7",fullName:"B Dominant 7th",type:"seventh"}],maj7:[{name:"Cmaj7",fullName:"C Major 7th",type:"maj7"},{name:"Dmaj7",fullName:"D Major 7th",type:"maj7"},{name:"Emaj7",fullName:"E Major 7th",type:"maj7"},{name:"Fmaj7",fullName:"F Major 7th",type:"maj7"},{name:"Gmaj7",fullName:"G Major 7th",type:"maj7"},{name:"Amaj7",fullName:"A Major 7th",type:"maj7"},{name:"Bmaj7",fullName:"B Major 7th",type:"maj7"}],sus:[{name:"Csus4",fullName:"C Suspended 4th",type:"sus"},{name:"Dsus4",fullName:"D Suspended 4th",type:"sus"},{name:"Esus4",fullName:"E Suspended 4th",type:"sus"},{name:"Fsus4",fullName:"F Suspended 4th",type:"sus"},{name:"Gsus4",fullName:"G Suspended 4th",type:"sus"},{name:"Asus4",fullName:"A Suspended 4th",type:"sus"},{name:"Bsus4",fullName:"B Suspended 4th",type:"sus"}]};function MI(){return[...yo.major,...yo.minor,...yo.seventh,...yo.maj7,...yo.sus]}function VI({user:r,onBack:e,onCreated:i}){const[s,o]=se.useState(""),[u,d]=se.useState([]),[g,y]=se.useState(""),[v,S]=se.useState(4),[w,D]=se.useState("    "),[H,Z]=se.useState(100),[$,W]=se.useState(""),le=MI(),fe=()=>{if(!g)return;const ie=le.find(re=>re.name===g);ie&&(d([...u,{name:ie.name,fullName:ie.fullName,repeat:v}]),S(4))},G=ie=>{d(u.filter((re,R)=>R!==ie))},oe=ie=>{if(ie.preventDefault(),!s.trim()||u.length===0)return;const re=EI({title:s.trim(),chords:u,strumPattern:w.trim(),bpm:H,author:r.name,youtubeUrl:$.trim()});if(re){const R=kh(50);R.leveledUp&&alert(` TEBRKLER!
Seviye Atladn: ${R.newLevel}`),i(re)}};return m.jsx("section",{className:"create-rhythm-page",children:m.jsxs("div",{className:"create-container",children:[m.jsxs("div",{className:"create-header",children:[m.jsx("span",{className:"create-icon",children:""}),m.jsx("h1",{children:"Yeni Ritim Olutur"}),m.jsx("p",{children:"Ritim kalbn tanmla, akorlarn ekle ve toplulua payla"})]}),m.jsxs("form",{className:"create-form",onSubmit:oe,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" Balk"}),m.jsx("input",{type:"text",value:s,onChange:ie=>o(ie.target.value),placeholder:"r: Lady in Black Rhythm",className:"form-input"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" Ritim Kalb"}),m.jsx("input",{type:"text",value:w,onChange:ie=>D(ie.target.value),placeholder:"r:      veya D D U D U",className:"form-input strum-input"}),m.jsxs("div",{className:"strum-helpers",children:[m.jsx("span",{className:"helper-label",children:"Hzl ekle:"}),m.jsx("button",{type:"button",className:"strum-btn",onClick:()=>D(ie=>ie+""),children:""}),m.jsx("button",{type:"button",className:"strum-btn",onClick:()=>D(ie=>ie+""),children:""}),m.jsx("button",{type:"button",className:"strum-btn",onClick:()=>D(ie=>ie+" x"),children:"x"}),m.jsx("button",{type:"button",className:"strum-btn",onClick:()=>D(ie=>ie+" "),children:""}),m.jsx("button",{type:"button",className:"strum-btn clear",onClick:()=>D(""),children:"Temizle"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" BPM (Tempo)"}),m.jsxs("div",{className:"bpm-control",children:[m.jsx("button",{type:"button",className:"bpm-btn",onClick:()=>Z(Math.max(40,H-5)),children:""}),m.jsx("input",{type:"number",value:H,onChange:ie=>Z(Math.max(40,Math.min(240,parseInt(ie.target.value)||100))),className:"bpm-input",min:"40",max:"240"}),m.jsx("button",{type:"button",className:"bpm-btn",onClick:()=>Z(Math.min(240,H+5)),children:"+"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" Akor Ekle"}),m.jsxs("div",{className:"add-chord-row",children:[m.jsxs("select",{value:g,onChange:ie=>y(ie.target.value),className:"chord-select",children:[m.jsx("option",{value:"",children:"Akor se..."}),le.map(ie=>m.jsxs("option",{value:ie.name,children:[ie.name,"  ",ie.fullName]},ie.name))]}),m.jsxs("div",{className:"repeat-control",children:[m.jsx("span",{className:"repeat-label",children:"Tekrar:"}),m.jsx("button",{type:"button",className:"repeat-btn",onClick:()=>S(Math.max(1,v-1)),children:""}),m.jsx("span",{className:"repeat-value",children:v}),m.jsx("button",{type:"button",className:"repeat-btn",onClick:()=>S(Math.min(32,v+1)),children:"+"})]}),m.jsx("button",{type:"button",className:"add-chord-btn",onClick:fe,disabled:!g,children:"Ekle"})]})]}),u.length>0&&m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" Akor Sralamas"}),m.jsx("div",{className:"chord-sequence",children:u.map((ie,re)=>m.jsxs("div",{className:"chord-item",children:[m.jsx("span",{className:"chord-index",children:re+1}),m.jsx("span",{className:"chord-name",children:ie.name}),m.jsxs("span",{className:"chord-repeat",children:["",ie.repeat]}),m.jsx("button",{type:"button",className:"remove-chord-btn",onClick:()=>G(re),children:""})]},re))})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" YouTube Video Linki (Opsiyonel)"}),m.jsx("input",{type:"text",value:$,onChange:ie=>W(ie.target.value),placeholder:"r: https://youtu.be/...",className:"form-input"})]}),m.jsx("div",{className:"form-actions",children:m.jsx("button",{type:"submit",className:"submit-btn",disabled:!s.trim()||u.length===0,children:" Ritmi Kaydet"})})]})]})})}const jI=["","","","","","","","","","","","","","","",""],LI=["#ff6b35","#00ff9f","#ff3366","#6c5ce7","#00cec9","#fdcb6e","#e17055","#0984e3","#d63031","#00b894","#e84393","#2d3436"];function g0({user:r,onBack:e,onCreated:i,initialData:s}){const[o,u]=se.useState(s?.title||""),[d,g]=se.useState(s?.shortDesc||""),[y,v]=se.useState(s?.content||""),[S,w]=se.useState(s?.youtubeUrl||""),[D,H]=se.useState(s?.icon||""),[Z,$]=se.useState(s?.color||"#ff6b35"),W=o.trim()&&d.trim()&&y.trim(),le=!!s,fe=G=>{if(G.preventDefault(),!W)return;const oe={title:o.trim(),shortDesc:d.trim(),content:y.trim(),youtubeUrl:S.trim(),icon:D,color:Z,author:s?.author||r.name||"Anonim"};if(le)_I(s.id,oe),i({...s,...oe});else{const ie=NI(oe),re=kh(100);re.leveledUp&&alert(` TEBRKLER!
Seviye Atladn: ${re.newLevel}`),i(ie)}};return m.jsx("section",{className:"create-article-page",children:m.jsxs("div",{className:"create-article-container",children:[m.jsxs("div",{className:"create-article-header",children:[m.jsx("span",{className:"create-article-icon",children:le?"":""}),m.jsx("h1",{children:le?"Makaleyi Dzenle":"Yeni Makale Olutur"}),m.jsx("p",{children:le?"eriini gncelle ve kaydet":"Bilgini toplulukla payla, gitar dnyasna katkda bulun"})]}),m.jsxs("form",{className:"create-article-form",onSubmit:fe,children:[!r.name&&m.jsxs("div",{className:"guest-warning",children:[" Giri yapmadnz iin bu makaleyi daha sonra ",m.jsx("strong",{children:"dzenleyemezsiniz"})," veya ",m.jsx("strong",{children:"silemezsiniz"}),"."]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{children:[" Makale Bal ",m.jsx("span",{className:"required",children:"*"})]}),m.jsx("input",{type:"text",value:o,onChange:G=>u(G.target.value),placeholder:"r: Barre Akor Geileri",className:"form-input",maxLength:100})]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{children:[" Ksa Aklama ",m.jsx("span",{className:"required",children:"*"})]}),m.jsx("input",{type:"text",value:d,onChange:G=>g(G.target.value),placeholder:"Makale kartnda grnecek ksa aklama",className:"form-input",maxLength:200})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" kon Se"}),m.jsx("div",{className:"picker-grid emoji-picker",children:jI.map(G=>m.jsx("button",{type:"button",className:`picker-item ${D===G?"active":""}`,onClick:()=>H(G),children:G},G))})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" Renk Se"}),m.jsx("div",{className:"picker-grid color-picker",children:LI.map(G=>m.jsx("button",{type:"button",className:`color-item ${Z===G?"active":""}`,style:{background:G},onClick:()=>$(G)},G))})]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{children:[" Makale erii ",m.jsx("span",{className:"required",children:"*"})]}),m.jsxs("div",{className:"content-hint",children:[" Balklar iin ",m.jsx("code",{children:"##"}),", alt balklar iin ",m.jsx("code",{children:"###"}),", listeler iin ",m.jsx("code",{children:"-"})," kullanabilirsiniz"]}),m.jsx("textarea",{value:y,onChange:G=>v(G.target.value),placeholder:`## Giri

Burada tekniin ne olduunu aklayn...

## Nasl Yaplr?

1. lk adm
2. kinci adm

## pular

- pucu 1
- pucu 2`,className:"form-textarea",rows:14})]}),m.jsxs("div",{className:"preview-section",children:[m.jsx("h3",{children:" nizleme"}),m.jsxs("div",{className:"preview-card",style:{"--card-accent":Z},children:[m.jsx("div",{className:"preview-accent"}),m.jsxs("div",{className:"preview-body",children:[m.jsx("span",{className:"preview-icon",children:D}),m.jsx("h4",{children:o||"Makale Bal"}),m.jsx("p",{children:d||"Ksa aklama burada grnecek"})]})]})]}),m.jsx("button",{type:"submit",className:"submit-article-btn",disabled:!W,children:" Makaleyi Yaynla"})]})]})})}function PI({rhythmId:r,user:e,onBack:i,onExercise:s,onDeleted:o}){const[u,d]=se.useState(null);if(se.useEffect(()=>{r&&d(TI(r))},[r]),!u)return m.jsx("section",{className:"rhythm-detail-page",children:m.jsx("div",{className:"detail-container",children:m.jsx("div",{className:"not-found",children:"Ritim bulunamad."})})});const g=()=>{window.confirm("Bu ritmi silmek istediinize emin misiniz?")&&(SI(u.id),o())},y=v=>new Date(v).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"});return m.jsx("section",{className:"rhythm-detail-page",children:m.jsx("div",{className:"detail-container",children:m.jsxs("div",{className:"detail-card",children:[m.jsxs("div",{className:"detail-header",children:[m.jsxs("div",{className:"detail-title-section",children:[m.jsx("h1",{children:u.title}),m.jsxs("div",{className:"detail-meta",children:[m.jsxs("span",{children:[" ",u.author]}),m.jsxs("span",{children:[" ",y(u.createdAt)]}),m.jsxs("span",{children:[" ",u.bpm," BPM"]})]})]}),(e.isAdmin||e.name===u.author)&&m.jsx("button",{className:"delete-btn",onClick:g,children:" Sil"})]}),m.jsx(FT,{url:u.youtubeUrl,title:u.title}),m.jsxs("div",{className:"detail-section",children:[m.jsx("h2",{children:" Ritim Kalb"}),m.jsx("div",{className:"strum-display",children:u.strumPattern})]}),m.jsxs("div",{className:"detail-section",children:[m.jsx("h2",{children:" Akor Sralamas"}),m.jsx("div",{className:"chord-progression",children:u.chords.map((v,S)=>m.jsxs("div",{className:"progression-item",style:{"--pi":S},children:[m.jsx("span",{className:"prog-number",children:S+1}),m.jsxs("div",{className:"prog-info",children:[m.jsx("span",{className:"prog-chord",children:v.name}),m.jsxs("span",{className:"prog-repeat",children:[v.repeat," tekrar"]})]})]},S))})]}),m.jsxs("button",{className:"exercise-btn",onClick:()=>s(u),children:[m.jsx("span",{className:"exercise-icon",children:""}),m.jsxs("div",{className:"exercise-text",children:[m.jsx("span",{className:"exercise-title",children:"Egzersiz Yap"}),m.jsx("span",{className:"exercise-subtitle",children:"Gelimi metronom ile pratik yap"})]})]})]})})})}function UI({rhythm:r,onBack:e}){const[i,s]=se.useState(!1),[o,u]=se.useState(r.bpm||100),[d,g]=se.useState(0),[y,v]=se.useState(0),[S,w]=se.useState(0),[D]=se.useState(4),H=se.useRef(null),Z=se.useRef(null),$=se.useRef(0),W=se.useRef(0),le=se.useCallback(I=>r.chords[I]?r.chords[I].repeat*D:4,[r.chords,D]),fe=se.useCallback(()=>(H.current||(H.current=new(window.AudioContext||window.webkitAudioContext)),H.current),[]),G=se.useCallback(I=>{try{const O=fe(),C=O.createOscillator(),je=O.createGain();C.connect(je),je.connect(O.destination),C.frequency.setValueAtTime(I?1e3:700,O.currentTime),C.type="sine",je.gain.setValueAtTime(I?.3:.15,O.currentTime),je.gain.exponentialRampToValueAtTime(.001,O.currentTime+.1),C.start(O.currentTime),C.stop(O.currentTime+.1)}catch{}},[fe]),oe=se.useCallback(()=>{const I=60/o*1e3;$.current=0,W.current=0,g(0),v(0),w(0),G(!0),Z.current=setInterval(()=>{$.current++;const O=$.current%D;G(O===0),g(O),w($.current);const je=le(W.current);if($.current>=je){$.current=0,w(0);const tt=W.current+1;tt>=r.chords.length?W.current=0:W.current=tt,v(W.current)}},I)},[o,D,G,le,r.chords.length]),ie=se.useCallback(()=>{Z.current&&(clearInterval(Z.current),Z.current=null)},[]),re=()=>{i?ie():oe(),s(!i)},R=()=>{ie(),s(!1),g(0),v(0),w(0),$.current=0,W.current=0};se.useEffect(()=>()=>{ie(),H.current&&H.current.close()},[ie]),se.useEffect(()=>{i&&(ie(),oe())},[o]);const A=r.chords[y],N=le(y),k=N>0?S/N*100:0;return m.jsx("section",{className:"exercise-page",children:m.jsxs("div",{className:"exercise-container",children:[m.jsxs("div",{className:"exercise-header",children:[m.jsx("h1",{children:" Egzersiz Modu"}),m.jsx("p",{className:"exercise-song-title",children:r.title})]}),m.jsxs("div",{className:"metronome-card",children:[m.jsxs("div",{className:"chord-spotlight",children:[m.jsx("div",{className:`chord-circle ${i?"playing":""}`,children:m.jsx("span",{className:"chord-letter",children:A?.name||""})}),m.jsxs("div",{className:"chord-info",children:[m.jsx("span",{className:"chord-fullname",children:A?.fullName||A?.name||""}),m.jsxs("span",{className:"chord-remaining",children:["Tekrar: ",Math.floor(S/D)+1," / ",A?.repeat||1]})]})]}),m.jsx("div",{className:"chord-progress-bar",children:m.jsx("div",{className:"chord-progress-fill",style:{width:`${Math.min(100,k)}%`}})}),m.jsx("div",{className:"beat-indicators",children:Array.from({length:D},(I,O)=>m.jsx("div",{className:`beat-dot ${O===d&&i?"active":""} ${O===0?"accent":""}`,children:O+1},O))}),m.jsxs("div",{className:"exercise-strum",children:[m.jsx("span",{className:"strum-label",children:"Ritim Kalb:"}),m.jsx("span",{className:"strum-value",children:r.strumPattern})]}),m.jsxs("div",{className:"metronome-controls",children:[m.jsx("button",{className:"control-btn reset-btn",onClick:R,children:""}),m.jsx("button",{className:`control-btn play-btn ${i?"playing":""}`,onClick:re,children:i?"":""})]}),m.jsxs("div",{className:"bpm-section",children:[m.jsx("span",{className:"bpm-label",children:"Tempo"}),m.jsxs("div",{className:"bpm-slider-row",children:[m.jsx("button",{className:"bpm-adj",onClick:()=>u(Math.max(40,o-5)),children:"5"}),m.jsx("button",{className:"bpm-adj small",onClick:()=>u(Math.max(40,o-1)),children:"1"}),m.jsxs("div",{className:"bpm-display",children:[o," ",m.jsx("small",{children:"BPM"})]}),m.jsx("button",{className:"bpm-adj small",onClick:()=>u(Math.min(240,o+1)),children:"+1"}),m.jsx("button",{className:"bpm-adj",onClick:()=>u(Math.min(240,o+5)),children:"+5"})]}),m.jsx("input",{type:"range",min:"40",max:"240",value:o,onChange:I=>u(parseInt(I.target.value)),className:"bpm-range"})]})]}),m.jsxs("div",{className:"progression-overview",children:[m.jsx("h3",{children:"Akor Sralamas"}),m.jsx("div",{className:"progression-chips",children:r.chords.map((I,O)=>m.jsxs("div",{className:`prog-chip ${O===y?"current":""} ${O<y?"done":""}`,children:[m.jsx("span",{className:"chip-name",children:I.name}),m.jsxs("span",{className:"chip-repeat",children:["",I.repeat]})]},O))})]})]})})}const Os=[{id:"em",name:"Em",fullName:"E Minor",difficulty:"beginner",description:"Karanlk ve derin. Metal ve Rock arklarnn favorisi.",frets:[0,2,2,0,0,0],fingers:[0,2,3,0,0,0],tips:["Gitarda renilecek en kolay akordur - sadece 2 parmak kullanlr.","Orta parman 5. telin 2. perdesine, yzk parman 4. telin 2. perdesine koy.","Tm tellere serbeste vurabilirsin, hepsi ak veya basl.","Em  G geii ok doaldr, birlikte pratik yap."],fingerPlacement:[{string:"5. tel (A)",fret:"2. perde",finger:"Orta parmak"},{string:"4. tel (D)",fret:"2. perde",finger:"Yzk parmak"}],commonSongs:["Nothing Else Matters - Metallica","Wish You Were Here - Pink Floyd","Horse With No Name - America"]},{id:"am",name:"Am",fullName:"A Minor",difficulty:"beginner",description:"Melankolik ve duygusal. Rock ve pop mzikte en sk kullanlan minr akor.",frets:[-1,0,2,2,1,0],fingers:[0,0,2,3,1,0],tips:["aret parman 2. telin 1. perdesine, orta parman 4. telin 2. perdesine, yzk parman 3. telin 2. perdesine koy.","6. tel (kaln E) alnmaz - sadece 5 teli vur.","Am  C geii ok yaygndr, yzk parman yerinde kalr.","Am  Em geii de kolaydr, sk pratik yap."],fingerPlacement:[{string:"2. tel (B)",fret:"1. perde",finger:"aret parmak"},{string:"4. tel (D)",fret:"2. perde",finger:"Orta parmak"},{string:"3. tel (G)",fret:"2. perde",finger:"Yzk parmak"}],commonSongs:["Stairway to Heaven - Led Zeppelin","Losing My Religion - R.E.M.","House of the Rising Sun - Animals"]},{id:"e",name:"E",fullName:"E Major",difficulty:"beginner",description:"Gl ve dolu. Rock ve Blues mziin kral.",frets:[0,2,2,1,0,0],fingers:[0,2,3,1,0,0],tips:["Am akorunun bir tel aa kaydrlm halidir.","Tm 6 tel alnr - en dolgun akorlardan biridir.","aret parman 3. telin 1. perdesine koy, orta ve yzk parmaklar 4. ve 5. tellerin 2. perdelerine.","Blues ve Rock arklarda ok sk kullanlr."],fingerPlacement:[{string:"3. tel (G)",fret:"1. perde",finger:"aret parmak"},{string:"5. tel (A)",fret:"2. perde",finger:"Orta parmak"},{string:"4. tel (D)",fret:"2. perde",finger:"Yzk parmak"}],commonSongs:["Back in Black - AC/DC","Smoke on the Water - Deep Purple","Seven Nation Army - White Stripes"]},{id:"a",name:"A",fullName:"A Major",difficulty:"beginner",description:"Pozitif ve aydnlk. Ykselen bir hissiyat verir.",frets:[-1,0,2,2,2,0],fingers:[0,0,1,2,3,0],tips:["3 parmak yan yana 2. perde zerinde durur - kompakt bir ekildir.","6. tel alnmaz, 5. tel ak alnr.","Parmaklar hafif dikey tutarak teller birbirine demesin.","A  D  E klasik rock ilerlemesidir."],fingerPlacement:[{string:"4. tel (D)",fret:"2. perde",finger:"aret parmak"},{string:"3. tel (G)",fret:"2. perde",finger:"Orta parmak"},{string:"2. tel (B)",fret:"2. perde",finger:"Yzk parmak"}],commonSongs:["Knockin on Heavens Door - Bob Dylan","Brown Eyed Girl - Van Morrison","Hey Jude - Beatles"]},{id:"d",name:"D",fullName:"D Major",difficulty:"beginner",description:"Neeli ve enerjik. Genellikle arklarn nakarat ksmlarnda duyulur.",frets:[-1,-1,0,2,3,2],fingers:[0,0,0,1,3,2],tips:["Sadece ince 4 tel alnr (D, G, B, e).","gen eklinde bir pozisyon oluturur.","aret parma 3. tel 2. perde, orta parmak 1. tel 2. perde, yzk parmak 2. tel 3. perde.","D  A geii ok yaygn ve kolaydr."],fingerPlacement:[{string:"3. tel (G)",fret:"2. perde",finger:"aret parmak"},{string:"1. tel (e)",fret:"2. perde",finger:"Orta parmak"},{string:"2. tel (B)",fret:"3. perde",finger:"Yzk parmak"}],commonSongs:["Sweet Home Alabama - Lynyrd Skynyrd","Here Comes the Sun - Beatles","Wonderwall - Oasis"]},{id:"dm",name:"Dm",fullName:"D Minor",difficulty:"beginner",description:"Hznl ama umutlu. Baladlarn vazgeilmezi.",frets:[-1,-1,0,2,3,1],fingers:[0,0,0,2,3,1],tips:["D Major'e ok benzer ama 1. tel 1. perdeye iner.","aret parma 1. tel 1. perde, orta parmak 3. tel 2. perde, yzk parmak 2. tel 3. perde.","Sadece ince 4 tel alnr.","Dm  Am  E klasik bir ilerleme rneidir."],fingerPlacement:[{string:"1. tel (e)",fret:"1. perde",finger:"aret parmak"},{string:"3. tel (G)",fret:"2. perde",finger:"Orta parmak"},{string:"2. tel (B)",fret:"3. perde",finger:"Yzk parmak"}],commonSongs:["Sultans of Swing - Dire Straits","Californication - RHCP","The Sound of Silence - Simon & Garfunkel"]},{id:"c",name:"C",fullName:"C Major",difficulty:"beginner",description:"Parlak ve mutlu. ou popler arknn temel ta.",frets:[-1,3,2,0,1,0],fingers:[0,3,2,0,1,0],tips:["Parmaklar 3 farkl perdeye yaylr - geni bir alm gerektirir.","aret parma 2. tel 1. perde, orta parmak 4. tel 2. perde, yzk parmak 5. tel 3. perde.","6. tel alnmaz.","C  G  Am  F dnyann en popler akor ilerlemesidir."],fingerPlacement:[{string:"2. tel (B)",fret:"1. perde",finger:"aret parmak"},{string:"4. tel (D)",fret:"2. perde",finger:"Orta parmak"},{string:"5. tel (A)",fret:"3. perde",finger:"Yzk parmak"}],commonSongs:["Let It Be - Beatles","No Woman No Cry - Bob Marley","Someone Like You - Adele"]},{id:"g",name:"G",fullName:"G Major",difficulty:"beginner",description:"Geni ve ferah. Akustik gitarn en sevilen akoru.",frets:[3,2,0,0,0,3],fingers:[2,1,0,0,0,3],tips:["Tm 6 tel alnr - ok dolgun bir ses verir.","Orta parmak 6. tel 3. perde, iaret parmak 5. tel 2. perde, yzk parmak 1. tel 3. perde.","G  C geiinde orta parmak kayarak gider, bunu pratik et.","G  Em geii en kolay geilerden biridir."],fingerPlacement:[{string:"5. tel (A)",fret:"2. perde",finger:"aret parmak"},{string:"6. tel (E)",fret:"3. perde",finger:"Orta parmak"},{string:"1. tel (e)",fret:"3. perde",finger:"Yzk parmak"}],commonSongs:["Wish You Were Here - Pink Floyd","Wonderwall - Oasis","Country Roads - John Denver"]},{id:"b7",name:"B7",fullName:"B Dominant 7",difficulty:"intermediate",description:"Blues tonlarnda ska kullanlan gergin ama zlmeyi bekleyen bir akor.",frets:[-1,2,1,2,0,2],fingers:[0,2,1,3,0,4],tips:["4 parman hepsini kullanrsn - parmak bamszl gelitirir.","aret parma 4. tel 1. perde, orta parmak 5. tel 2. perde, yzk parmak 3. tel 2. perde, sere parmak 1. tel 2. perde.","B7  Em ok gl bir zlme salar.","Blues ilerlemelerinde mutlaka karlarsn."],fingerPlacement:[{string:"4. tel (D)",fret:"1. perde",finger:"aret parmak"},{string:"5. tel (A)",fret:"2. perde",finger:"Orta parmak"},{string:"3. tel (G)",fret:"2. perde",finger:"Yzk parmak"},{string:"1. tel (e)",fret:"2. perde",finger:"Sere parmak"}],commonSongs:["Hey Joe - Jimi Hendrix","Folsom Prison Blues - Johnny Cash","Dust in the Wind - Kansas"]},{id:"cadd9",name:"Cadd9",fullName:"C Added 9",difficulty:"intermediate",description:"G akoruna geii ok kolay olan, modern pop ve country favorisi.",frets:[-1,3,2,0,3,3],fingers:[0,2,1,0,3,4],tips:["C Major'e ok benzer ama 1. ve 2. telde farkllk var.","G akoruna geerken sadece 2 parmak hareket eder.","Ak ve ngrdayan bir ses verir - akustik gitar iin mkemmel.","Wonderwall gibi arklarda G yerine kullanlr."],fingerPlacement:[{string:"4. tel (D)",fret:"2. perde",finger:"aret parmak"},{string:"5. tel (A)",fret:"3. perde",finger:"Orta parmak"},{string:"2. tel (B)",fret:"3. perde",finger:"Yzk parmak"},{string:"1. tel (e)",fret:"3. perde",finger:"Sere parmak"}],commonSongs:["Wonderwall - Oasis","Good Riddance - Green Day","Yellow - Coldplay"]},{id:"a5",name:"A5",fullName:"A Power Chord",difficulty:"intermediate",description:"Rock ve Metal mziin temeli. Sadece kk ses ve 5. dereceden oluur.",frets:[-1,0,2,2,-1,-1],fingers:[0,0,1,1,0,0],tips:["Power chord'lar ne majr ne minrdr - ntr ve gl bir ses verir.","aret parman 4. ve 3. tellerin 2. perdesine yatr (mini barre).","Distortion pedal ile harika bir ses karr.","Sadece 2-3 tel alnr, dierlerini sustur."],fingerPlacement:[{string:"5. tel (A)",fret:"Ak",finger:"-"},{string:"4. tel (D)",fret:"2. perde",finger:"aret parmak"},{string:"3. tel (G)",fret:"2. perde",finger:"aret parmak (barre)"}],commonSongs:["Smells Like Teen Spirit - Nirvana","Iron Man - Black Sabbath","TNT - AC/DC"]},{id:"e5",name:"E5",fullName:"E Power Chord",difficulty:"intermediate",description:"En kaln, en gl akor. Distortion ile harika tnlar.",frets:[0,2,2,-1,-1,-1],fingers:[0,1,1,0,0,0],tips:["Sadece kaln 3 tel alnr.","Ak E teli kk ses olarak alar.","Drop D akort ile daha da kolay hale gelir.","Metal rifflerinin yap tadr."],fingerPlacement:[{string:"6. tel (E)",fret:"Ak",finger:"-"},{string:"5. tel (A)",fret:"2. perde",finger:"aret parmak"},{string:"4. tel (D)",fret:"2. perde",finger:"aret parmak (barre)"}],commonSongs:["Smoke on the Water - Deep Purple","You Really Got Me - The Kinks","Blitzkrieg Bop - Ramones"]},{id:"f5",name:"F5",fullName:"F Power Chord",difficulty:"intermediate",description:"Sert ve keskin. Punk ve Grunge paralarnda ska kullanlr.",frets:[1,3,3,-1,-1,-1],fingers:[1,3,4,0,0,0],tips:["E5 eklinin 1 perde kaydrlm halidir.","aret parma 6. tel 1. perde, yzk ve sere parmaklar 5. ve 4. teller 3. perde.","F bare akorunun basitletirilmi halidir - nce bunu ren.","Hzl perde geileri iin ideal."],fingerPlacement:[{string:"6. tel (E)",fret:"1. perde",finger:"aret parmak"},{string:"5. tel (A)",fret:"3. perde",finger:"Yzk parmak"},{string:"4. tel (D)",fret:"3. perde",finger:"Sere parmak"}],commonSongs:["Basket Case - Green Day","Brain Stew - Green Day","American Idiot - Green Day"]},{id:"g5",name:"G5",fullName:"G Power Chord",difficulty:"intermediate",description:"Gl ve dolgun. Rock rifflerinin vazgeilmezi.",frets:[3,5,5,-1,-1,-1],fingers:[1,3,4,0,0,0],tips:["E5 eklinin 3. perdeden balayan versiyonudur.","aret parma 6. tel 3. perde, yzk ve sere parmak 5. ve 4. teller 5. perde.","G5  A5  C5 ok yaygn bir power chord ilerlemesidir.","Rock ve punk arklarda srekli kullanlr."],fingerPlacement:[{string:"6. tel (E)",fret:"3. perde",finger:"aret parmak"},{string:"5. tel (A)",fret:"5. perde",finger:"Yzk parmak"},{string:"4. tel (D)",fret:"5. perde",finger:"Sere parmak"}],commonSongs:["Highway to Hell - AC/DC","Paranoid - Black Sabbath","Rock You Like a Hurricane - Scorpions"]},{id:"c5",name:"C5",fullName:"C Power Chord",difficulty:"intermediate",description:"Net ve gl. Pop-punk ve alternatif rock arklarnda popler.",frets:[-1,3,5,5,-1,-1],fingers:[0,1,3,4,0,0],tips:["5. telden balayan power chord eklidir.","aret parma 5. tel 3. perde, yzk ve sere parmak 4. ve 3. teller 5. perde.","A5 eklinin 3 perde yukar kaydrlm halidir.","Pop-punk ve alternatif rock'ta ok yaygn."],fingerPlacement:[{string:"5. tel (A)",fret:"3. perde",finger:"aret parmak"},{string:"4. tel (D)",fret:"5. perde",finger:"Yzk parmak"},{string:"3. tel (G)",fret:"5. perde",finger:"Sere parmak"}],commonSongs:["Dammit - Blink 182","All The Small Things - Blink 182","Sugar We're Goin Down - Fall Out Boy"]},{id:"d5",name:"D5",fullName:"D Power Chord",difficulty:"intermediate",description:"Hzl ve atak. Hard Rock paralarnda ska duyulur.",frets:[-1,5,7,7,-1,-1],fingers:[0,1,3,4,0,0],tips:["Yksek perdelerden alnan bir power chord.","aret parma 5. tel 5. perde, yzk ve sere parmak 4. ve 3. teller 7. perde.","A5 eklinin 5. perdeden balamasdr.","Hard rock ve metal'de ska kullanlr."],fingerPlacement:[{string:"5. tel (A)",fret:"5. perde",finger:"aret parmak"},{string:"4. tel (D)",fret:"7. perde",finger:"Yzk parmak"},{string:"3. tel (G)",fret:"7. perde",finger:"Sere parmak"}],commonSongs:["Enter Sandman - Metallica","Master of Puppets - Metallica","Crazy Train - Ozzy Osbourne"]},{id:"f",name:"F",fullName:"F Major",difficulty:"advanced",description:"Zorlu bare akoru. Geilerde zenginlik katar.",frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barre:{fret:1,from:1,to:6},tips:["lk bare akor - iaret parman tm telleri 1. perdede basmas gerekir.","aret parman biraz yana yatr (kemik ksmyla bas).","Baparman sapn arkasnda, orta hizaya koy - g buradan gelir.","Bata zor gelir ama bare akorlarn kapsn aar. Her gn 5 dakika pratik yap.","nce sadece bare ksmn altr, tm teller temiz alana kadar."],fingerPlacement:[{string:"Tm teller",fret:"1. perde",finger:"aret parmak (Bare)"},{string:"3. tel (G)",fret:"2. perde",finger:"Orta parmak"},{string:"5. tel (A)",fret:"3. perde",finger:"Yzk parmak"},{string:"4. tel (D)",fret:"3. perde",finger:"Sere parmak"}],commonSongs:["Hotel California - Eagles","Hey There Delilah - Plain White T's","Can't Help Falling in Love - Elvis"]},{id:"bm",name:"Bm",fullName:"B Minor",difficulty:"advanced",description:"Duygusal ve youn. Rock baladlarnn vazgeilmezi.",frets:[-1,2,4,4,3,2],fingers:[0,1,3,4,2,1],barre:{fret:2,from:1,to:5},tips:["Am bare eklinin 2. perdeden balayan versiyonudur.","aret parman 2. perdede 1-5. telleri basar.","F akorunu rahat alabiliyorsan Bm daha kolay gelecektir.","6. tel alnmaz - sadece 5 tel.","Bm  D  G  A ok popler bir ilerleme."],fingerPlacement:[{string:"1-5. teller",fret:"2. perde",finger:"aret parmak (Bare)"},{string:"2. tel (B)",fret:"3. perde",finger:"Orta parmak"},{string:"4. tel (D)",fret:"4. perde",finger:"Yzk parmak"},{string:"3. tel (G)",fret:"4. perde",finger:"Sere parmak"}],commonSongs:["Zombie - Cranberries","Nothing Else Matters - Metallica","Creep - Radiohead"]}],YT={beginner:"Balang",intermediate:"Orta Dzey",advanced:"Zor"};function zI(r){const e=r.toLowerCase().trim();return e?Os.filter(i=>i.name.toLowerCase().includes(e)||i.fullName.toLowerCase().includes(e)):Os}const KT=({chord:r,size:e="normal"})=>{const{frets:i,fingers:s,barre:o}=r,u=e==="large",d=u?220:140,g=u?250:160,y=u?35:25,v=d-y*2,S=g-y*2,w=v/5,D=S/5,H=u?13:9,Z=u?14:11;return m.jsxs("svg",{width:d,height:g,className:"chord-svg",viewBox:`0 0 ${d} ${g}`,children:[[0,1,2,3,4,5].map($=>m.jsx("line",{x1:y,y1:y+$*D,x2:d-y,y2:y+$*D,stroke:"currentColor",strokeWidth:$===0?4:1,className:"fret-line",opacity:$===0?1:.3},`f-${$}`)),[0,1,2,3,4,5].map($=>m.jsx("line",{x1:y+$*w,y1:y,x2:y+$*w,y2:g-y,stroke:"currentColor",strokeWidth:$<3?1:2,className:"string-line",opacity:"0.6"},`s-${$}`)),o&&m.jsx("rect",{x:y+(o.from-1)*w,y:y+o.fret*D-(u?8:6),width:(o.to-o.from)*w,height:u?16:12,rx:u?8:6,fill:"var(--accent-orange)",className:"barre"}),i.map(($,W)=>$>0?m.jsxs("g",{children:[m.jsx("circle",{cx:y+W*w,cy:y+($-.5)*D,r:H,fill:"var(--accent-orange)",className:"finger-dot"}),s&&s[W]>0&&m.jsx("text",{x:y+W*w,y:y+($-.5)*D+(u?5:4),textAnchor:"middle",fill:"#fff",fontSize:Z,fontWeight:"bold",className:"finger-num",children:s[W]})]},`d-${W}`):null),i.map(($,W)=>{const le=y+W*w,fe=y-12;return $===0?m.jsx("circle",{cx:le,cy:fe+5,r:u?5:4,fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"open-string"},`o-${W}`):$===-1?m.jsx("text",{x:le,y:fe+9,textAnchor:"middle",fill:"currentColor",fontSize:u?16:14,className:"mute-string",children:""},`x-${W}`):null})]})},BI=({chord:r,onBack:e,userChords:i,toggleStatus:s})=>{const o=i.mastered.includes(r.id),u=i.learning.includes(r.id),d=YT[r.difficulty]||r.difficulty,g=r.difficulty;return m.jsxs("div",{className:"chord-detail",children:[m.jsx("button",{className:"detail-back-btn",onClick:e,children:" Geri"}),m.jsxs("div",{className:"detail-hero",children:[m.jsxs("div",{className:"detail-hero-left",children:[m.jsx("span",{className:`detail-diff-badge ${g}`,children:d}),m.jsx("h1",{className:"detail-name",children:r.name}),m.jsx("p",{className:"detail-fullname",children:r.fullName}),m.jsx("p",{className:"detail-desc",children:r.description}),m.jsxs("div",{className:"detail-actions",children:[m.jsx("button",{className:`action-btn btn-master ${o?"active":""}`,onClick:()=>s(r.id,"mastered"),children:o?" Ustassn":" Biliyorum"}),m.jsx("button",{className:`action-btn btn-learn ${u?"active":""}`,onClick:()=>s(r.id,"learning"),children:u?" Listede":"+ ren"})]})]}),m.jsx("div",{className:"detail-hero-right",children:m.jsx("div",{className:"detail-diagram",children:m.jsx(KT,{chord:r,size:"large"})})})]}),m.jsxs("div",{className:"detail-section",children:[m.jsx("h2",{children:"Parmak Yerleimi"}),m.jsxs("div",{className:"finger-table",children:[m.jsxs("div",{className:"finger-table-header",children:[m.jsx("span",{children:"Tel"}),m.jsx("span",{children:"Perde"}),m.jsx("span",{children:"Parmak"})]}),r.fingerPlacement.map((y,v)=>m.jsxs("div",{className:"finger-table-row",children:[m.jsx("span",{className:"ft-string",children:y.string}),m.jsx("span",{className:"ft-fret",children:y.fret}),m.jsx("span",{className:"ft-finger",children:y.finger})]},v))]})]}),m.jsxs("div",{className:"detail-section",children:[m.jsx("h2",{children:"pular ve Teknikler"}),m.jsx("ul",{className:"tips-list",children:r.tips.map((y,v)=>m.jsx("li",{children:y},v))})]}),m.jsxs("div",{className:"detail-section",children:[m.jsx("h2",{children:"Bu Akorla alnan arklar"}),m.jsx("div",{className:"songs-list",children:r.commonSongs.map((y,v)=>m.jsxs("div",{className:"song-item",children:[m.jsx("span",{className:"song-icon",children:""}),m.jsx("span",{children:y})]},v))})]})]})};function HI({onBack:r,user:e}){const[i,s]=se.useState(""),[o,u]=se.useState("library"),[d,g]=se.useState("all"),[y,v]=se.useState(null),[S,w]=se.useState({mastered:[],learning:[]}),D=(()=>{let G=i?zI(i):Os;return d!=="all"&&(G=G.filter(oe=>oe.difficulty===d)),G})(),H=e?.uid||null;se.useEffect(()=>{w(d0()),H&&gI(H).then(oe=>w(oe));const G=()=>w(d0());return window.addEventListener("chordsUpdated",G),()=>window.removeEventListener("chordsUpdated",G)},[H]);const Z=(G,oe)=>{(S.mastered.includes(G)?"mastered":S.learning.includes(G)?"learning":"none")===oe?m0(H,G,"none"):m0(H,G,oe)},$=()=>{const G=S.mastered.map(R=>Os.find(A=>A.id===R)?.name).filter(Boolean).join(", "),oe=S.learning.map(R=>Os.find(A=>A.id===R)?.name).filter(Boolean).join(", "),re=` **Benim Akor Yolculuum** (Seviye ${GT().level})

 **Ustalatm:** ${G||"Henz yok"}
 **reniyorum:** ${oe||"Henz yok"}

#StrumFlow ile alyorum!`;navigator.clipboard.writeText(re),alert("Repertuvar panoya kopyaland! Arkadalarnla paylaabilirsin.")};if(y)return m.jsx("section",{className:"chord-page",children:m.jsx(BI,{chord:y,onBack:()=>v(null),userChords:S,toggleStatus:Z})});const W=G=>{const oe=S.mastered.includes(G.id),ie=S.learning.includes(G.id),re=YT[G.difficulty]||G.difficulty;return m.jsxs("div",{className:`chord-card ${oe?"mastered":""} ${ie?"learning":""}`,onClick:()=>v(G),style:{cursor:"pointer"},children:[m.jsxs("div",{className:"card-top",children:[m.jsx("span",{className:`card-diff-badge ${G.difficulty}`,children:re}),m.jsx("h2",{children:G.name}),m.jsx("span",{className:"chord-full",children:G.fullName})]}),m.jsx("div",{className:"diagram-container",children:m.jsx(KT,{chord:G})}),m.jsx("p",{className:"chord-desc",children:G.description}),m.jsxs("div",{className:"chord-actions",onClick:R=>R.stopPropagation(),children:[m.jsx("button",{className:`action-btn btn-master ${oe?"active":""}`,onClick:()=>Z(G.id,"mastered"),title:"Ustalatm (Biliyorum)",children:oe?" Ustassn":" Biliyorum"}),m.jsx("button",{className:`action-btn btn-learn ${ie?"active":""}`,onClick:()=>Z(G.id,"learning"),title:"renilecekler listesine ekle",children:ie?" Listede":"+ ren"})]})]},G.id)},le=[{key:"all",label:"Tm"},{key:"beginner",label:"Balang"},{key:"intermediate",label:"Orta Dzey"},{key:"advanced",label:"Zor"}],fe=(G,oe,ie)=>{const re=D.filter(R=>R.difficulty===G);return re.length===0?null:m.jsxs("div",{className:"difficulty-section",children:[m.jsxs("div",{className:"difficulty-section-header",children:[m.jsx("span",{className:"diff-emoji",children:ie}),m.jsx("h2",{children:oe}),m.jsxs("span",{className:"diff-count",children:[re.length," akor"]})]}),m.jsx("div",{className:"chord-grid",children:re.map(W)})]},G)};return m.jsxs("section",{className:"chord-page",children:[m.jsxs("div",{className:"chord-header",children:[m.jsx("span",{className:"chord-icon",children:""}),m.jsx("h1",{children:"Akor Ktphanesi"}),m.jsx("p",{children:"Akorlar kefet, repertuvarn olutur ve payla."})]}),m.jsxs("div",{className:"chord-tabs",children:[m.jsx("button",{className:`tab-btn ${o==="library"?"active":""}`,onClick:()=>u("library"),children:" Tm Akorlar"}),m.jsx("button",{className:`tab-btn ${o==="repertoire"?"active":""}`,onClick:()=>u("repertoire"),children:" Repertuvarm"})]}),o==="library"&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"search-container",children:m.jsx("input",{type:"text",placeholder:"Akor ara (r: Am, G, F#m...)",value:i,onChange:G=>s(G.target.value),className:"chord-search"})}),m.jsx("div",{className:"difficulty-filters",children:le.map(G=>m.jsx("button",{className:`diff-filter-btn ${d===G.key?"active":""} ${G.key!=="all"?G.key:""}`,onClick:()=>g(G.key),children:G.label},G.key))}),d==="all"?m.jsxs(m.Fragment,{children:[fe("beginner","Balang",""),fe("intermediate","Orta Dzey",""),fe("advanced","Zor","")]}):m.jsx("div",{className:"chord-grid",children:D.map(W)}),D.length===0&&m.jsx("p",{className:"empty-msg",children:"Aramanzla eleen akor bulunamad."})]}),o==="repertoire"&&m.jsxs("div",{className:"repertoire-view",children:[m.jsxs("div",{className:"repertoire-header",children:[m.jsx("h2",{children:"Benim Yolculuum"}),m.jsx("button",{className:"share-btn",onClick:$,children:" Payla"})]}),m.jsxs("div",{className:"repertoire-section",children:[m.jsxs("h3",{children:[" Ustalatklarm (",S.mastered.length,")"]}),S.mastered.length>0?m.jsx("div",{className:"chord-grid",children:S.mastered.map(G=>{const oe=Os.find(ie=>ie.id===G);return oe?W(oe):null})}):m.jsx("p",{className:"empty-msg",children:"Henz ustalatn bir akor iaretlemedin."})]}),m.jsxs("div",{className:"repertoire-section",children:[m.jsxs("h3",{children:[" reneceklerim (",S.learning.length,")"]}),S.learning.length>0?m.jsx("div",{className:"chord-grid",children:S.learning.map(G=>{const oe=Os.find(ie=>ie.id===G);return oe?W(oe):null})}):m.jsx("p",{className:"empty-msg",children:"renilecekler listen bo."})]})]})]})}function qI(){const[r,e]=se.useState(!1),[i,s]=se.useState({name:"",isAdmin:!1,uid:null}),[o,u]=se.useState(!1),[d,g]=se.useState("home"),[y,v]=se.useState({}),[S,w]=se.useState(null),[D,H]=se.useState(!0),[Z,$]=se.useState(()=>localStorage.getItem("strumflow_theme")||"dark");se.useEffect(()=>{const A=Ew(fh,N=>{if(N){const k=N.email?.split("@")[0]||"Kullanici";s({name:k,isAdmin:!1,uid:N.uid}),e(!0),u(!1)}else i.uid&&(e(!1),s({name:"",isAdmin:!1,uid:null}));H(!1)});return()=>A()},[]),se.useEffect(()=>{document.documentElement.setAttribute("data-theme",Z),localStorage.setItem("strumflow_theme",Z)},[Z]);const W=()=>{$(A=>A==="dark"?"light":"dark")},le=(A,N=!1)=>{s({name:A,isAdmin:N,uid:null}),e(!0),u(!1)},fe=async()=>{try{await Tw(fh)}catch{}localStorage.removeItem("strumflow_user_chords"),localStorage.removeItem("strumflow_profile"),window.dispatchEvent(new Event("chordsUpdated")),e(!1),s({name:"",isAdmin:!1,uid:null})},G=(A,N={})=>{g(A),v(N),window.scrollTo({top:0,behavior:"smooth"})},oe=()=>{g("home"),v({}),w(null),window.scrollTo({top:0,behavior:"smooth"})},ie=()=>{switch(d){case"home":return m.jsx(f0,{onNavigate:G});case"education":return m.jsx(kI,{onNavigate:G,onBack:oe});case"article-view":return m.jsx(DI,{articleId:y.articleId,isLoggedIn:r,user:i,onBack:()=>G("education"),onRequestLogin:()=>u(!0),onNavigate:G});case"chords":return m.jsx(HI,{onBack:oe,user:i});case"create-article":return m.jsx(g0,{user:i,onBack:()=>G("education"),onCreated:A=>G("article-view",{articleId:A.id})});case"edit-article":return m.jsx(g0,{user:i,onBack:()=>G("article-view",{articleId:y.article.id}),onCreated:A=>G("article-view",{articleId:A.id}),initialData:y.article});case"library":return m.jsx(OI,{onNavigate:G,onBack:oe,isLoggedIn:r,onRequestLogin:()=>u(!0)});case"create":return m.jsx(VI,{user:i,onBack:()=>G("library"),onCreated:A=>G("rhythm-detail",{rhythmId:A.id})});case"rhythm-detail":return m.jsx(PI,{rhythmId:y.rhythmId,user:i,onBack:()=>G("library"),onExercise:A=>{w(A),G("exercise")},onDeleted:()=>G("library")});case"exercise":return S?m.jsx(UI,{rhythm:S,onBack:()=>G("rhythm-detail",{rhythmId:S.id})}):null;default:return m.jsx(f0,{onNavigate:G})}},R=(()=>{switch(d){case"education":case"chords":case"library":return oe;case"article-view":case"create-article":return()=>G("education");case"edit-article":return()=>G("article-view",{articleId:y.article?.id});case"create":case"rhythm-detail":return()=>G("library");case"exercise":return()=>G("rhythm-detail",{rhythmId:S?.id});default:return null}})();return m.jsxs("div",{className:"app",children:[m.jsxs("div",{className:"bg-particles",children:[m.jsx("div",{className:"particle"}),m.jsx("div",{className:"particle"}),m.jsx("div",{className:"particle"}),m.jsx("div",{className:"particle"})]}),m.jsx("header",{children:m.jsx("div",{className:"container",children:m.jsxs("div",{className:"header-content",children:[m.jsx("div",{className:"logo",onClick:oe,children:"StrumFlow"}),m.jsxs("nav",{className:"header-nav",children:[m.jsx("button",{className:`header-nav-link${d==="education"||d==="article-view"||d==="create-article"||d==="edit-article"?" active":""}`,onClick:()=>G("education"),children:"Forum"}),m.jsx("button",{className:`header-nav-link${d==="library"||d==="create"||d==="rhythm-detail"||d==="exercise"?" active":""}`,onClick:()=>G("library"),children:"Ritimler"}),m.jsx("button",{className:`header-nav-link${d==="chords"?" active":""}`,onClick:()=>G("chords"),children:"Akorlar"})]}),m.jsxs("div",{className:"header-right",children:[m.jsx("button",{className:"theme-toggle",onClick:W,title:Z==="dark"?"Aydnlk Mod":"Karanlk Mod",children:m.jsx("span",{className:"theme-icon",children:Z==="dark"?"":""})}),r?m.jsxs("div",{className:"user-profile",children:[m.jsxs("span",{className:"user-name",children:[i.isAdmin&&m.jsx("span",{className:"admin-badge",children:"ADMIN"}),i.name]}),m.jsx("button",{className:"logout-btn",onClick:fe,children:"k"})]}):m.jsx("button",{className:"login-btn",onClick:()=>u(!0),children:"Giri Yap"})]})]})})}),o&&m.jsx(oI,{onLogin:le,onClose:()=>u(!1)}),m.jsx("div",{className:"page-enter",children:ie()},d),R&&m.jsx("button",{className:"sticky-back-btn",onClick:R,children:" Geri Dn"})]})}O1.createRoot(document.getElementById("root")).render(m.jsx(se.StrictMode,{children:m.jsx(qI,{})}));
